{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/joachimjohnson/Documents/comp-sci/ZeroFlow/app/components/BarcodeScanner.jsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef } from \"react\";\nimport Quagga from \"quagga\";\n\nexport default function BarcodeScanner({ onDetected, onClose }) {\n  const videoRef = useRef(null);\n\n  useEffect(() => {\n    // Initialize scanner\n    Quagga.init(\n      {\n        inputStream: {\n          type: \"LiveStream\",\n          target: videoRef.current,\n          constraints: {\n            facingMode: \"environment\",\n          },\n        },\n        decoder: {\n          readers: [\"ean_reader\", \"upc_reader\", \"upc_e_reader\"],\n        },\n      },\n      err => {\n        if (err) {\n          console.error(err);\n          return;\n        }\n        Quagga.start();\n      }\n    );\n\n    // When barcode detected\n    Quagga.onDetected(data => {\n      const code = data.codeResult.code;\n      onDetected(code);\n      Quagga.stop();\n    });\n\n    return () => {\n      Quagga.offDetected();\n      Quagga.stop();\n    };\n  }, []);\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-70 flex flex-col items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-xl shadow-xl p-4 w-full max-w-md\">\n        <h2 className=\"text-xl font-semibold mb-4\">Scan Barcode</h2>\n\n        <div ref={videoRef} className=\"w-full h-64 bg-black rounded-lg overflow-hidden\" />\n\n        <button\n          onClick={onClose}\n          className=\"mt-4 w-full bg-slate-900 text-white py-2 rounded-lg hover:bg-slate-800 transition\"\n        >\n          Cancel\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS,eAAe,EAAE,UAAU,EAAE,OAAO,EAAE;;IAC5D,MAAM,WAAW,IAAA,uKAAM,EAAC;IAExB,IAAA,0KAAS;oCAAC;YACR,qBAAqB;YACrB,sJAAM,CAAC,IAAI,CACT;gBACE,aAAa;oBACX,MAAM;oBACN,QAAQ,SAAS,OAAO;oBACxB,aAAa;wBACX,YAAY;oBACd;gBACF;gBACA,SAAS;oBACP,SAAS;wBAAC;wBAAc;wBAAc;qBAAe;gBACvD;YACF;4CACA,CAAA;oBACE,IAAI,KAAK;wBACP,QAAQ,KAAK,CAAC;wBACd;oBACF;oBACA,sJAAM,CAAC,KAAK;gBACd;;YAGF,wBAAwB;YACxB,sJAAM,CAAC,UAAU;4CAAC,CAAA;oBAChB,MAAM,OAAO,KAAK,UAAU,CAAC,IAAI;oBACjC,WAAW;oBACX,sJAAM,CAAC,IAAI;gBACb;;YAEA;4CAAO;oBACL,sJAAM,CAAC,WAAW;oBAClB,sJAAM,CAAC,IAAI;gBACb;;QACF;mCAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAA6B;;;;;;8BAE3C,6LAAC;oBAAI,KAAK;oBAAU,WAAU;;;;;;8BAE9B,6LAAC;oBACC,SAAS;oBACT,WAAU;8BACX;;;;;;;;;;;;;;;;;AAMT;GAxDwB;KAAA"}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":["file:///Users/joachimjohnson/Documents/comp-sci/ZeroFlow/lib/searchFoods.js"],"sourcesContent":["// lib/searchFoods.js\nimport Fuse from \"fuse.js\";\nimport { FOOD_DB } from \"./foods\";\n\nconst fuse = new Fuse(FOOD_DB, {\n  keys: [\"name\", \"category\"],\n  includeScore: true,\n  threshold: 0.35,\n});\n\nexport function searchFoods(query) {\n  if (!query.trim()) return [];\n  return fuse.search(query).slice(0, 8).map(r => r.item);\n}\n"],"names":[],"mappings":"AAAA,qBAAqB;;;;;AACrB;;;;;;;;AAGA,MAAM,OAAO,IAAI,yJAAI,CAAC,SAAS;IAC7B,MAAM;QAAC;QAAQ;KAAW;IAC1B,cAAc;IACd,WAAW;AACb;AAEO,SAAS,YAAY,KAAK;IAC/B,IAAI,CAAC,MAAM,IAAI,IAAI,OAAO,EAAE;IAC5B,OAAO,KAAK,MAAM,CAAC,OAAO,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI;AACvD"}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///Users/joachimjohnson/Documents/comp-sci/ZeroFlow/app/components/FoodAutocomplete.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { searchFoods } from \"@/lib/searchFoods\";\n\nexport default function FoodAutocomplete({ onSelect }) {\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState([]);\n\n  function handleChange(e) {\n    const q = e.target.value;\n    setQuery(q);\n    setResults(searchFoods(q));\n  }\n\n  return (\n    <div className=\"relative w-full\">\n      <input\n        value={query}\n        onChange={handleChange}\n        placeholder=\"Search foods...\"\n        className=\"w-full px-4 py-2 border rounded-lg shadow-sm\"\n      />\n\n      {results.length > 0 && (\n        <ul className=\"absolute z-20 bg-white border mt-2 rounded-xl w-full shadow-xl\">\n          {results.map((item, index) => (\n            <li\n              key={index}\n              onClick={() => {\n                onSelect(item);\n                setQuery(item.name);\n                setResults([]);\n              }}\n              className=\"px-4 py-2 hover:bg-blue-50 cursor-pointer\"\n            >\n              {item.name} â€¢{\" \"}\n              <span className=\"text-slate-500\">{item.calories} cal</span>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS,iBAAiB,EAAE,QAAQ,EAAE;;IACnD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAEzC,SAAS,aAAa,CAAC;QACrB,MAAM,IAAI,EAAE,MAAM,CAAC,KAAK;QACxB,SAAS;QACT,WAAW,IAAA,oIAAW,EAAC;IACzB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,OAAO;gBACP,UAAU;gBACV,aAAY;gBACZ,WAAU;;;;;;YAGX,QAAQ,MAAM,GAAG,mBAChB,6LAAC;gBAAG,WAAU;0BACX,QAAQ,GAAG,CAAC,CAAC,MAAM,sBAClB,6LAAC;wBAEC,SAAS;4BACP,SAAS;4BACT,SAAS,KAAK,IAAI;4BAClB,WAAW,EAAE;wBACf;wBACA,WAAU;;4BAET,KAAK,IAAI;4BAAC;4BAAG;0CACd,6LAAC;gCAAK,WAAU;;oCAAkB,KAAK,QAAQ;oCAAC;;;;;;;;uBAT3C;;;;;;;;;;;;;;;;AAgBnB;GAvCwB;KAAA"}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":["file:///Users/joachimjohnson/Documents/comp-sci/ZeroFlow/lib/findFoodByBarcode.js"],"sourcesContent":["// lib/findFoodByBarcode.js\nimport { FOOD_DB } from \"./foods\";\n\nexport function findFoodByBarcode(code) {\n  return FOOD_DB.find(item => item.barcode === code) || null;\n}\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;;;;;;;AAGpB,SAAS,kBAAkB,IAAI;IACpC,OAAO,QAAQ,IAAI,CAAC,CAAA,OAAQ,KAAK,OAAO,KAAK,SAAS;AACxD"}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///Users/joachimjohnson/Documents/comp-sci/ZeroFlow/app/food/log/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport BarcodeScanner from \"../../components/BarcodeScanner\";\nimport FoodAutocomplete from \"../../components/FoodAutocomplete\";\nimport { findFoodByBarcode } from \"@/lib/findFoodByBarcode\";\n\nexport default function LogFoodPage() {\n  const [showScanner, setShowScanner] = useState(false);\n  const [foodName, setFoodName] = useState(\"\");\n  const [calories, setCalories] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n\n  function handleAutocompleteSelect(item) {\n    setFoodName(item.name);\n    setCalories(item.calories);\n    setCategory(item.category);\n  }\n\n  function handleBarcodeDetected(code) {\n    const match = findFoodByBarcode(code);\n    if (match) {\n      setFoodName(match.name);\n      setCalories(match.calories);\n      setCategory(match.category);\n    } else {\n      alert(`Unknown barcode: ${code}`);\n    }\n    setShowScanner(false);\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    await fetch(\"/api/food/log/route\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ name: foodName, calories, category }),\n    });\n\n    setFoodName(\"\");\n    setCalories(\"\");\n    setCategory(\"\");\n  }\n\n  return (\n    <main className=\"min-h-screen bg-slate-50 px-6 py-10\">\n      <h1 className=\"text-3xl font-semibold mb-8\">Log Food</h1>\n\n      {showScanner && (\n        <BarcodeScanner\n          onDetected={handleBarcodeDetected}\n          onClose={() => setShowScanner(false)}\n        />\n      )}\n\n      <form\n        onSubmit={handleSubmit}\n        className=\"bg-white border rounded-xl shadow-xl p-6 max-w-xl mx-auto flex flex-col gap-4\"\n      >\n        <FoodAutocomplete onSelect={handleAutocompleteSelect} />\n\n        <input\n          value={foodName}\n          onChange={e => setFoodName(e.target.value)}\n          placeholder=\"Food name\"\n          className=\"border px-4 py-2 rounded-lg\"\n        />\n\n        <input\n          value={calories}\n          type=\"number\"\n          onChange={e => setCalories(e.target.value)}\n          placeholder=\"Calories\"\n          className=\"border px-4 py-2 rounded-lg\"\n        />\n\n        <input\n          value={category}\n          onChange={e => setCategory(e.target.value)}\n          placeholder=\"Category\"\n          className=\"border px-4 py-2 rounded-lg\"\n        />\n\n        <button\n          type=\"button\"\n          onClick={() => setShowScanner(true)}\n          className=\"py-2 px-4 rounded-lg border border-blue-700 text-blue-700 hover:bg-blue-50 transition\"\n        >\n          Scan Barcode\n        </button>\n\n        <button\n          type=\"submit\"\n          className=\"py-3 bg-blue-700 text-white font-medium rounded-lg hover:bg-blue-800 transition\"\n        >\n          Log Food\n        </button>\n      </form>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,SAAS,yBAAyB,IAAI;QACpC,YAAY,KAAK,IAAI;QACrB,YAAY,KAAK,QAAQ;QACzB,YAAY,KAAK,QAAQ;IAC3B;IAEA,SAAS,sBAAsB,IAAI;QACjC,MAAM,QAAQ,IAAA,gJAAiB,EAAC;QAChC,IAAI,OAAO;YACT,YAAY,MAAM,IAAI;YACtB,YAAY,MAAM,QAAQ;YAC1B,YAAY,MAAM,QAAQ;QAC5B,OAAO;YACL,MAAM,CAAC,iBAAiB,EAAE,MAAM;QAClC;QACA,eAAe;IACjB;IAEA,eAAe,aAAa,CAAC;QAC3B,EAAE,cAAc;QAEhB,MAAM,MAAM,uBAAuB;YACjC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE,MAAM;gBAAU;gBAAU;YAAS;QAC5D;QAEA,YAAY;QACZ,YAAY;QACZ,YAAY;IACd;IAEA,qBACE,6LAAC;QAAK,WAAU;;0BACd,6LAAC;gBAAG,WAAU;0BAA8B;;;;;;YAE3C,6BACC,6LAAC,kJAAc;gBACb,YAAY;gBACZ,SAAS,IAAM,eAAe;;;;;;0BAIlC,6LAAC;gBACC,UAAU;gBACV,WAAU;;kCAEV,6LAAC,oJAAgB;wBAAC,UAAU;;;;;;kCAE5B,6LAAC;wBACC,OAAO;wBACP,UAAU,CAAA,IAAK,YAAY,EAAE,MAAM,CAAC,KAAK;wBACzC,aAAY;wBACZ,WAAU;;;;;;kCAGZ,6LAAC;wBACC,OAAO;wBACP,MAAK;wBACL,UAAU,CAAA,IAAK,YAAY,EAAE,MAAM,CAAC,KAAK;wBACzC,aAAY;wBACZ,WAAU;;;;;;kCAGZ,6LAAC;wBACC,OAAO;wBACP,UAAU,CAAA,IAAK,YAAY,EAAE,MAAM,CAAC,KAAK;wBACzC,aAAY;wBACZ,WAAU;;;;;;kCAGZ,6LAAC;wBACC,MAAK;wBACL,SAAS,IAAM,eAAe;wBAC9B,WAAU;kCACX;;;;;;kCAID,6LAAC;wBACC,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT;GA9FwB;KAAA"}}]
}