{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/joachimjohnson/Documents/comp-sci/ZeroFlow/app/components/logo.jsx"],"sourcesContent":["\"use client\";\n\nimport { motion } from \"framer-motion\";\n\nexport default function Logo({ size = 48, className = \"\" }) {\n  return (\n    <motion.img\n      src=\"/flowrings_1.svg\"\n      alt=\"ZeroFlow Logo\"\n      width={size}\n      height={size}\n      className={`select-none ${className}`}\n      animate={{ rotate: 360 }}\n      transition={{\n        repeat: Infinity,\n        duration: 12,\n        ease: \"linear\"\n      }}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,KAAK,EAAE,OAAO,EAAE,EAAE,YAAY,EAAE,EAAE;IACxD,qBACE,6LAAC,uMAAM,CAAC,GAAG;QACT,KAAI;QACJ,KAAI;QACJ,OAAO;QACP,QAAQ;QACR,WAAW,CAAC,YAAY,EAAE,WAAW;QACrC,SAAS;YAAE,QAAQ;QAAI;QACvB,YAAY;YACV,QAAQ;YACR,UAAU;YACV,MAAM;QACR;;;;;;AAGN;KAhBwB"}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///Users/joachimjohnson/Documents/comp-sci/ZeroFlow/app/components/FoodAutocomplete.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\n\nexport default function FoodAutocomplete({ onSelect, value = \"\", onChange }) {\n  const [query, setQuery] = useState(value || \"\");\n  const [results, setResults] = useState([]);\n  const [debounced, setDebounced] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [open, setOpen] = useState(false);\n\n  /* Sync external changes (LogFoodPage) */\n  useEffect(() => {\n    setQuery(value || \"\");\n  }, [value]);\n\n  /* Debounce */\n  useEffect(() => {\n    const t = setTimeout(() => setDebounced(query), 250);\n    return () => clearTimeout(t);\n  }, [query]);\n\n  /* Fetch USDA search */\n  useEffect(() => {\n    if (!debounced.trim()) {\n      setResults([]);\n      return;\n    }\n\n    setLoading(true);\n    fetch(`/api/food/search?q=${debounced}`)\n      .then((r) => r.json())\n      .then((data) => {\n        setResults(data.results || []);\n        setOpen(true);\n      })\n      .catch(() => {})\n      .finally(() => setLoading(false));\n  }, [debounced]);\n\n  function handleInputChange(e) {\n    const q = e.target.value;\n    setQuery(q);\n\n    // Let parent update query too (LogFoodPage)\n    if (onChange) onChange(q);\n  }\n\n  function selectItem(item) {\n    const safeItem = {\n      ...item,\n      macros: {\n        calories: item.macros?.calories ?? 0,\n        protein: item.macros?.protein ?? 0,\n        carbs: item.macros?.carbs ?? 0,\n        fat: item.macros?.fat ?? 0,\n      },\n    };\n\n    onSelect(safeItem);\n    setQuery(safeItem.name);\n    setOpen(false);\n    setResults([]);\n  }\n\n  return (\n    <div className=\"relative w-full\">\n      <input\n        value={query}\n        onChange={handleInputChange}\n        placeholder=\"Search foods...\"\n        className=\"w-full px-4 py-2 border rounded-lg shadow-sm bg-white\"\n        onFocus={() => results.length > 0 && setOpen(true)}\n      />\n\n      {open && results.length > 0 && (\n        <ul className=\"absolute z-20 bg-white border mt-2 rounded-xl w-full shadow-xl max-h-64 overflow-y-auto\">\n          {results.map((item) => (\n            <li\n              key={item.fdcId}\n              onClick={() => selectItem(item)}\n              className=\"px-4 py-2 hover:bg-blue-50 cursor-pointer\"\n            >\n              <p className=\"font-medium text-gray-800\">\n                {item.name}\n              </p>\n\n              {item.brandName && (\n                <p className=\"text-xs text-gray-500 -mt-1 mb-1\">\n                  {item.brandName}\n                </p>\n              )}\n\n              <div className=\"flex gap-4 text-xs text-gray-600\">\n                <span>{Math.round(item.macros?.calories ?? 0)} kcal</span>\n                <span>{Math.round(item.macros?.protein ?? 0)}g P</span>\n                <span>{Math.round(item.macros?.carbs ?? 0)}g C</span>\n                <span>{Math.round(item.macros?.fat ?? 0)}g F</span>\n              </div>\n            </li>\n          ))}\n        </ul>\n      )}\n\n      {loading && (\n        <p className=\"mt-2 text-xs text-gray-500\">Searching...</p>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIe,SAAS,iBAAiB,EAAE,QAAQ,EAAE,QAAQ,EAAE,EAAE,QAAQ,EAAE;;IACzE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC,SAAS;IAC5C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC,EAAE;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IAEjC,uCAAuC,GACvC,IAAA,0KAAS;sCAAC;YACR,SAAS,SAAS;QACpB;qCAAG;QAAC;KAAM;IAEV,YAAY,GACZ,IAAA,0KAAS;sCAAC;YACR,MAAM,IAAI;gDAAW,IAAM,aAAa;+CAAQ;YAChD;8CAAO,IAAM,aAAa;;QAC5B;qCAAG;QAAC;KAAM;IAEV,qBAAqB,GACrB,IAAA,0KAAS;sCAAC;YACR,IAAI,CAAC,UAAU,IAAI,IAAI;gBACrB,WAAW,EAAE;gBACb;YACF;YAEA,WAAW;YACX,MAAM,CAAC,mBAAmB,EAAE,WAAW,EACpC,IAAI;8CAAC,CAAC,IAAM,EAAE,IAAI;6CAClB,IAAI;8CAAC,CAAC;oBACL,WAAW,KAAK,OAAO,IAAI,EAAE;oBAC7B,QAAQ;gBACV;6CACC,KAAK;8CAAC,KAAO;6CACb,OAAO;8CAAC,IAAM,WAAW;;QAC9B;qCAAG;QAAC;KAAU;IAEd,SAAS,kBAAkB,CAAC;QAC1B,MAAM,IAAI,EAAE,MAAM,CAAC,KAAK;QACxB,SAAS;QAET,4CAA4C;QAC5C,IAAI,UAAU,SAAS;IACzB;IAEA,SAAS,WAAW,IAAI;QACtB,MAAM,WAAW;YACf,GAAG,IAAI;YACP,QAAQ;gBACN,UAAU,KAAK,MAAM,EAAE,YAAY;gBACnC,SAAS,KAAK,MAAM,EAAE,WAAW;gBACjC,OAAO,KAAK,MAAM,EAAE,SAAS;gBAC7B,KAAK,KAAK,MAAM,EAAE,OAAO;YAC3B;QACF;QAEA,SAAS;QACT,SAAS,SAAS,IAAI;QACtB,QAAQ;QACR,WAAW,EAAE;IACf;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,OAAO;gBACP,UAAU;gBACV,aAAY;gBACZ,WAAU;gBACV,SAAS,IAAM,QAAQ,MAAM,GAAG,KAAK,QAAQ;;;;;;YAG9C,QAAQ,QAAQ,MAAM,GAAG,mBACxB,6LAAC;gBAAG,WAAU;0BACX,QAAQ,GAAG,CAAC,CAAC,qBACZ,6LAAC;wBAEC,SAAS,IAAM,WAAW;wBAC1B,WAAU;;0CAEV,6LAAC;gCAAE,WAAU;0CACV,KAAK,IAAI;;;;;;4BAGX,KAAK,SAAS,kBACb,6LAAC;gCAAE,WAAU;0CACV,KAAK,SAAS;;;;;;0CAInB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;;4CAAM,KAAK,KAAK,CAAC,KAAK,MAAM,EAAE,YAAY;4CAAG;;;;;;;kDAC9C,6LAAC;;4CAAM,KAAK,KAAK,CAAC,KAAK,MAAM,EAAE,WAAW;4CAAG;;;;;;;kDAC7C,6LAAC;;4CAAM,KAAK,KAAK,CAAC,KAAK,MAAM,EAAE,SAAS;4CAAG;;;;;;;kDAC3C,6LAAC;;4CAAM,KAAK,KAAK,CAAC,KAAK,MAAM,EAAE,OAAO;4CAAG;;;;;;;;;;;;;;uBAlBtC,KAAK,KAAK;;;;;;;;;;YAyBtB,yBACC,6LAAC;gBAAE,WAAU;0BAA6B;;;;;;;;;;;;AAIlD;GAzGwB;KAAA"}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file:///Users/joachimjohnson/Documents/comp-sci/ZeroFlow/app/food/log/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport Logo from \"../../components/logo\";\nimport FoodAutocomplete from \"../../components/FoodAutocomplete\";\n\nexport default function LogFoodPage() {\n  const router = useRouter();\n\n  const [query, setQuery] = useState(\"\");\n  const [selected, setSelected] = useState(null);\n  const [quantity, setQuantity] = useState(1);\n\n  /* --------------------------------------------- */\n  /* AUTOCOMPLETE INTEGRATION (old)                */\n  /* --------------------------------------------- */\n\n  function handleSelect(item) {\n    // item comes from FoodAutocomplete\n    setQuery(item.name);\n    setSelected({\n      fdcId: item.fdcId,\n      name: item.name,\n      brandName: item.brandName,\n      macros: item.macros || {},\n    });\n    setQuantity(1);\n  }\n\n  /* --------------------------------------------- */\n  /* --------------------------------------------- */\n  /* Log Food Handler                              */\n  /* --------------------------------------------- */\n  const logFood = async () => {\n    if (!selected) return;\n\n    const macros = selected.macros || {};\n\n    const body = {\n      fdcId: selected.fdcId,\n      name: selected.name,\n      calories: Math.round((macros.calories ?? 0) * quantity),\n      protein: Math.round((macros.protein ?? 0) * quantity),\n      carbs: Math.round((macros.carbs ?? 0) * quantity),\n      fat: Math.round((macros.fat ?? 0) * quantity),\n      quantity,\n    };\n\n    const res = await fetch(\"/api/food/log\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(body),\n    });\n\n    if (res.ok) {\n      router.push(\"/dashboard\");\n    } else {\n      alert(\"Could not log food. Try again.\");\n    }\n  };\n\n  /* --------------------------------------------- */\n  /* RENDER                                        */\n  /* --------------------------------------------- */\n  return (\n    <main className=\"min-h-screen bg-white text-slate-900\">\n\n      {/* NAVBAR (from old layout) */}\n      <nav className=\"w-full flex items-center justify-between px-8 py-4 bg-white shadow-sm\">\n        <Link href=\"/dashboard\" className=\"flex items-center gap-2 cursor-pointer\">\n          <Logo className=\"h-8 w-8\" />\n        </Link>\n\n        <div className=\"flex items-center gap-4 text-sm\">\n          <Link href=\"/dashboard\" className=\"hover:text-blue-700\">Dashboard</Link>\n          <Link href=\"/log-food\" className=\"hover:text-blue-700 font-medium text-blue-700\">\n            Log Food\n          </Link>\n          <Link href=\"/workout/log\" className=\"hover:text-blue-700\">Log Workout</Link>\n        </div>\n      </nav>\n\n      {/* Page Content */}\n      <section className=\"max-w-xl mx-auto px-6 mt-10\">\n        <h1 className=\"text-3xl font-semibold text-center text-[#0A1A2F]\">\n          Log Food\n        </h1>\n        <p className=\"text-slate-500 text-center mt-1\">\n          Add meals quickly with search.\n        </p>\n\n        {/* AUTOCOMPLETE SEARCH (single field) */}\n        <div className=\"mt-8\">\n          <FoodAutocomplete\n            value={query}\n            onChange={setQuery}\n            onSelect={handleSelect}\n          />\n        </div>\n\n      </section>\n\n      {/* BOTTOM SHEET (from new UI) */}\n      {selected && (\n        <div className=\"fixed bottom-0 left-0 right-0 bg-white p-6 rounded-t-3xl shadow-2xl border-t\">\n          <h2 className=\"text-xl font-semibold\">{selected.name}</h2>\n\n          <div className=\"mt-3\">\n            <p className=\"text-sm text-gray-600\">Quantity</p>\n            <input\n              type=\"number\"\n              value={quantity}\n              min={0.1}\n              step={0.1}\n              onChange={(e) => setQuantity(Number(e.target.value))}\n              className=\"w-24 mt-1 p-2 rounded-lg border border-gray-200 bg-gray-50\"\n            />\n          </div>\n\n          {/* Macro Summary */}\n          <div className=\"mt-4 grid grid-cols-4 text-center text-sm\">\n            <div>\n              <p className=\"font-semibold\">\n                {Math.round((selected.macros?.calories ?? 0) * quantity)}\n              </p>\n              <p className=\"text-gray-500\">kcal</p>\n            </div>\n\n            <div>\n              <p className=\"font-semibold\">\n                {Math.round((selected.macros?.protein ?? 0) * quantity)}\n              </p>\n              <p className=\"text-gray-500\">protein</p>\n            </div>\n\n            <div>\n              <p className=\"font-semibold\">\n                {Math.round((selected.macros?.carbs ?? 0) * quantity)}\n              </p>\n              <p className=\"text-gray-500\">carbs</p>\n            </div>\n\n            <div>\n              <p className=\"font-semibold\">\n                {Math.round((selected.macros?.fat ?? 0) * quantity)}\n              </p>\n              <p className=\"text-gray-500\">fat</p>\n            </div>\n          </div>\n\n          {/* Log Button */}\n          <button\n            onClick={logFood}\n            className=\"w-full mt-6 bg-[#0A1A2F] text-white py-3 rounded-xl font-semibold shadow hover:opacity-90\"\n          >\n            Add to Log\n          </button>\n\n          <button\n            onClick={() => setSelected(null)}\n            className=\"w-full mt-4 text-gray-500 text-sm\"\n          >\n            Cancel\n          </button>\n        </div>\n      )}\n\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}