{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/joachimjohnson/Documents/comp-sci/ZeroFlow/lib/prisma.js"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\nlet prisma;\n\n// Prevent multiple Prisma instances in dev (Next.js hot reload)\nif (process.env.NODE_ENV === \"production\") {\n  prisma = new PrismaClient();\n} else {\n  if (!global.prisma) {\n    global.prisma = new PrismaClient();\n  }\n  prisma = global.prisma;\n}\n\nexport { prisma };\n"],"names":[],"mappings":";;;;AAAA;;AAEA,IAAI;AAEJ,gEAAgE;AAChE;;KAEO;IACL,IAAI,CAAC,yDAAO,MAAM,EAAE;QAClB,yDAAO,MAAM,GAAG,IAAI,6IAAY;IAClC;IACA,SAAS,yDAAO,MAAM;AACxB"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///Users/joachimjohnson/Documents/comp-sci/ZeroFlow/app/api/auth/register/route.js"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport bcrypt from \"bcrypt\";\nimport { prisma } from \"@/lib/prisma\";\n\nexport async function POST(req) {\n  try {\n    const data = await req.json();\n\n    const {\n      firstName,\n      lastName,\n      preferredName,\n      email,\n      password,\n      height,\n      weight,\n      age,\n      sex,\n      goal,\n      activityLevel,\n      unitSystem,\n    } = data;\n\n    // Basic validation\n    if (\n      !firstName || !lastName || !email || !password ||\n      !height || !weight || !age || !sex || !goal ||\n      !activityLevel || !unitSystem\n    ) {\n      return NextResponse.json(\n        { error: \"Missing required fields.\" },\n        { status: 400 }\n      );\n    }\n\n    // Check if user exists\n    const existing = await prisma.user.findUnique({ where: { email } });\n    if (existing) {\n      return NextResponse.json(\n        { error: \"User already exists.\" },\n        { status: 400 }\n      );\n    }\n\n    const hashed = await bcrypt.hash(password, 10);\n\n    // Create user\n    const user = await prisma.user.create({\n      data: {\n        firstName,\n        lastName,\n        preferredName: preferredName || null,\n        email,\n        password: hashed,\n        height: Number(height),\n        weight: Number(weight),\n        age: Number(age),\n        sex,\n        goal,\n        activityLevel,\n        unitSystem,\n      },\n    });\n\n    return NextResponse.json(\n      { message: \"User created.\", userId: user.id },\n      { status: 201 }\n    );\n\n  } catch (err) {\n    console.error(\"Registration error:\", err);\n    return NextResponse.json(\n      { error: \"Server error.\" },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,KAAK,GAAG;IAC5B,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAE3B,MAAM,EACJ,SAAS,EACT,QAAQ,EACR,aAAa,EACb,KAAK,EACL,QAAQ,EACR,MAAM,EACN,MAAM,EACN,GAAG,EACH,GAAG,EACH,IAAI,EACJ,aAAa,EACb,UAAU,EACX,GAAG;QAEJ,mBAAmB;QACnB,IACE,CAAC,aAAa,CAAC,YAAY,CAAC,SAAS,CAAC,YACtC,CAAC,UAAU,CAAC,UAAU,CAAC,OAAO,CAAC,OAAO,CAAC,QACvC,CAAC,iBAAiB,CAAC,YACnB;YACA,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAA2B,GACpC;gBAAE,QAAQ;YAAI;QAElB;QAEA,uBAAuB;QACvB,MAAM,WAAW,MAAM,yHAAM,CAAC,IAAI,CAAC,UAAU,CAAC;YAAE,OAAO;gBAAE;YAAM;QAAE;QACjE,IAAI,UAAU;YACZ,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAuB,GAChC;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,SAAS,MAAM,gHAAM,CAAC,IAAI,CAAC,UAAU;QAE3C,cAAc;QACd,MAAM,OAAO,MAAM,yHAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YACpC,MAAM;gBACJ;gBACA;gBACA,eAAe,iBAAiB;gBAChC;gBACA,UAAU;gBACV,QAAQ,OAAO;gBACf,QAAQ,OAAO;gBACf,KAAK,OAAO;gBACZ;gBACA;gBACA;gBACA;YACF;QACF;QAEA,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAiB,QAAQ,KAAK,EAAE;QAAC,GAC5C;YAAE,QAAQ;QAAI;IAGlB,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAgB,GACzB;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}