{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/joachimjohnson/Documents/comp-sci/ZeroFlow/app/components/logo.jsx"],"sourcesContent":["\"use client\";\n\nimport { motion } from \"framer-motion\";\n\nexport default function Logo({ size = 48, className = \"\" }) {\n  return (\n    <motion.img\n      src=\"/flowrings_1.svg\"\n      alt=\"ZeroFlow Logo\"\n      width={size}\n      height={size}\n      className={`select-none ${className}`}\n      animate={{ rotate: 360 }}\n      transition={{\n        repeat: Infinity,\n        duration: 12,\n        ease: \"linear\"\n      }}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,KAAK,EAAE,OAAO,EAAE,EAAE,YAAY,EAAE,EAAE;IACxD,qBACE,8OAAC,oMAAM,CAAC,GAAG;QACT,KAAI;QACJ,KAAI;QACJ,OAAO;QACP,QAAQ;QACR,WAAW,CAAC,YAAY,EAAE,WAAW;QACrC,SAAS;YAAE,QAAQ;QAAI;QACvB,YAAY;YACV,QAAQ;YACR,UAAU;YACV,MAAM;QACR;;;;;;AAGN"}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///Users/joachimjohnson/Documents/comp-sci/ZeroFlow/app/components/FoodAutocomplete.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\n\nexport default function FoodAutocomplete({ onSelect }) {\n  const [query, setQuery] = useState(\"\");\n  const [debounced, setDebounced] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const t = setTimeout(() => setDebounced(query), 300);\n    return () => clearTimeout(t);\n  }, [query]);\n\n  useEffect(() => {\n    if (!debounced.trim()) {\n      setResults([]);\n      return;\n    }\n\n    let cancelled = false;\n    setLoading(true);\n\n    fetch(`/api/food/search?q=${encodeURIComponent(debounced)}`)\n      .then((r) => r.json())\n      .then((data) => {\n        if (!cancelled) setResults(data.results || []);\n      })\n      .catch(() => {\n        if (!cancelled) setResults([]);\n      })\n      .finally(() => {\n        if (!cancelled) setLoading(false);\n      });\n\n    return () => {\n      cancelled = true;\n    };\n  }, [debounced]);\n\n  function handleSelect(item) {\n    onSelect?.(item);\n    setQuery(item.name);\n    setResults([]);\n  }\n\n  return (\n    <div className=\"relative w-full\">\n      <input\n        value={query}\n        onChange={(e) => setQuery(e.target.value)}\n        placeholder=\"Search foods...\"\n        className=\"w-full px-4 py-2 border rounded-lg shadow-sm\"\n      />\n\n      {loading && (\n        <p className=\"text-xs text-slate-500 mt-1\">Searching...</p>\n      )}\n\n      {results.length > 0 && (\n        <ul className=\"absolute z-20 bg-white border mt-2 rounded-xl w-full shadow-xl max-h-64 overflow-y-auto\">\n          {results.map((item) => (\n            <li\n              key={item.fdcId ?? item.name}\n              onClick={() => handleSelect(item)}\n              className=\"px-4 py-2 hover:bg-blue-50 cursor-pointer\"\n            >\n              <p className=\"font-medium text-slate-800\">{item.name}</p>\n              {item.brandName && (\n                <p className=\"text-xs text-slate-500 -mt-1 mb-1\">\n                  {item.brandName}\n                </p>\n              )}\n              <div className=\"flex gap-3 text-xs text-slate-600\">\n                <span>{Math.round(item.macros?.calories ?? 0)} kcal</span>\n                <span>{Math.round(item.macros?.protein ?? 0)}g P</span>\n                <span>{Math.round(item.macros?.carbs ?? 0)}g C</span>\n                <span>{Math.round(item.macros?.fat ?? 0)}g F</span>\n              </div>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,iBAAiB,EAAE,QAAQ,EAAE;IACnD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC,EAAE;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,IAAI,WAAW,IAAM,aAAa,QAAQ;QAChD,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;KAAM;IAEV,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,UAAU,IAAI,IAAI;YACrB,WAAW,EAAE;YACb;QACF;QAEA,IAAI,YAAY;QAChB,WAAW;QAEX,MAAM,CAAC,mBAAmB,EAAE,mBAAmB,YAAY,EACxD,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,IAClB,IAAI,CAAC,CAAC;YACL,IAAI,CAAC,WAAW,WAAW,KAAK,OAAO,IAAI,EAAE;QAC/C,GACC,KAAK,CAAC;YACL,IAAI,CAAC,WAAW,WAAW,EAAE;QAC/B,GACC,OAAO,CAAC;YACP,IAAI,CAAC,WAAW,WAAW;QAC7B;QAEF,OAAO;YACL,YAAY;QACd;IACF,GAAG;QAAC;KAAU;IAEd,SAAS,aAAa,IAAI;QACxB,WAAW;QACX,SAAS,KAAK,IAAI;QAClB,WAAW,EAAE;IACf;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,aAAY;gBACZ,WAAU;;;;;;YAGX,yBACC,8OAAC;gBAAE,WAAU;0BAA8B;;;;;;YAG5C,QAAQ,MAAM,GAAG,mBAChB,8OAAC;gBAAG,WAAU;0BACX,QAAQ,GAAG,CAAC,CAAC,qBACZ,8OAAC;wBAEC,SAAS,IAAM,aAAa;wBAC5B,WAAU;;0CAEV,8OAAC;gCAAE,WAAU;0CAA8B,KAAK,IAAI;;;;;;4BACnD,KAAK,SAAS,kBACb,8OAAC;gCAAE,WAAU;0CACV,KAAK,SAAS;;;;;;0CAGnB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;;4CAAM,KAAK,KAAK,CAAC,KAAK,MAAM,EAAE,YAAY;4CAAG;;;;;;;kDAC9C,8OAAC;;4CAAM,KAAK,KAAK,CAAC,KAAK,MAAM,EAAE,WAAW;4CAAG;;;;;;;kDAC7C,8OAAC;;4CAAM,KAAK,KAAK,CAAC,KAAK,MAAM,EAAE,SAAS;4CAAG;;;;;;;kDAC3C,8OAAC;;4CAAM,KAAK,KAAK,CAAC,KAAK,MAAM,EAAE,OAAO;4CAAG;;;;;;;;;;;;;;uBAdtC,KAAK,KAAK,IAAI,KAAK,IAAI;;;;;;;;;;;;;;;;AAsB1C"}},
    {"offset": {"line": 221, "column": 0}, "map": {"version":3,"sources":["file:///Users/joachimjohnson/Documents/comp-sci/ZeroFlow/app/food/log/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport Logo from \"../../components/logo\";\n\nimport FoodAutocomplete from \"../../components/FoodAutocomplete\";\n\nexport default function LogFoodPage() {\n  const router = useRouter();\n\n  const [foodName, setFoodName] = useState(\"\");\n  const [calories, setCalories] = useState(0);\n  const [protein, setProtein] = useState(0);\n  const [carbs, setCarbs] = useState(0);\n  const [fat, setFat] = useState(0);\n  const [quantity, setQuantity] = useState(1);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  // When user selects from autocomplete\n  function handleSelect(item) {\n    setFoodName(item.name);\n    const macros = item.macros || {};\n    setCalories(Math.round(macros.calories ?? 0));\n    setProtein(Math.round(macros.protein ?? 0));\n    setCarbs(Math.round(macros.carbs ?? 0));\n    setFat(Math.round(macros.fat ?? 0));\n    setQuantity(1);\n  }\n\n  // SUBMIT → Add food → Redirect to dashboard\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    if (!foodName || calories <= 0) {\n      setError(\"Please select a food first.\");\n      return;\n    }\n\n    setConfirmOpen(true);\n  }\n\n  async function handleConfirmLog() {\n    setConfirmOpen(false);\n    setError(\"\");\n\n    const res = await fetch(\"/api/food/log\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        name: foodName,\n        calories: Number(calories) * quantity,\n        protein: Number(protein) * quantity,\n        carbs: Number(carbs) * quantity,\n        fat: Number(fat) * quantity,\n        quantity,\n      }),\n    });\n\n    if (res.ok) {\n      router.push(\"/dashboard\");\n    } else {\n      alert(\"Could not log food. Please try again.\");\n    }\n  }\n\n  return (\n    <main className=\"min-h-screen bg-slate-50 text-slate-900\">\n\n      {/* -------------------------------------------------- */}\n      {/* NAVBAR (same layout as dashboard) */}\n      {/* -------------------------------------------------- */}\n      <nav className=\"w-full flex items-center justify-between px-8 py-4 bg-white shadow-sm\">\n        <Link href=\"/dashboard\" className=\"flex items-center gap-2 cursor-pointer\">\n          <Logo className=\"h-8 w-8\" />\n        </Link>\n\n        <div className=\"flex items-center gap-4 text-sm\">\n          <Link href=\"/dashboard\" className=\"hover:text-blue-700\">Dashboard</Link>\n          <Link href=\"/food/log\" className=\"hover:text-blue-700 font-medium text-blue-700\">\n            Log Food\n          </Link>\n          <Link href=\"/workout/log\" className=\"hover:text-blue-700\">Log Workout</Link>\n        </div>\n      </nav>\n\n      {/* -------------------------------------------------- */}\n      {/* PAGE CONTENT */}\n      {/* -------------------------------------------------- */}\n      <section className=\"max-w-xl mx-auto px-6 mt-10\">\n        <h1 className=\"text-3xl font-semibold text-center\">Log Food</h1>\n        <p className=\"text-slate-500 text-center mt-1\">\n          Add meals quickly with search and confirm the details.\n        </p>\n\n        <form\n          onSubmit={handleSubmit}\n          className=\"bg-white border rounded-xl shadow-xl p-6 mt-8 flex flex-col gap-4\"\n        >\n          {error && (\n            <p className=\"text-red-600 text-sm text-center\">{error}</p>\n          )}\n          {/* AUTOCOMPLETE */}\n          <FoodAutocomplete onSelect={handleSelect} />\n\n          {/* Selected summary */}\n          <div className=\"p-4 border rounded-lg bg-slate-50\">\n            <p className=\"font-semibold text-slate-900\">{foodName || \"No food selected\"}</p>\n            <p className=\"text-sm text-slate-600 mt-1\">\n              {Math.round(calories)} kcal · {Math.round(protein)}g P · {Math.round(carbs)}g C · {Math.round(fat)}g F\n            </p>\n          </div>\n\n          {/* Quantity */}\n          <div className=\"flex flex-col gap-1\">\n            <label className=\"text-sm text-slate-700\">Quantity</label>\n            <input\n            value={quantity}\n            type=\"number\"\n            min={1}\n            step={1}\n            onChange={(e) => {\n              const val = parseInt(e.target.value, 10);\n              setQuantity(Number.isInteger(val) && val > 0 ? val : 1);\n            }}\n            className=\"border px-4 py-2 rounded-lg\"\n          />\n          </div>\n\n          {/* Submit */}\n          <button\n            type=\"submit\"\n            className=\"py-3 bg-blue-700 text-white font-medium rounded-lg hover:bg-blue-800 transition shadow-md\"\n          >\n            Log Food\n          </button>\n        </form>\n\n        {/* Confirmation modal */}\n        {confirmOpen && (\n          <div className=\"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-2xl shadow-2xl p-6 w-full max-w-md border border-slate-200\">\n              <h3 className=\"text-xl font-semibold text-slate-900 mb-2\">\n                Confirm Log\n              </h3>\n              <p className=\"text-slate-700\">\n                <span className=\"font-semibold\">{foodName}</span>\n              </p>\n              <p className=\"text-slate-600 text-sm mt-1\">\n                {Math.round(calories)} kcal · {Math.round(protein)}g P ·{\" \"}\n                {Math.round(carbs)}g C · {Math.round(fat)}g F\n              </p>\n              <p className=\"text-slate-600 text-sm mt-1\">Quantity: {quantity}</p>\n\n              <div className=\"flex gap-3 mt-6\">\n                <button\n                  type=\"button\"\n                  onClick={() => setConfirmOpen(false)}\n                  className=\"flex-1 py-2 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-100 transition\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={handleConfirmLog}\n                  className=\"flex-1 py-2 rounded-lg bg-blue-700 text-white hover:bg-blue-800 transition shadow-sm\"\n                >\n                  Confirm\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </section>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}