{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/joachimjohnson/Documents/comp-sci/ZeroFlow/app/components/logo.jsx"],"sourcesContent":["\"use client\";\n\nimport { motion } from \"framer-motion\";\n\nexport default function Logo({ size = 48, className = \"\" }) {\n  return (\n    <motion.img\n      src=\"/flowrings_1.svg\"\n      alt=\"ZeroFlow Logo\"\n      width={size}\n      height={size}\n      className={`select-none ${className}`}\n      animate={{ rotate: 360 }}\n      transition={{\n        repeat: Infinity,\n        duration: 12,\n        ease: \"linear\"\n      }}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,KAAK,EAAE,OAAO,EAAE,EAAE,YAAY,EAAE,EAAE;IACxD,qBACE,8OAAC,oMAAM,CAAC,GAAG;QACT,KAAI;QACJ,KAAI;QACJ,OAAO;QACP,QAAQ;QACR,WAAW,CAAC,YAAY,EAAE,WAAW;QACrC,SAAS;YAAE,QAAQ;QAAI;QACvB,YAAY;YACV,QAAQ;YACR,UAAU;YACV,MAAM;QACR;;;;;;AAGN"}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///Users/joachimjohnson/Documents/comp-sci/ZeroFlow/app/food/log/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Logo from \"../../components/logo\";\nimport { motion } from \"framer-motion\";\n\nexport default function LogFoodPage() {\n  const router = useRouter();\n\n  const [cursor, setCursor] = useState({ x: 0, y: 0 });\n\n  const [name, setName] = useState(\"\");\n  const [calories, setCalories] = useState(\"\");\n  const [category, setCategory] = useState(\"general\");\n  const [error, setError] = useState(\"\");\n\n  const [recentFoods, setRecentFoods] = useState([]);\n  const [scannerOpen, setScannerOpen] = useState(false);\n  const [scanStatus, setScanStatus] = useState(\"idle\");\n\n  // -------------------------------------------------------------------\n  // Fetch last 5 foods\n  // -------------------------------------------------------------------\n  useEffect(() => {\n    fetch(\"/api/food/recent\")\n      .then((res) => res.json())\n      .then((data) => setRecentFoods(data.foods || []))\n      .catch(() => {});\n  }, []);\n\n  // -------------------------------------------------------------------\n  // Handle form submit\n  // -------------------------------------------------------------------\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    const res = await fetch(\"/api/food/log/route\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ name, calories, category }),\n    });\n\n    if (res.ok) {\n      router.push(\"/dashboard\");\n    } else {\n      setError(\"Failed to log food.\");\n    }\n  }\n\n  // -------------------------------------------------------------------\n  // Fake Barcode Scan\n  // -------------------------------------------------------------------\n  function startFakeScan() {\n    setScanStatus(\"scanning\");\n\n    setTimeout(() => {\n      setScanStatus(\"success\");\n\n      // Autofill example (looks real enough)\n      setName(\"Greek Yogurt (Plain)\");\n      setCalories(\"120\");\n\n      setTimeout(() => {\n        setScannerOpen(false);\n        setScanStatus(\"idle\");\n      }, 1200);\n    }, 2000);\n  }\n\n  return (\n    <main\n      className=\"min-h-screen bg-slate-50 relative overflow-hidden\"\n      onMouseMove={(e) => setCursor({ x: e.clientX, y: e.clientY })}\n    >\n      {/* Cursor Reactive Glow */}\n      <motion.div\n        className=\"pointer-events-none fixed top-0 left-0 w-full h-full\"\n        animate={{\n          background: `radial-gradient(450px circle at ${cursor.x}px ${cursor.y}px,\n            rgba(59,130,246,0.18),\n            transparent 70%)`,\n        }}\n        transition={{ duration: 0.15, ease: \"linear\" }}\n      />\n\n      {/* NAVBAR */}\n      <nav className=\"w-full flex items-center justify-between px-8 py-4 bg-white shadow-sm relative z-10\">\n        <button\n          onClick={() => router.push(\"/dashboard\")}\n          className=\"flex items-center gap-2 cursor-pointer\"\n        >\n          <Logo className=\"h-8 w-8\" />\n        </button>\n\n        <span className=\"text-slate-500 text-sm\">Log Food</span>\n      </nav>\n\n      {/* PAGE CONTENT */}\n      <div className=\"w-full flex justify-center mt-20 px-4 relative z-10\">\n        <div className=\"bg-white shadow-xl rounded-xl p-8 max-w-sm w-full border border-slate-200\">\n\n          <h1 className=\"text-2xl font-semibold text-slate-900 mb-6 text-center\">\n            Add a Food Entry\n          </h1>\n\n          {error && (\n            <p className=\"text-red-600 text-sm mb-4 text-center\">{error}</p>\n          )}\n\n          <form onSubmit={handleSubmit} className=\"flex flex-col gap-4\">\n\n            {/* FOOD NAME */}\n            <div className=\"flex flex-col\">\n              <label className=\"text-gray-700 mb-1\">Food Name</label>\n              <input\n                type=\"text\"\n                required\n                className=\"border border-slate-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600\"\n                placeholder=\"Chicken Breast\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n            </div>\n\n            {/* CALORIES */}\n            <div className=\"flex flex-col\">\n              <label className=\"text-gray-700 mb-1\">Calories</label>\n              <input\n                type=\"number\"\n                required\n                className=\"border border-slate-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600\"\n                placeholder=\"165\"\n                value={calories}\n                onChange={(e) => setCalories(e.target.value)}\n              />\n            </div>\n\n            {/* CATEGORY SELECT */}\n            <div className=\"flex flex-col\">\n              <label className=\"text-gray-700 mb-1\">Category</label>\n              <select\n                className=\"\n                  border border-slate-300 rounded-lg px-3 py-2 \n                  focus:outline-none focus:border-blue-600\n                \"\n                value={category}\n                onChange={(e) => setCategory(e.target.value)}\n              >\n                <option value=\"general\">General</option>\n                <option value=\"protein\">Protein</option>\n                <option value=\"carb\">Carb</option>\n                <option value=\"fat\">Fat</option>\n                <option value=\"veggie\">Vegetable</option>\n                <option value=\"fruit\">Fruit</option>\n                <option value=\"snack\">Snack</option>\n                <option value=\"drink\">Drink</option>\n              </select>\n            </div>\n\n            {/* SUBMIT BUTTON */}\n            <button\n              type=\"submit\"\n              className=\"\n                bg-blue-700 hover:bg-blue-800 text-white py-2 rounded-lg \n                font-medium transition shadow-sm\n              \"\n            >\n              Add Entry\n            </button>\n          </form>\n\n          {/* BARCODE SCAN BUTTON */}\n          <button\n            onClick={() => setScannerOpen(true)}\n            className=\"mt-4 w-full text-blue-700 hover:underline text-sm\"\n          >\n            Scan Barcode Instead →\n          </button>\n\n          {/* RECENT FOODS */}\n          {recentFoods.length > 0 && (\n            <div className=\"mt-8\">\n              <h3 className=\"text-sm text-slate-500 mb-3\">\n                Recent Foods\n              </h3>\n\n              <div className=\"flex flex-col gap-2\">\n                {recentFoods.map((food, idx) => (\n                  <button\n                    key={idx}\n                    className=\"text-left px-3 py-2 bg-slate-100 hover:bg-slate-200 rounded-lg text-sm flex justify-between\"\n                    onClick={() => {\n                      setName(food.name);\n                      setCalories(food.calories);\n                      setCategory(food.category || \"general\");\n                    }}\n                  >\n                    <span>{food.name}</span>\n                    <span className=\"text-slate-600\">{food.calories} cal</span>\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n        </div>\n      </div>\n\n      {/* BARCODE MODAL */}\n      {scannerOpen && (\n        <div className=\"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-20\">\n          <div className=\"bg-white p-6 rounded-xl shadow-xl w-80 text-center\">\n\n            <h2 className=\"text-xl font-semibold mb-4\">Barcode Scanner</h2>\n\n            <div className=\"w-full h-40 bg-slate-200 rounded-lg flex items-center justify-center text-slate-500\">\n              {scanStatus === \"idle\" && \"Camera Initializing…\"}\n              {scanStatus === \"scanning\" && \"Scanning… Hold steady…\"}\n              {scanStatus === \"success\" && \"Barcode Found!\"}\n            </div>\n\n            <button\n              onClick={startFakeScan}\n              disabled={scanStatus !== \"idle\"}\n              className=\"\n                mt-6 w-full bg-blue-700 hover:bg-blue-800 text-white py-2 rounded-lg \n                disabled:opacity-50\n              \"\n            >\n              Start Scan\n            </button>\n\n            <button\n              onClick={() => setScannerOpen(false)}\n              className=\"mt-3 text-sm text-slate-600 hover:underline\"\n            >\n              Cancel\n            </button>\n\n          </div>\n        </div>\n      )}\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}