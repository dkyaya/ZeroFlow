{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["file:///Users/joachimjohnson/Documents/comp-sci/ZeroFlow/node_modules/quagga/dist/quagga.js"],"sourcesContent":["(function (root, factory) {\n    var factorySource = factory.toString();\n\n    if (typeof module !== 'undefined') {\n        module.exports = factory(factorySource);\n    } else {\n        //Browser globals case. Just assign the\n        //result to a property on the global.\n        root.Quagga = factory(factorySource);\n    }\n}(this, function (__factorySource__) {/**\n * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/jrburke/almond for details\n */\n//Going sloppy to avoid 'use strict' string cost, but strict practices should\n//be followed.\n/*jslint sloppy: true */\n/*global setTimeout: false */\n\nvar requirejs, require, define;\n(function (undef) {\n    var main, req, makeMap, handlers,\n        defined = {},\n        waiting = {},\n        config = {},\n        defining = {},\n        hasOwn = Object.prototype.hasOwnProperty,\n        aps = [].slice,\n        jsSuffixRegExp = /\\.js$/;\n\n    function hasProp(obj, prop) {\n        return hasOwn.call(obj, prop);\n    }\n\n    /**\n     * Given a relative module name, like ./something, normalize it to\n     * a real name that can be mapped to a path.\n     * @param {String} name the relative name\n     * @param {String} baseName a real name that the name arg is relative\n     * to.\n     * @returns {String} normalized name\n     */\n    function normalize(name, baseName) {\n        var nameParts, nameSegment, mapValue, foundMap, lastIndex,\n            foundI, foundStarMap, starI, i, j, part,\n            baseParts = baseName && baseName.split(\"/\"),\n            map = config.map,\n            starMap = (map && map['*']) || {};\n\n        //Adjust any relative paths.\n        if (name && name.charAt(0) === \".\") {\n            //If have a base name, try to normalize against it,\n            //otherwise, assume it is a top-level require that will\n            //be relative to baseUrl in the end.\n            if (baseName) {\n                //Convert baseName to array, and lop off the last part,\n                //so that . matches that \"directory\" and not name of the baseName's\n                //module. For instance, baseName of \"one/two/three\", maps to\n                //\"one/two/three.js\", but we want the directory, \"one/two\" for\n                //this normalization.\n                baseParts = baseParts.slice(0, baseParts.length - 1);\n                name = name.split('/');\n                lastIndex = name.length - 1;\n\n                // Node .js allowance:\n                if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\n                    name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');\n                }\n\n                name = baseParts.concat(name);\n\n                //start trimDots\n                for (i = 0; i < name.length; i += 1) {\n                    part = name[i];\n                    if (part === \".\") {\n                        name.splice(i, 1);\n                        i -= 1;\n                    } else if (part === \"..\") {\n                        if (i === 1 && (name[2] === '..' || name[0] === '..')) {\n                            //End of the line. Keep at least one non-dot\n                            //path segment at the front so it can be mapped\n                            //correctly to disk. Otherwise, there is likely\n                            //no path mapping for a path starting with '..'.\n                            //This can still fail, but catches the most reasonable\n                            //uses of ..\n                            break;\n                        } else if (i > 0) {\n                            name.splice(i - 1, 2);\n                            i -= 2;\n                        }\n                    }\n                }\n                //end trimDots\n\n                name = name.join(\"/\");\n            } else if (name.indexOf('./') === 0) {\n                // No baseName, so this is ID is resolved relative\n                // to baseUrl, pull off the leading dot.\n                name = name.substring(2);\n            }\n        }\n\n        //Apply map config if available.\n        if ((baseParts || starMap) && map) {\n            nameParts = name.split('/');\n\n            for (i = nameParts.length; i > 0; i -= 1) {\n                nameSegment = nameParts.slice(0, i).join(\"/\");\n\n                if (baseParts) {\n                    //Find the longest baseName segment match in the config.\n                    //So, do joins on the biggest to smallest lengths of baseParts.\n                    for (j = baseParts.length; j > 0; j -= 1) {\n                        mapValue = map[baseParts.slice(0, j).join('/')];\n\n                        //baseName segment has  config, find if it has one for\n                        //this name.\n                        if (mapValue) {\n                            mapValue = mapValue[nameSegment];\n                            if (mapValue) {\n                                //Match, update name to the new value.\n                                foundMap = mapValue;\n                                foundI = i;\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                if (foundMap) {\n                    break;\n                }\n\n                //Check for a star map match, but just hold on to it,\n                //if there is a shorter segment match later in a matching\n                //config, then favor over this star map.\n                if (!foundStarMap && starMap && starMap[nameSegment]) {\n                    foundStarMap = starMap[nameSegment];\n                    starI = i;\n                }\n            }\n\n            if (!foundMap && foundStarMap) {\n                foundMap = foundStarMap;\n                foundI = starI;\n            }\n\n            if (foundMap) {\n                nameParts.splice(0, foundI, foundMap);\n                name = nameParts.join('/');\n            }\n        }\n\n        return name;\n    }\n\n    function makeRequire(relName, forceSync) {\n        return function () {\n            //A version of a require function that passes a moduleName\n            //value for items that may need to\n            //look up paths relative to the moduleName\n            return req.apply(undef, aps.call(arguments, 0).concat([relName, forceSync]));\n        };\n    }\n\n    function makeNormalize(relName) {\n        return function (name) {\n            return normalize(name, relName);\n        };\n    }\n\n    function makeLoad(depName) {\n        return function (value) {\n            defined[depName] = value;\n        };\n    }\n\n    function callDep(name) {\n        if (hasProp(waiting, name)) {\n            var args = waiting[name];\n            delete waiting[name];\n            defining[name] = true;\n            main.apply(undef, args);\n        }\n\n        if (!hasProp(defined, name) && !hasProp(defining, name)) {\n            throw new Error('No ' + name);\n        }\n        return defined[name];\n    }\n\n    //Turns a plugin!resource to [plugin, resource]\n    //with the plugin being undefined if the name\n    //did not have a plugin prefix.\n    function splitPrefix(name) {\n        var prefix,\n            index = name ? name.indexOf('!') : -1;\n        if (index > -1) {\n            prefix = name.substring(0, index);\n            name = name.substring(index + 1, name.length);\n        }\n        return [prefix, name];\n    }\n\n    /**\n     * Makes a name map, normalizing the name, and using a plugin\n     * for normalization if necessary. Grabs a ref to plugin\n     * too, as an optimization.\n     */\n    makeMap = function (name, relName) {\n        var plugin,\n            parts = splitPrefix(name),\n            prefix = parts[0];\n\n        name = parts[1];\n\n        if (prefix) {\n            prefix = normalize(prefix, relName);\n            plugin = callDep(prefix);\n        }\n\n        //Normalize according\n        if (prefix) {\n            if (plugin && plugin.normalize) {\n                name = plugin.normalize(name, makeNormalize(relName));\n            } else {\n                name = normalize(name, relName);\n            }\n        } else {\n            name = normalize(name, relName);\n            parts = splitPrefix(name);\n            prefix = parts[0];\n            name = parts[1];\n            if (prefix) {\n                plugin = callDep(prefix);\n            }\n        }\n\n        //Using ridiculous property names for space reasons\n        return {\n            f: prefix ? prefix + '!' + name : name, //fullName\n            n: name,\n            pr: prefix,\n            p: plugin\n        };\n    };\n\n    function makeConfig(name) {\n        return function () {\n            return (config && config.config && config.config[name]) || {};\n        };\n    }\n\n    handlers = {\n        require: function (name) {\n            return makeRequire(name);\n        },\n        exports: function (name) {\n            var e = defined[name];\n            if (typeof e !== 'undefined') {\n                return e;\n            } else {\n                return (defined[name] = {});\n            }\n        },\n        module: function (name) {\n            return {\n                id: name,\n                uri: '',\n                exports: defined[name],\n                config: makeConfig(name)\n            };\n        }\n    };\n\n    main = function (name, deps, callback, relName) {\n        var cjsModule, depName, ret, map, i,\n            args = [],\n            callbackType = typeof callback,\n            usingExports;\n\n        //Use name if no relName\n        relName = relName || name;\n\n        //Call the callback to define the module, if necessary.\n        if (callbackType === 'undefined' || callbackType === 'function') {\n            //Pull out the defined dependencies and pass the ordered\n            //values to the callback.\n            //Default to [require, exports, module] if no deps\n            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;\n            for (i = 0; i < deps.length; i += 1) {\n                map = makeMap(deps[i], relName);\n                depName = map.f;\n\n                //Fast path CommonJS standard dependencies.\n                if (depName === \"require\") {\n                    args[i] = handlers.require(name);\n                } else if (depName === \"exports\") {\n                    //CommonJS module spec 1.1\n                    args[i] = handlers.exports(name);\n                    usingExports = true;\n                } else if (depName === \"module\") {\n                    //CommonJS module spec 1.1\n                    cjsModule = args[i] = handlers.module(name);\n                } else if (hasProp(defined, depName) ||\n                           hasProp(waiting, depName) ||\n                           hasProp(defining, depName)) {\n                    args[i] = callDep(depName);\n                } else if (map.p) {\n                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});\n                    args[i] = defined[depName];\n                } else {\n                    throw new Error(name + ' missing ' + depName);\n                }\n            }\n\n            ret = callback ? callback.apply(defined[name], args) : undefined;\n\n            if (name) {\n                //If setting exports via \"module\" is in play,\n                //favor that over return value and exports. After that,\n                //favor a non-undefined return value over exports use.\n                if (cjsModule && cjsModule.exports !== undef &&\n                        cjsModule.exports !== defined[name]) {\n                    defined[name] = cjsModule.exports;\n                } else if (ret !== undef || !usingExports) {\n                    //Use the return value from the function.\n                    defined[name] = ret;\n                }\n            }\n        } else if (name) {\n            //May just be an object definition for the module. Only\n            //worry about defining if have a module name.\n            defined[name] = callback;\n        }\n    };\n\n    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {\n        if (typeof deps === \"string\") {\n            if (handlers[deps]) {\n                //callback in this case is really relName\n                return handlers[deps](callback);\n            }\n            //Just return the module wanted. In this scenario, the\n            //deps arg is the module name, and second arg (if passed)\n            //is just the relName.\n            //Normalize module name, if it contains . or ..\n            return callDep(makeMap(deps, callback).f);\n        } else if (!deps.splice) {\n            //deps is a config object, not an array.\n            config = deps;\n            if (config.deps) {\n                req(config.deps, config.callback);\n            }\n            if (!callback) {\n                return;\n            }\n\n            if (callback.splice) {\n                //callback is an array, which means it is a dependency list.\n                //Adjust args if there are dependencies\n                deps = callback;\n                callback = relName;\n                relName = null;\n            } else {\n                deps = undef;\n            }\n        }\n\n        //Support require(['a'])\n        callback = callback || function () {};\n\n        //If relName is a function, it is an errback handler,\n        //so remove it.\n        if (typeof relName === 'function') {\n            relName = forceSync;\n            forceSync = alt;\n        }\n\n        //Simulate async callback;\n        if (forceSync) {\n            main(undef, deps, callback, relName);\n        } else {\n            //Using a non-zero value because of concern for what old browsers\n            //do, and latest browsers \"upgrade\" to 4 if lower value is used:\n            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:\n            //If want a value immediately, use require('id') instead -- something\n            //that works in almond on the global level, but not guaranteed and\n            //unlikely to work in other AMD implementations.\n            setTimeout(function () {\n                main(undef, deps, callback, relName);\n            }, 4);\n        }\n\n        return req;\n    };\n\n    /**\n     * Just drops the config on the floor, but returns req in case\n     * the config return value is used.\n     */\n    req.config = function (cfg) {\n        return req(cfg);\n    };\n\n    /**\n     * Expose module registry for debugging and tooling\n     */\n    requirejs._defined = defined;\n\n    define = function (name, deps, callback) {\n\n        //This module may not have dependencies\n        if (!deps.splice) {\n            //deps is not an array, so probably means\n            //an object literal or factory function for\n            //the value. Adjust args.\n            callback = deps;\n            deps = [];\n        }\n\n        if (!hasProp(defined, name) && !hasProp(waiting, name)) {\n            waiting[name] = [name, deps, callback];\n        }\n    };\n\n    define.amd = {\n        jQuery: true\n    };\n}());\n\ndefine(\"almond\", function(){});\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('image_loader',[],function() {\n    \"use strict\";\n\n    var ImageLoader = {};\n    ImageLoader.load = function(directory, callback, offset, size, sequence) {\n        var htmlImagesSrcArray = new Array(size),\n            htmlImagesArray = new Array(htmlImagesSrcArray.length),\n            i,\n            img,\n            num;\n            \n        if (sequence === false) {\n            htmlImagesSrcArray[0] = directory;\n        } else {\n            for ( i = 0; i < htmlImagesSrcArray.length; i++) {\n                num = (offset + i);\n                htmlImagesSrcArray[i] = directory + \"image-\" + (\"00\" + num).slice(-3) + \".jpg\";\n            }\n        }\n        htmlImagesArray.notLoaded = [];\n        htmlImagesArray.addImage = function(img) {\n            htmlImagesArray.notLoaded.push(img);\n        };\n        htmlImagesArray.loaded = function(loadedImg) {\n            var notloadedImgs = htmlImagesArray.notLoaded;\n            for (var x = 0; x < notloadedImgs.length; x++) {\n                if (notloadedImgs[x] == loadedImg) {\n                    notloadedImgs.splice(x, 1);\n                    for (var y = 0; y < htmlImagesSrcArray.length; y++) {\n                        var imgName = htmlImagesSrcArray[y].substr(htmlImagesSrcArray[y].lastIndexOf(\"/\"));\n                        if (loadedImg.src.lastIndexOf(imgName) != -1) {\n                            htmlImagesArray[y] = loadedImg;\n                            break;\n                        }\n                    }\n                    break;\n                }\n            }\n            if (notloadedImgs.length === 0) {\n                console.log(\"Images loaded\");\n                callback.apply(null, [htmlImagesArray]);\n            }\n        };\n        \n        for ( i = 0; i < htmlImagesSrcArray.length; i++) {\n            img = new Image();\n            htmlImagesArray.addImage(img);\n            addOnloadHandler(img, htmlImagesArray);\n            img.src = htmlImagesSrcArray[i];\n        }\n    };\n    \n    function addOnloadHandler(img, htmlImagesArray) {\n        img.onload = function() {\n            htmlImagesArray.loaded(this);\n        };\n    }\n\n    return (ImageLoader);\n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('input_stream',[\"image_loader\"], function(ImageLoader) {\n    \"use strict\";\n\n    var InputStream = {};\n    InputStream.createVideoStream = function(video) {\n        var that = {},\n            _config = null,\n            _eventNames = ['canrecord', 'ended'],\n            _eventHandlers = {},\n            _calculatedWidth,\n            _calculatedHeight,\n            _topRight = {x: 0, y: 0},\n            _canvasSize = {x: 0, y: 0};\n\n        function initSize() {\n            var width = video.videoWidth,\n                height = video.videoHeight;\n\n            _calculatedWidth = _config.size ? width/height > 1 ? _config.size : Math.floor((width/height) * _config.size) : width;\n            _calculatedHeight = _config.size ? width/height > 1 ? Math.floor((height/width) * _config.size) : _config.size : height;\n\n            _canvasSize.x = _calculatedWidth;\n            _canvasSize.y = _calculatedHeight;\n        }\n\n        that.getRealWidth = function() {\n            return video.videoWidth;\n        };\n\n        that.getRealHeight = function() {\n            return video.videoHeight;\n        };\n\n        that.getWidth = function() {\n            return _calculatedWidth;\n        };\n\n        that.getHeight = function() {\n            return _calculatedHeight;\n        };\n\n        that.setWidth = function(width) {\n            _calculatedWidth = width;\n        };\n\n        that.setHeight = function(height) {\n            _calculatedHeight = height;\n        };\n\n        that.setInputStream = function(config) {\n            _config = config;\n            video.src = (typeof config.src !== 'undefined') ? config.src : '';\n        };\n\n        that.ended = function() {\n            return video.ended;\n        };\n\n        that.getConfig = function() {\n            return _config;\n        };\n\n        that.setAttribute = function(name, value) {\n            video.setAttribute(name, value);\n        };\n\n        that.pause = function() {\n            video.pause();\n        };\n\n        that.play = function() {\n            video.play();\n        };\n\n        that.setCurrentTime = function(time) {\n            if (_config.type !== \"LiveStream\")\n                video.currentTime = time;\n        };\n\n        that.addEventListener = function(event, f, bool) {\n            if (_eventNames.indexOf(event) !== -1) {\n                if (!_eventHandlers[event]) {\n                    _eventHandlers[event] = [];\n                }\n                _eventHandlers[event].push(f);\n            } else {\n                video.addEventListener(event, f, bool);\n            }\n        };\n\n        that.clearEventHandlers = function() {\n            _eventNames.forEach(function(eventName) {\n                var handlers = _eventHandlers[eventName];\n                if (handlers && handlers.length > 0) {\n                    handlers.forEach(function(handler) {\n                        video.removeEventListener(eventName, handler);\n                    });\n                }\n            });\n        };\n\n        that.trigger = function(eventName, args) {\n            var j,\n                handlers = _eventHandlers[eventName];\n\n            if (eventName === 'canrecord') {\n                initSize();\n            }\n            if (handlers && handlers.length > 0) {\n                for ( j = 0; j < handlers.length; j++) {\n                    handlers[j].apply(that, args);\n                }\n            }\n        };\n\n        that.setTopRight = function(topRight) {\n            _topRight.x = topRight.x;\n            _topRight.y = topRight.y;\n        };\n\n        that.getTopRight = function() {\n            return _topRight;\n        };\n\n        that.setCanvasSize = function(size) {\n            _canvasSize.x = size.x;\n            _canvasSize.y = size.y;\n        };\n\n        that.getCanvasSize = function() {\n            return _canvasSize;\n        };\n\n        that.getFrame = function() {\n            return video;\n        };\n\n        return that;\n    };\n\n    InputStream.createLiveStream = function(video) {\n        video.setAttribute(\"autoplay\", true);\n        var that = InputStream.createVideoStream(video);\n\n        that.ended = function() {\n            return false;\n        };\n\n        return that;\n    };\n\n    InputStream.createImageStream = function() {\n        var that = {};\n        var _config = null;\n\n        var width = 0,\n            height = 0,\n            frameIdx = 0,\n            paused = true,\n            loaded = false,\n            imgArray = null,\n            size = 0,\n            offset = 1,\n            baseUrl = null,\n            ended = false,\n            calculatedWidth,\n            calculatedHeight,\n            _eventNames = ['canrecord', 'ended'],\n            _eventHandlers = {},\n            _topRight = {x: 0, y: 0},\n            _canvasSize = {x: 0, y: 0};\n\n        function loadImages() {\n            loaded = false;\n            ImageLoader.load(baseUrl, function(imgs) {\n                imgArray = imgs;\n                width = imgs[0].width;\n                height = imgs[0].height;\n                calculatedWidth = _config.size ? width/height > 1 ? _config.size : Math.floor((width/height) * _config.size) : width;\n                calculatedHeight = _config.size ? width/height > 1 ? Math.floor((height/width) * _config.size) : _config.size : height;\n                _canvasSize.x = calculatedWidth;\n                _canvasSize.y = calculatedHeight;\n                loaded = true;\n                frameIdx = 0;\n                setTimeout(function() {\n                    publishEvent(\"canrecord\", []);\n                }, 0);\n            }, offset, size, _config.sequence);\n        }\n\n        function publishEvent(eventName, args) {\n            var j,\n                handlers = _eventHandlers[eventName];\n                \n            if (handlers && handlers.length > 0) {\n                for ( j = 0; j < handlers.length; j++) {\n                    handlers[j].apply(that, args);\n                }\n            }\n        }\n\n\n        that.trigger = publishEvent;\n\n        that.getWidth = function() {\n            return calculatedWidth;\n        };\n\n        that.getHeight = function() {\n            return calculatedHeight;\n        };\n\n        that.setWidth = function(width) {\n            calculatedWidth = width;\n        };\n\n        that.setHeight = function(height) {\n            calculatedHeight = height;\n        };\n\n        that.getRealWidth = function() {\n            return width;\n        };\n\n        that.getRealHeight = function() {\n            return height;\n        };\n\n        that.setInputStream = function(stream) {\n            _config = stream;\n            if (stream.sequence === false) {\n                baseUrl = stream.src;\n                size = 1;\n            } else {\n                baseUrl = stream.src;\n                size = stream.length;\n            }\n            loadImages();\n        };\n\n        that.ended = function() {\n            return ended;\n        };\n\n        that.setAttribute = function() {};\n\n        that.getConfig = function() {\n            return _config;\n        };\n\n        that.pause = function() {\n            paused = true;\n        };\n\n        that.play = function() {\n            paused = false;\n        };\n\n        that.setCurrentTime = function(time) {\n            frameIdx = time;\n        };\n\n        that.addEventListener = function(event, f) {\n            if (_eventNames.indexOf(event) !== -1) {\n                if (!_eventHandlers[event]) {\n                    _eventHandlers[event] = [];\n                }\n                _eventHandlers[event].push(f);\n            }\n        };\n\n        that.setTopRight = function(topRight) {\n            _topRight.x = topRight.x;\n            _topRight.y = topRight.y;\n        };\n\n        that.getTopRight = function() {\n            return _topRight;\n        };\n\n        that.setCanvasSize = function(size) {\n            _canvasSize.x = size.x;\n            _canvasSize.y = size.y;\n        };\n\n        that.getCanvasSize = function() {\n            return _canvasSize;\n        };\n\n        that.getFrame = function() {\n            var frame;\n            \n            if (!loaded){\n                return null;\n            }\n            if (!paused) {\n                frame = imgArray[frameIdx];\n                if (frameIdx < (size - 1)) {\n                    frameIdx++;\n                } else {\n                    setTimeout(function() {\n                        ended = true;\n                        publishEvent(\"ended\", []);\n                    }, 0);\n                }\n            }\n            return frame;\n        };\n\n        return that;\n    };\n\n    return (InputStream);\n});\n\n/*\n * typedefs.js\n * Normalizes browser-specific prefixes\n */\n\nglMatrixArrayType = Float32Array;\nif (typeof window !== 'undefined') {\n    window.requestAnimFrame = (function () {\n        return window.requestAnimationFrame ||\n            window.webkitRequestAnimationFrame ||\n            window.mozRequestAnimationFrame ||\n            window.oRequestAnimationFrame ||\n            window.msRequestAnimationFrame ||\n            function (/* function FrameRequestCallback */ callback, /* DOMElement Element */ element) {\n                window.setTimeout(callback, 1000 / 60);\n            };\n    })();\n\n    navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n    window.URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n}\nMath.imul = Math.imul || function(a, b) {\n    var ah = (a >>> 16) & 0xffff,\n        al = a & 0xffff,\n        bh = (b >>> 16) & 0xffff,\n        bl = b & 0xffff;\n    // the shift by 0 fixes the sign on the high part\n    // the final |0 converts the unsigned value into a signed value\n    return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);\n};\ndefine(\"typedefs\", (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.typedefs;\n    };\n}(this)));\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('subImage',[\"typedefs\"], function() {\n    \"use strict\";\n\n    /**\n     * Construct representing a part of another {ImageWrapper}. Shares data\n     * between the parent and the child.\n     * @param from {ImageRef} The position where to start the {SubImage} from. (top-left corner)\n     * @param size {ImageRef} The size of the resulting image\n     * @param I {ImageWrapper} The {ImageWrapper} to share from\n     * @returns {SubImage} A shared part of the original image\n     */\n    function SubImage(from, size, I) {\n        if (!I) {\n            I = {\n                data : null,\n                size : size\n            };\n        }\n        this.data = I.data;\n        this.originalSize = I.size;\n        this.I = I;\n\n        this.from = from;\n        this.size = size;\n    }\n\n    /**\n     * Displays the {SubImage} in a given canvas\n     * @param canvas {Canvas} The canvas element to write to\n     * @param scale {Number} Scale which is applied to each pixel-value\n     */\n    SubImage.prototype.show = function(canvas, scale) {\n        var ctx,\n            frame,\n            data,\n            current,\n            y,\n            x,\n            pixel;\n            \n        if (!scale) {\n            scale = 1.0;\n        }\n        ctx = canvas.getContext('2d');\n        canvas.width = this.size.x;\n        canvas.height = this.size.y;\n        frame = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        data = frame.data;\n        current = 0;\n        for (y = 0; y < this.size.y; y++) {\n            for (x = 0; x < this.size.x; x++) {\n                pixel = y * this.size.x + x;\n                current = this.get(x, y) * scale;\n                data[pixel * 4 + 0] = current;\n                data[pixel * 4 + 1] = current;\n                data[pixel * 4 + 2] = current;\n                data[pixel * 4 + 3] = 255;\n            }\n        }\n        frame.data = data;\n        ctx.putImageData(frame, 0, 0);\n    };\n\n    /**\n     * Retrieves a given pixel position from the {SubImage}\n     * @param x {Number} The x-position\n     * @param y {Number} The y-position\n     * @returns {Number} The grayscale value at the pixel-position\n     */\n    SubImage.prototype.get = function(x, y) {\n        return this.data[(this.from.y + y) * this.originalSize.x + this.from.x + x];\n    };\n\n    /**\n     * Updates the underlying data from a given {ImageWrapper}\n     * @param image {ImageWrapper} The updated image\n     */\n    SubImage.prototype.updateData = function(image) {\n        this.originalSize = image.size;\n        this.data = image.data;\n    };\n\n    /**\n     * Updates the position of the shared area\n     * @param from {x,y} The new location\n     * @returns {SubImage} returns {this} for possible chaining\n     */\n    SubImage.prototype.updateFrom = function(from) {\n        this.from = from;\n        return this;\n    };\n    \n    return (SubImage);\n}); \n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define, vec2 */\n\ndefine('cluster',[],function() {\n    \"use strict\";\n    \n    /**\n     * Creates a cluster for grouping similar orientations of datapoints \n     */\n    var Cluster = {\n        create : function(point, threshold) {\n            var points = [], center = {\n                rad : 0,\n                vec : vec2.create([0, 0])\n            }, pointMap = {};\n\n            function init() {\n                add(point);\n                updateCenter();\n            }\n\n            function add(point) {\n                pointMap[point.id] = point;\n                points.push(point);\n            }\n\n            function updateCenter() {\n                var i, sum = 0;\n                for ( i = 0; i < points.length; i++) {\n                    sum += points[i].rad;\n                }\n                center.rad = sum / points.length;\n                center.vec = vec2.create([Math.cos(center.rad), Math.sin(center.rad)]);\n            }\n\n            init();\n\n            return {\n                add : function(point) {\n                    if (!pointMap[point.id]) {\n                        add(point);\n                        updateCenter();\n                    }\n                },\n                fits : function(point) {\n                    // check cosine similarity to center-angle\n                    var similarity = Math.abs(vec2.dot(point.point.vec, center.vec));\n                    if (similarity > threshold) {\n                        return true;\n                    }\n                    return false;\n                },\n                getPoints : function() {\n                    return points;\n                },\n                getCenter : function() {\n                    return center;\n                }\n            };\n        },\n        createPoint : function(point, id, property) {\n            return {\n                rad : point[property],\n                point : point,\n                id : id\n            };\n        }\n    };\n\n    return (Cluster);\n});\n\n/* \n * glMatrix.js - High performance matrix and vector operations for WebGL\n * version 0.9.6\n */\n \n/*\n * Copyright (c) 2011 Brandon Jones\n *\n * This software is provided 'as-is', without any express or implied\n * warranty. In no event will the authors be held liable for any damages\n * arising from the use of this software.\n *\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n *\n *    1. The origin of this software must not be misrepresented; you must not\n *    claim that you wrote the original software. If you use this software\n *    in a product, an acknowledgment in the product documentation would be\n *    appreciated but is not required.\n *\n *    2. Altered source versions must be plainly marked as such, and must not\n *    be misrepresented as being the original software.\n *\n *    3. This notice may not be removed or altered from any source\n *    distribution.\n */\n\n\n\n/*\n * vec3 - 3 Dimensional Vector\n */\nvar vec3 = {};\n\n/*\n * vec3.create\n * Creates a new instance of a vec3 using the default array type\n * Any javascript array containing at least 3 numeric elements can serve as a vec3\n *\n * Params:\n * vec - Optional, vec3 containing values to initialize with\n *\n * Returns:\n * New vec3\n */\nvec3.create = function(vec) {\t\n\tvar dest;\n\tif(vec) {\n\t\tdest = new glMatrixArrayType(3);\n\t\tdest[0] = vec[0];\n\t\tdest[1] = vec[1];\n\t\tdest[2] = vec[2];\n\t} else {\n\t\tif(glMatrixArrayType === Array)\n\t\t\tdest = new glMatrixArrayType([0,0,0]);\n\t\telse\n\t\t\tdest = new glMatrixArrayType(3);\n\t}\n\t\n\treturn dest;\n};\n\n/*\n * vec3.set\n * Copies the values of one vec3 to another\n *\n * Params:\n * vec - vec3 containing values to copy\n * dest - vec3 receiving copied values\n *\n * Returns:\n * dest\n */\nvec3.set = function(vec, dest) {\n\tdest[0] = vec[0];\n\tdest[1] = vec[1];\n\tdest[2] = vec[2];\n\t\n\treturn dest;\n};\n\n/*\n * vec3.add\n * Performs a vector addition\n *\n * Params:\n * vec - vec3, first operand\n * vec2 - vec3, second operand\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nvec3.add = function(vec, vec2, dest) {\n\tif(!dest || vec == dest) {\n\t\tvec[0] += vec2[0];\n\t\tvec[1] += vec2[1];\n\t\tvec[2] += vec2[2];\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0] + vec2[0];\n\tdest[1] = vec[1] + vec2[1];\n\tdest[2] = vec[2] + vec2[2];\n\treturn dest;\n};\n\n/*\n * vec3.subtract\n * Performs a vector subtraction\n *\n * Params:\n * vec - vec3, first operand\n * vec2 - vec3, second operand\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nvec3.subtract = function(vec, vec2, dest) {\n\tif(!dest || vec == dest) {\n\t\tvec[0] -= vec2[0];\n\t\tvec[1] -= vec2[1];\n\t\tvec[2] -= vec2[2];\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0] - vec2[0];\n\tdest[1] = vec[1] - vec2[1];\n\tdest[2] = vec[2] - vec2[2];\n\treturn dest;\n};\n\n/*\n * vec3.negate\n * Negates the components of a vec3\n *\n * Params:\n * vec - vec3 to negate\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nvec3.negate = function(vec, dest) {\n\tif(!dest) { dest = vec; }\n\t\n\tdest[0] = -vec[0];\n\tdest[1] = -vec[1];\n\tdest[2] = -vec[2];\n\treturn dest;\n};\n\n/*\n * vec3.scale\n * Multiplies the components of a vec3 by a scalar value\n *\n * Params:\n * vec - vec3 to scale\n * val - Numeric value to scale by\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nvec3.scale = function(vec, val, dest) {\n\tif(!dest || vec == dest) {\n\t\tvec[0] *= val;\n\t\tvec[1] *= val;\n\t\tvec[2] *= val;\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0]*val;\n\tdest[1] = vec[1]*val;\n\tdest[2] = vec[2]*val;\n\treturn dest;\n};\n\n/*\n * vec3.normalize\n * Generates a unit vector of the same direction as the provided vec3\n * If vector length is 0, returns [0, 0, 0]\n *\n * Params:\n * vec - vec3 to normalize\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nvec3.normalize = function(vec, dest) {\n\tif(!dest) { dest = vec; }\n\t\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\tvar len = Math.sqrt(x*x + y*y + z*z);\n\t\n\tif (!len) {\n\t\tdest[0] = 0;\n\t\tdest[1] = 0;\n\t\tdest[2] = 0;\n\t\treturn dest;\n\t} else if (len == 1) {\n\t\tdest[0] = x;\n\t\tdest[1] = y;\n\t\tdest[2] = z;\n\t\treturn dest;\n\t}\n\t\n\tlen = 1 / len;\n\tdest[0] = x*len;\n\tdest[1] = y*len;\n\tdest[2] = z*len;\n\treturn dest;\n};\n\n/*\n * vec3.cross\n * Generates the cross product of two vec3s\n *\n * Params:\n * vec - vec3, first operand\n * vec2 - vec3, second operand\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nvec3.cross = function(vec, vec2, dest){\n\tif(!dest) { dest = vec; }\n\t\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\tvar x2 = vec2[0], y2 = vec2[1], z2 = vec2[2];\n\t\n\tdest[0] = y*z2 - z*y2;\n\tdest[1] = z*x2 - x*z2;\n\tdest[2] = x*y2 - y*x2;\n\treturn dest;\n};\n\n/*\n * vec3.length\n * Caclulates the length of a vec3\n *\n * Params:\n * vec - vec3 to calculate length of\n *\n * Returns:\n * Length of vec\n */\nvec3.length = function(vec){\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\treturn Math.sqrt(x*x + y*y + z*z);\n};\n\n/*\n * vec3.dot\n * Caclulates the dot product of two vec3s\n *\n * Params:\n * vec - vec3, first operand\n * vec2 - vec3, second operand\n *\n * Returns:\n * Dot product of vec and vec2\n */\nvec3.dot = function(vec, vec2){\n\treturn vec[0]*vec2[0] + vec[1]*vec2[1] + vec[2]*vec2[2];\n};\n\n/*\n * vec3.direction\n * Generates a unit vector pointing from one vector to another\n *\n * Params:\n * vec - origin vec3\n * vec2 - vec3 to point to\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nvec3.direction = function(vec, vec2, dest) {\n\tif(!dest) { dest = vec; }\n\t\n\tvar x = vec[0] - vec2[0];\n\tvar y = vec[1] - vec2[1];\n\tvar z = vec[2] - vec2[2];\n\t\n\tvar len = Math.sqrt(x*x + y*y + z*z);\n\tif (!len) { \n\t\tdest[0] = 0; \n\t\tdest[1] = 0; \n\t\tdest[2] = 0;\n\t\treturn dest; \n\t}\n\t\n\tlen = 1 / len;\n\tdest[0] = x * len; \n\tdest[1] = y * len; \n\tdest[2] = z * len;\n\treturn dest; \n};\n\n/*\n * vec3.lerp\n * Performs a linear interpolation between two vec3\n *\n * Params:\n * vec - vec3, first vector\n * vec2 - vec3, second vector\n * lerp - interpolation amount between the two inputs\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nvec3.lerp = function(vec, vec2, lerp, dest){\n    if(!dest) { dest = vec; }\n    \n    dest[0] = vec[0] + lerp * (vec2[0] - vec[0]);\n    dest[1] = vec[1] + lerp * (vec2[1] - vec[1]);\n    dest[2] = vec[2] + lerp * (vec2[2] - vec[2]);\n    \n    return dest;\n};\n\n/*\n * vec3.str\n * Returns a string representation of a vector\n *\n * Params:\n * vec - vec3 to represent as a string\n *\n * Returns:\n * string representation of vec\n */\nvec3.str = function(vec) {\n\treturn '[' + vec[0] + ', ' + vec[1] + ', ' + vec[2] + ']'; \n};\n\n/*\n * mat3 - 3x3 Matrix\n */\nvar mat3 = {};\n\n/*\n * mat3.create\n * Creates a new instance of a mat3 using the default array type\n * Any javascript array containing at least 9 numeric elements can serve as a mat3\n *\n * Params:\n * mat - Optional, mat3 containing values to initialize with\n *\n * Returns:\n * New mat3\n */\nmat3.create = function(mat) {\n\tvar dest;\n\t\n\tif(mat) {\n\t\tdest = new glMatrixArrayType(9);\n\t\tdest[0] = mat[0];\n\t\tdest[1] = mat[1];\n\t\tdest[2] = mat[2];\n\t\tdest[3] = mat[3];\n\t\tdest[4] = mat[4];\n\t\tdest[5] = mat[5];\n\t\tdest[6] = mat[6];\n\t\tdest[7] = mat[7];\n\t\tdest[8] = mat[8];\n\t} else {\n\t\tif(glMatrixArrayType === Array)\n\t\t\tdest = new glMatrixArrayType([0,0,0,0,0,0,0,0,0]);\n\t\telse\n\t\t\tdest = new glMatrixArrayType(9);\n\t}\n\t\n\treturn dest;\n};\n\n/*\n * mat3.set\n * Copies the values of one mat3 to another\n *\n * Params:\n * mat - mat3 containing values to copy\n * dest - mat3 receiving copied values\n *\n * Returns:\n * dest\n */\nmat3.set = function(mat, dest) {\n\tdest[0] = mat[0];\n\tdest[1] = mat[1];\n\tdest[2] = mat[2];\n\tdest[3] = mat[3];\n\tdest[4] = mat[4];\n\tdest[5] = mat[5];\n\tdest[6] = mat[6];\n\tdest[7] = mat[7];\n\tdest[8] = mat[8];\n\treturn dest;\n};\n\n/*\n * mat3.identity\n * Sets a mat3 to an identity matrix\n *\n * Params:\n * dest - mat3 to set\n *\n * Returns:\n * dest\n */\nmat3.identity = function(dest) {\n\tdest[0] = 1;\n\tdest[1] = 0;\n\tdest[2] = 0;\n\tdest[3] = 0;\n\tdest[4] = 1;\n\tdest[5] = 0;\n\tdest[6] = 0;\n\tdest[7] = 0;\n\tdest[8] = 1;\n\treturn dest;\n};\n\n/*\n * mat4.transpose\n * Transposes a mat3 (flips the values over the diagonal)\n *\n * Params:\n * mat - mat3 to transpose\n * dest - Optional, mat3 receiving transposed values. If not specified result is written to mat\n *\n * Returns:\n * dest is specified, mat otherwise\n */\nmat3.transpose = function(mat, dest) {\n\t// If we are transposing ourselves we can skip a few steps but have to cache some values\n\tif(!dest || mat == dest) { \n\t\tvar a01 = mat[1], a02 = mat[2];\n\t\tvar a12 = mat[5];\n\t\t\n        mat[1] = mat[3];\n        mat[2] = mat[6];\n        mat[3] = a01;\n        mat[5] = mat[7];\n        mat[6] = a02;\n        mat[7] = a12;\n\t\treturn mat;\n\t}\n\t\n\tdest[0] = mat[0];\n\tdest[1] = mat[3];\n\tdest[2] = mat[6];\n\tdest[3] = mat[1];\n\tdest[4] = mat[4];\n\tdest[5] = mat[7];\n\tdest[6] = mat[2];\n\tdest[7] = mat[5];\n\tdest[8] = mat[8];\n\treturn dest;\n};\n\n/*\n * mat3.toMat4\n * Copies the elements of a mat3 into the upper 3x3 elements of a mat4\n *\n * Params:\n * mat - mat3 containing values to copy\n * dest - Optional, mat4 receiving copied values\n *\n * Returns:\n * dest if specified, a new mat4 otherwise\n */\nmat3.toMat4 = function(mat, dest) {\n\tif(!dest) { dest = mat4.create(); }\n\t\n\tdest[0] = mat[0];\n\tdest[1] = mat[1];\n\tdest[2] = mat[2];\n\tdest[3] = 0;\n\n\tdest[4] = mat[3];\n\tdest[5] = mat[4];\n\tdest[6] = mat[5];\n\tdest[7] = 0;\n\n\tdest[8] = mat[6];\n\tdest[9] = mat[7];\n\tdest[10] = mat[8];\n\tdest[11] = 0;\n\n\tdest[12] = 0;\n\tdest[13] = 0;\n\tdest[14] = 0;\n\tdest[15] = 1;\n\t\n\treturn dest;\n};\n\n/*\n * mat3.str\n * Returns a string representation of a mat3\n *\n * Params:\n * mat - mat3 to represent as a string\n *\n * Returns:\n * string representation of mat\n */\nmat3.str = function(mat) {\n\treturn '[' + mat[0] + ', ' + mat[1] + ', ' + mat[2] + \n\t\t', ' + mat[3] + ', '+ mat[4] + ', ' + mat[5] + \n\t\t', ' + mat[6] + ', ' + mat[7] + ', '+ mat[8] + ']';\n};\n\n/*\n * mat4 - 4x4 Matrix\n */\nvar mat4 = {};\n\n/*\n * mat4.create\n * Creates a new instance of a mat4 using the default array type\n * Any javascript array containing at least 16 numeric elements can serve as a mat4\n *\n * Params:\n * mat - Optional, mat4 containing values to initialize with\n *\n * Returns:\n * New mat4\n */\nmat4.create = function(mat) {\n\tvar dest;\n\t\n\tif(mat) {\n\t\tdest = new glMatrixArrayType(16);\n\t\tdest[0] = mat[0];\n\t\tdest[1] = mat[1];\n\t\tdest[2] = mat[2];\n\t\tdest[3] = mat[3];\n\t\tdest[4] = mat[4];\n\t\tdest[5] = mat[5];\n\t\tdest[6] = mat[6];\n\t\tdest[7] = mat[7];\n\t\tdest[8] = mat[8];\n\t\tdest[9] = mat[9];\n\t\tdest[10] = mat[10];\n\t\tdest[11] = mat[11];\n\t\tdest[12] = mat[12];\n\t\tdest[13] = mat[13];\n\t\tdest[14] = mat[14];\n\t\tdest[15] = mat[15];\n\t} else {\n\t\tif(glMatrixArrayType === Array)\n\t\t\tdest = new glMatrixArrayType([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);\n\t\telse\n\t\t\tdest = new glMatrixArrayType(16);\n\t}\n\t\n\treturn dest;\n};\n\n/*\n * mat4.set\n * Copies the values of one mat4 to another\n *\n * Params:\n * mat - mat4 containing values to copy\n * dest - mat4 receiving copied values\n *\n * Returns:\n * dest\n */\nmat4.set = function(mat, dest) {\n\tdest[0] = mat[0];\n\tdest[1] = mat[1];\n\tdest[2] = mat[2];\n\tdest[3] = mat[3];\n\tdest[4] = mat[4];\n\tdest[5] = mat[5];\n\tdest[6] = mat[6];\n\tdest[7] = mat[7];\n\tdest[8] = mat[8];\n\tdest[9] = mat[9];\n\tdest[10] = mat[10];\n\tdest[11] = mat[11];\n\tdest[12] = mat[12];\n\tdest[13] = mat[13];\n\tdest[14] = mat[14];\n\tdest[15] = mat[15];\n\treturn dest;\n};\n\n/*\n * mat4.identity\n * Sets a mat4 to an identity matrix\n *\n * Params:\n * dest - mat4 to set\n *\n * Returns:\n * dest\n */\nmat4.identity = function(dest) {\n\tdest[0] = 1;\n\tdest[1] = 0;\n\tdest[2] = 0;\n\tdest[3] = 0;\n\tdest[4] = 0;\n\tdest[5] = 1;\n\tdest[6] = 0;\n\tdest[7] = 0;\n\tdest[8] = 0;\n\tdest[9] = 0;\n\tdest[10] = 1;\n\tdest[11] = 0;\n\tdest[12] = 0;\n\tdest[13] = 0;\n\tdest[14] = 0;\n\tdest[15] = 1;\n\treturn dest;\n};\n\n/*\n * mat4.transpose\n * Transposes a mat4 (flips the values over the diagonal)\n *\n * Params:\n * mat - mat4 to transpose\n * dest - Optional, mat4 receiving transposed values. If not specified result is written to mat\n *\n * Returns:\n * dest is specified, mat otherwise\n */\nmat4.transpose = function(mat, dest) {\n\t// If we are transposing ourselves we can skip a few steps but have to cache some values\n\tif(!dest || mat == dest) { \n\t\tvar a01 = mat[1], a02 = mat[2], a03 = mat[3];\n\t\tvar a12 = mat[6], a13 = mat[7];\n\t\tvar a23 = mat[11];\n\t\t\n\t\tmat[1] = mat[4];\n\t\tmat[2] = mat[8];\n\t\tmat[3] = mat[12];\n\t\tmat[4] = a01;\n\t\tmat[6] = mat[9];\n\t\tmat[7] = mat[13];\n\t\tmat[8] = a02;\n\t\tmat[9] = a12;\n\t\tmat[11] = mat[14];\n\t\tmat[12] = a03;\n\t\tmat[13] = a13;\n\t\tmat[14] = a23;\n\t\treturn mat;\n\t}\n\t\n\tdest[0] = mat[0];\n\tdest[1] = mat[4];\n\tdest[2] = mat[8];\n\tdest[3] = mat[12];\n\tdest[4] = mat[1];\n\tdest[5] = mat[5];\n\tdest[6] = mat[9];\n\tdest[7] = mat[13];\n\tdest[8] = mat[2];\n\tdest[9] = mat[6];\n\tdest[10] = mat[10];\n\tdest[11] = mat[14];\n\tdest[12] = mat[3];\n\tdest[13] = mat[7];\n\tdest[14] = mat[11];\n\tdest[15] = mat[15];\n\treturn dest;\n};\n\n/*\n * mat4.determinant\n * Calculates the determinant of a mat4\n *\n * Params:\n * mat - mat4 to calculate determinant of\n *\n * Returns:\n * determinant of mat\n */\nmat4.determinant = function(mat) {\n\t// Cache the matrix values (makes for huge speed increases!)\n\tvar a00 = mat[0], a01 = mat[1], a02 = mat[2], a03 = mat[3];\n\tvar a10 = mat[4], a11 = mat[5], a12 = mat[6], a13 = mat[7];\n\tvar a20 = mat[8], a21 = mat[9], a22 = mat[10], a23 = mat[11];\n\tvar a30 = mat[12], a31 = mat[13], a32 = mat[14], a33 = mat[15];\n\n\treturn\ta30*a21*a12*a03 - a20*a31*a12*a03 - a30*a11*a22*a03 + a10*a31*a22*a03 +\n\t\t\ta20*a11*a32*a03 - a10*a21*a32*a03 - a30*a21*a02*a13 + a20*a31*a02*a13 +\n\t\t\ta30*a01*a22*a13 - a00*a31*a22*a13 - a20*a01*a32*a13 + a00*a21*a32*a13 +\n\t\t\ta30*a11*a02*a23 - a10*a31*a02*a23 - a30*a01*a12*a23 + a00*a31*a12*a23 +\n\t\t\ta10*a01*a32*a23 - a00*a11*a32*a23 - a20*a11*a02*a33 + a10*a21*a02*a33 +\n\t\t\ta20*a01*a12*a33 - a00*a21*a12*a33 - a10*a01*a22*a33 + a00*a11*a22*a33;\n};\n\n/*\n * mat4.inverse\n * Calculates the inverse matrix of a mat4\n *\n * Params:\n * mat - mat4 to calculate inverse of\n * dest - Optional, mat4 receiving inverse matrix. If not specified result is written to mat\n *\n * Returns:\n * dest is specified, mat otherwise\n */\nmat4.inverse = function(mat, dest) {\n\tif(!dest) { dest = mat; }\n\t\n\t// Cache the matrix values (makes for huge speed increases!)\n\tvar a00 = mat[0], a01 = mat[1], a02 = mat[2], a03 = mat[3];\n\tvar a10 = mat[4], a11 = mat[5], a12 = mat[6], a13 = mat[7];\n\tvar a20 = mat[8], a21 = mat[9], a22 = mat[10], a23 = mat[11];\n\tvar a30 = mat[12], a31 = mat[13], a32 = mat[14], a33 = mat[15];\n\t\n\tvar b00 = a00*a11 - a01*a10;\n\tvar b01 = a00*a12 - a02*a10;\n\tvar b02 = a00*a13 - a03*a10;\n\tvar b03 = a01*a12 - a02*a11;\n\tvar b04 = a01*a13 - a03*a11;\n\tvar b05 = a02*a13 - a03*a12;\n\tvar b06 = a20*a31 - a21*a30;\n\tvar b07 = a20*a32 - a22*a30;\n\tvar b08 = a20*a33 - a23*a30;\n\tvar b09 = a21*a32 - a22*a31;\n\tvar b10 = a21*a33 - a23*a31;\n\tvar b11 = a22*a33 - a23*a32;\n\t\n\t// Calculate the determinant (inlined to avoid double-caching)\n\tvar invDet = 1/(b00*b11 - b01*b10 + b02*b09 + b03*b08 - b04*b07 + b05*b06);\n\t\n\tdest[0] = (a11*b11 - a12*b10 + a13*b09)*invDet;\n\tdest[1] = (-a01*b11 + a02*b10 - a03*b09)*invDet;\n\tdest[2] = (a31*b05 - a32*b04 + a33*b03)*invDet;\n\tdest[3] = (-a21*b05 + a22*b04 - a23*b03)*invDet;\n\tdest[4] = (-a10*b11 + a12*b08 - a13*b07)*invDet;\n\tdest[5] = (a00*b11 - a02*b08 + a03*b07)*invDet;\n\tdest[6] = (-a30*b05 + a32*b02 - a33*b01)*invDet;\n\tdest[7] = (a20*b05 - a22*b02 + a23*b01)*invDet;\n\tdest[8] = (a10*b10 - a11*b08 + a13*b06)*invDet;\n\tdest[9] = (-a00*b10 + a01*b08 - a03*b06)*invDet;\n\tdest[10] = (a30*b04 - a31*b02 + a33*b00)*invDet;\n\tdest[11] = (-a20*b04 + a21*b02 - a23*b00)*invDet;\n\tdest[12] = (-a10*b09 + a11*b07 - a12*b06)*invDet;\n\tdest[13] = (a00*b09 - a01*b07 + a02*b06)*invDet;\n\tdest[14] = (-a30*b03 + a31*b01 - a32*b00)*invDet;\n\tdest[15] = (a20*b03 - a21*b01 + a22*b00)*invDet;\n\t\n\treturn dest;\n};\n\n/*\n * mat4.toRotationMat\n * Copies the upper 3x3 elements of a mat4 into another mat4\n *\n * Params:\n * mat - mat4 containing values to copy\n * dest - Optional, mat4 receiving copied values\n *\n * Returns:\n * dest is specified, a new mat4 otherwise\n */\nmat4.toRotationMat = function(mat, dest) {\n\tif(!dest) { dest = mat4.create(); }\n\t\n\tdest[0] = mat[0];\n\tdest[1] = mat[1];\n\tdest[2] = mat[2];\n\tdest[3] = mat[3];\n\tdest[4] = mat[4];\n\tdest[5] = mat[5];\n\tdest[6] = mat[6];\n\tdest[7] = mat[7];\n\tdest[8] = mat[8];\n\tdest[9] = mat[9];\n\tdest[10] = mat[10];\n\tdest[11] = mat[11];\n\tdest[12] = 0;\n\tdest[13] = 0;\n\tdest[14] = 0;\n\tdest[15] = 1;\n\t\n\treturn dest;\n};\n\n/*\n * mat4.toMat3\n * Copies the upper 3x3 elements of a mat4 into a mat3\n *\n * Params:\n * mat - mat4 containing values to copy\n * dest - Optional, mat3 receiving copied values\n *\n * Returns:\n * dest is specified, a new mat3 otherwise\n */\nmat4.toMat3 = function(mat, dest) {\n\tif(!dest) { dest = mat3.create(); }\n\t\n\tdest[0] = mat[0];\n\tdest[1] = mat[1];\n\tdest[2] = mat[2];\n\tdest[3] = mat[4];\n\tdest[4] = mat[5];\n\tdest[5] = mat[6];\n\tdest[6] = mat[8];\n\tdest[7] = mat[9];\n\tdest[8] = mat[10];\n\t\n\treturn dest;\n};\n\n/*\n * mat4.toInverseMat3\n * Calculates the inverse of the upper 3x3 elements of a mat4 and copies the result into a mat3\n * The resulting matrix is useful for calculating transformed normals\n *\n * Params:\n * mat - mat4 containing values to invert and copy\n * dest - Optional, mat3 receiving values\n *\n * Returns:\n * dest is specified, a new mat3 otherwise\n */\nmat4.toInverseMat3 = function(mat, dest) {\n\t// Cache the matrix values (makes for huge speed increases!)\n\tvar a00 = mat[0], a01 = mat[1], a02 = mat[2];\n\tvar a10 = mat[4], a11 = mat[5], a12 = mat[6];\n\tvar a20 = mat[8], a21 = mat[9], a22 = mat[10];\n\t\n\tvar b01 = a22*a11-a12*a21;\n\tvar b11 = -a22*a10+a12*a20;\n\tvar b21 = a21*a10-a11*a20;\n\t\t\n\tvar d = a00*b01 + a01*b11 + a02*b21;\n\tif (!d) { return null; }\n\tvar id = 1/d;\n\t\n\tif(!dest) { dest = mat3.create(); }\n\t\n\tdest[0] = b01*id;\n\tdest[1] = (-a22*a01 + a02*a21)*id;\n\tdest[2] = (a12*a01 - a02*a11)*id;\n\tdest[3] = b11*id;\n\tdest[4] = (a22*a00 - a02*a20)*id;\n\tdest[5] = (-a12*a00 + a02*a10)*id;\n\tdest[6] = b21*id;\n\tdest[7] = (-a21*a00 + a01*a20)*id;\n\tdest[8] = (a11*a00 - a01*a10)*id;\n\t\n\treturn dest;\n};\n\n/*\n * mat4.multiply\n * Performs a matrix multiplication\n *\n * Params:\n * mat - mat4, first operand\n * mat2 - mat4, second operand\n * dest - Optional, mat4 receiving operation result. If not specified result is written to mat\n *\n * Returns:\n * dest if specified, mat otherwise\n */\nmat4.multiply = function(mat, mat2, dest) {\n\tif(!dest) { dest = mat; }\n\t\n\t// Cache the matrix values (makes for huge speed increases!)\n\tvar a00 = mat[0], a01 = mat[1], a02 = mat[2], a03 = mat[3];\n\tvar a10 = mat[4], a11 = mat[5], a12 = mat[6], a13 = mat[7];\n\tvar a20 = mat[8], a21 = mat[9], a22 = mat[10], a23 = mat[11];\n\tvar a30 = mat[12], a31 = mat[13], a32 = mat[14], a33 = mat[15];\n\t\n\tvar b00 = mat2[0], b01 = mat2[1], b02 = mat2[2], b03 = mat2[3];\n\tvar b10 = mat2[4], b11 = mat2[5], b12 = mat2[6], b13 = mat2[7];\n\tvar b20 = mat2[8], b21 = mat2[9], b22 = mat2[10], b23 = mat2[11];\n\tvar b30 = mat2[12], b31 = mat2[13], b32 = mat2[14], b33 = mat2[15];\n\t\n\tdest[0] = b00*a00 + b01*a10 + b02*a20 + b03*a30;\n\tdest[1] = b00*a01 + b01*a11 + b02*a21 + b03*a31;\n\tdest[2] = b00*a02 + b01*a12 + b02*a22 + b03*a32;\n\tdest[3] = b00*a03 + b01*a13 + b02*a23 + b03*a33;\n\tdest[4] = b10*a00 + b11*a10 + b12*a20 + b13*a30;\n\tdest[5] = b10*a01 + b11*a11 + b12*a21 + b13*a31;\n\tdest[6] = b10*a02 + b11*a12 + b12*a22 + b13*a32;\n\tdest[7] = b10*a03 + b11*a13 + b12*a23 + b13*a33;\n\tdest[8] = b20*a00 + b21*a10 + b22*a20 + b23*a30;\n\tdest[9] = b20*a01 + b21*a11 + b22*a21 + b23*a31;\n\tdest[10] = b20*a02 + b21*a12 + b22*a22 + b23*a32;\n\tdest[11] = b20*a03 + b21*a13 + b22*a23 + b23*a33;\n\tdest[12] = b30*a00 + b31*a10 + b32*a20 + b33*a30;\n\tdest[13] = b30*a01 + b31*a11 + b32*a21 + b33*a31;\n\tdest[14] = b30*a02 + b31*a12 + b32*a22 + b33*a32;\n\tdest[15] = b30*a03 + b31*a13 + b32*a23 + b33*a33;\n\t\n\treturn dest;\n};\n\n/*\n * mat4.multiplyVec3\n * Transforms a vec3 with the given matrix\n * 4th vector component is implicitly '1'\n *\n * Params:\n * mat - mat4 to transform the vector with\n * vec - vec3 to transform\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nmat4.multiplyVec3 = function(mat, vec, dest) {\n\tif(!dest) { dest = vec; }\n\t\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\t\n\tdest[0] = mat[0]*x + mat[4]*y + mat[8]*z + mat[12];\n\tdest[1] = mat[1]*x + mat[5]*y + mat[9]*z + mat[13];\n\tdest[2] = mat[2]*x + mat[6]*y + mat[10]*z + mat[14];\n\t\n\treturn dest;\n};\n\n/*\n * mat4.multiplyVec4\n * Transforms a vec4 with the given matrix\n *\n * Params:\n * mat - mat4 to transform the vector with\n * vec - vec4 to transform\n * dest - Optional, vec4 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nmat4.multiplyVec4 = function(mat, vec, dest) {\n\tif(!dest) { dest = vec; }\n\t\n\tvar x = vec[0], y = vec[1], z = vec[2], w = vec[3];\n\t\n\tdest[0] = mat[0]*x + mat[4]*y + mat[8]*z + mat[12]*w;\n\tdest[1] = mat[1]*x + mat[5]*y + mat[9]*z + mat[13]*w;\n\tdest[2] = mat[2]*x + mat[6]*y + mat[10]*z + mat[14]*w;\n\tdest[3] = mat[3]*x + mat[7]*y + mat[11]*z + mat[15]*w;\n\t\n\treturn dest;\n};\n\n/*\n * mat4.translate\n * Translates a matrix by the given vector\n *\n * Params:\n * mat - mat4 to translate\n * vec - vec3 specifying the translation\n * dest - Optional, mat4 receiving operation result. If not specified result is written to mat\n *\n * Returns:\n * dest if specified, mat otherwise\n */\nmat4.translate = function(mat, vec, dest) {\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\t\n\tif(!dest || mat == dest) {\n\t\tmat[12] = mat[0]*x + mat[4]*y + mat[8]*z + mat[12];\n\t\tmat[13] = mat[1]*x + mat[5]*y + mat[9]*z + mat[13];\n\t\tmat[14] = mat[2]*x + mat[6]*y + mat[10]*z + mat[14];\n\t\tmat[15] = mat[3]*x + mat[7]*y + mat[11]*z + mat[15];\n\t\treturn mat;\n\t}\n\t\n\tvar a00 = mat[0], a01 = mat[1], a02 = mat[2], a03 = mat[3];\n\tvar a10 = mat[4], a11 = mat[5], a12 = mat[6], a13 = mat[7];\n\tvar a20 = mat[8], a21 = mat[9], a22 = mat[10], a23 = mat[11];\n\t\n\tdest[0] = a00;\n\tdest[1] = a01;\n\tdest[2] = a02;\n\tdest[3] = a03;\n\tdest[4] = a10;\n\tdest[5] = a11;\n\tdest[6] = a12;\n\tdest[7] = a13;\n\tdest[8] = a20;\n\tdest[9] = a21;\n\tdest[10] = a22;\n\tdest[11] = a23;\n\t\n\tdest[12] = a00*x + a10*y + a20*z + mat[12];\n\tdest[13] = a01*x + a11*y + a21*z + mat[13];\n\tdest[14] = a02*x + a12*y + a22*z + mat[14];\n\tdest[15] = a03*x + a13*y + a23*z + mat[15];\n\treturn dest;\n};\n\n/*\n * mat4.scale\n * Scales a matrix by the given vector\n *\n * Params:\n * mat - mat4 to scale\n * vec - vec3 specifying the scale for each axis\n * dest - Optional, mat4 receiving operation result. If not specified result is written to mat\n *\n * Returns:\n * dest if specified, mat otherwise\n */\nmat4.scale = function(mat, vec, dest) {\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\t\n\tif(!dest || mat == dest) {\n\t\tmat[0] *= x;\n\t\tmat[1] *= x;\n\t\tmat[2] *= x;\n\t\tmat[3] *= x;\n\t\tmat[4] *= y;\n\t\tmat[5] *= y;\n\t\tmat[6] *= y;\n\t\tmat[7] *= y;\n\t\tmat[8] *= z;\n\t\tmat[9] *= z;\n\t\tmat[10] *= z;\n\t\tmat[11] *= z;\n\t\treturn mat;\n\t}\n\t\n\tdest[0] = mat[0]*x;\n\tdest[1] = mat[1]*x;\n\tdest[2] = mat[2]*x;\n\tdest[3] = mat[3]*x;\n\tdest[4] = mat[4]*y;\n\tdest[5] = mat[5]*y;\n\tdest[6] = mat[6]*y;\n\tdest[7] = mat[7]*y;\n\tdest[8] = mat[8]*z;\n\tdest[9] = mat[9]*z;\n\tdest[10] = mat[10]*z;\n\tdest[11] = mat[11]*z;\n\tdest[12] = mat[12];\n\tdest[13] = mat[13];\n\tdest[14] = mat[14];\n\tdest[15] = mat[15];\n\treturn dest;\n};\n\n/*\n * mat4.rotate\n * Rotates a matrix by the given angle around the specified axis\n * If rotating around a primary axis (X,Y,Z) one of the specialized rotation functions should be used instead for performance\n *\n * Params:\n * mat - mat4 to rotate\n * angle - angle (in radians) to rotate\n * axis - vec3 representing the axis to rotate around \n * dest - Optional, mat4 receiving operation result. If not specified result is written to mat\n *\n * Returns:\n * dest if specified, mat otherwise\n */\nmat4.rotate = function(mat, angle, axis, dest) {\n\tvar x = axis[0], y = axis[1], z = axis[2];\n\tvar len = Math.sqrt(x*x + y*y + z*z);\n\tif (!len) { return null; }\n\tif (len != 1) {\n\t\tlen = 1 / len;\n\t\tx *= len; \n\t\ty *= len; \n\t\tz *= len;\n\t}\n\t\n\tvar s = Math.sin(angle);\n\tvar c = Math.cos(angle);\n\tvar t = 1-c;\n\t\n\t// Cache the matrix values (makes for huge speed increases!)\n\tvar a00 = mat[0], a01 = mat[1], a02 = mat[2], a03 = mat[3];\n\tvar a10 = mat[4], a11 = mat[5], a12 = mat[6], a13 = mat[7];\n\tvar a20 = mat[8], a21 = mat[9], a22 = mat[10], a23 = mat[11];\n\t\n\t// Construct the elements of the rotation matrix\n\tvar b00 = x*x*t + c, b01 = y*x*t + z*s, b02 = z*x*t - y*s;\n\tvar b10 = x*y*t - z*s, b11 = y*y*t + c, b12 = z*y*t + x*s;\n\tvar b20 = x*z*t + y*s, b21 = y*z*t - x*s, b22 = z*z*t + c;\n\t\n\tif(!dest) { \n\t\tdest = mat; \n\t} else if(mat != dest) { // If the source and destination differ, copy the unchanged last row\n\t\tdest[12] = mat[12];\n\t\tdest[13] = mat[13];\n\t\tdest[14] = mat[14];\n\t\tdest[15] = mat[15];\n\t}\n\t\n\t// Perform rotation-specific matrix multiplication\n\tdest[0] = a00*b00 + a10*b01 + a20*b02;\n\tdest[1] = a01*b00 + a11*b01 + a21*b02;\n\tdest[2] = a02*b00 + a12*b01 + a22*b02;\n\tdest[3] = a03*b00 + a13*b01 + a23*b02;\n\t\n\tdest[4] = a00*b10 + a10*b11 + a20*b12;\n\tdest[5] = a01*b10 + a11*b11 + a21*b12;\n\tdest[6] = a02*b10 + a12*b11 + a22*b12;\n\tdest[7] = a03*b10 + a13*b11 + a23*b12;\n\t\n\tdest[8] = a00*b20 + a10*b21 + a20*b22;\n\tdest[9] = a01*b20 + a11*b21 + a21*b22;\n\tdest[10] = a02*b20 + a12*b21 + a22*b22;\n\tdest[11] = a03*b20 + a13*b21 + a23*b22;\n\treturn dest;\n};\n\n/*\n * mat4.rotateX\n * Rotates a matrix by the given angle around the X axis\n *\n * Params:\n * mat - mat4 to rotate\n * angle - angle (in radians) to rotate\n * dest - Optional, mat4 receiving operation result. If not specified result is written to mat\n *\n * Returns:\n * dest if specified, mat otherwise\n */\nmat4.rotateX = function(mat, angle, dest) {\n\tvar s = Math.sin(angle);\n\tvar c = Math.cos(angle);\n\t\n\t// Cache the matrix values (makes for huge speed increases!)\n\tvar a10 = mat[4], a11 = mat[5], a12 = mat[6], a13 = mat[7];\n\tvar a20 = mat[8], a21 = mat[9], a22 = mat[10], a23 = mat[11];\n\n\tif(!dest) { \n\t\tdest = mat; \n\t} else if(mat != dest) { // If the source and destination differ, copy the unchanged rows\n\t\tdest[0] = mat[0];\n\t\tdest[1] = mat[1];\n\t\tdest[2] = mat[2];\n\t\tdest[3] = mat[3];\n\t\t\n\t\tdest[12] = mat[12];\n\t\tdest[13] = mat[13];\n\t\tdest[14] = mat[14];\n\t\tdest[15] = mat[15];\n\t}\n\t\n\t// Perform axis-specific matrix multiplication\n\tdest[4] = a10*c + a20*s;\n\tdest[5] = a11*c + a21*s;\n\tdest[6] = a12*c + a22*s;\n\tdest[7] = a13*c + a23*s;\n\t\n\tdest[8] = a10*-s + a20*c;\n\tdest[9] = a11*-s + a21*c;\n\tdest[10] = a12*-s + a22*c;\n\tdest[11] = a13*-s + a23*c;\n\treturn dest;\n};\n\n/*\n * mat4.rotateY\n * Rotates a matrix by the given angle around the Y axis\n *\n * Params:\n * mat - mat4 to rotate\n * angle - angle (in radians) to rotate\n * dest - Optional, mat4 receiving operation result. If not specified result is written to mat\n *\n * Returns:\n * dest if specified, mat otherwise\n */\nmat4.rotateY = function(mat, angle, dest) {\n\tvar s = Math.sin(angle);\n\tvar c = Math.cos(angle);\n\t\n\t// Cache the matrix values (makes for huge speed increases!)\n\tvar a00 = mat[0], a01 = mat[1], a02 = mat[2], a03 = mat[3];\n\tvar a20 = mat[8], a21 = mat[9], a22 = mat[10], a23 = mat[11];\n\t\n\tif(!dest) { \n\t\tdest = mat; \n\t} else if(mat != dest) { // If the source and destination differ, copy the unchanged rows\n\t\tdest[4] = mat[4];\n\t\tdest[5] = mat[5];\n\t\tdest[6] = mat[6];\n\t\tdest[7] = mat[7];\n\t\t\n\t\tdest[12] = mat[12];\n\t\tdest[13] = mat[13];\n\t\tdest[14] = mat[14];\n\t\tdest[15] = mat[15];\n\t}\n\t\n\t// Perform axis-specific matrix multiplication\n\tdest[0] = a00*c + a20*-s;\n\tdest[1] = a01*c + a21*-s;\n\tdest[2] = a02*c + a22*-s;\n\tdest[3] = a03*c + a23*-s;\n\t\n\tdest[8] = a00*s + a20*c;\n\tdest[9] = a01*s + a21*c;\n\tdest[10] = a02*s + a22*c;\n\tdest[11] = a03*s + a23*c;\n\treturn dest;\n};\n\n/*\n * mat4.rotateZ\n * Rotates a matrix by the given angle around the Z axis\n *\n * Params:\n * mat - mat4 to rotate\n * angle - angle (in radians) to rotate\n * dest - Optional, mat4 receiving operation result. If not specified result is written to mat\n *\n * Returns:\n * dest if specified, mat otherwise\n */\nmat4.rotateZ = function(mat, angle, dest) {\n\tvar s = Math.sin(angle);\n\tvar c = Math.cos(angle);\n\t\n\t// Cache the matrix values (makes for huge speed increases!)\n\tvar a00 = mat[0], a01 = mat[1], a02 = mat[2], a03 = mat[3];\n\tvar a10 = mat[4], a11 = mat[5], a12 = mat[6], a13 = mat[7];\n\t\n\tif(!dest) { \n\t\tdest = mat; \n\t} else if(mat != dest) { // If the source and destination differ, copy the unchanged last row\n\t\tdest[8] = mat[8];\n\t\tdest[9] = mat[9];\n\t\tdest[10] = mat[10];\n\t\tdest[11] = mat[11];\n\t\t\n\t\tdest[12] = mat[12];\n\t\tdest[13] = mat[13];\n\t\tdest[14] = mat[14];\n\t\tdest[15] = mat[15];\n\t}\n\t\n\t// Perform axis-specific matrix multiplication\n\tdest[0] = a00*c + a10*s;\n\tdest[1] = a01*c + a11*s;\n\tdest[2] = a02*c + a12*s;\n\tdest[3] = a03*c + a13*s;\n\t\n\tdest[4] = a00*-s + a10*c;\n\tdest[5] = a01*-s + a11*c;\n\tdest[6] = a02*-s + a12*c;\n\tdest[7] = a03*-s + a13*c;\n\t\n\treturn dest;\n};\n\n/*\n * mat4.frustum\n * Generates a frustum matrix with the given bounds\n *\n * Params:\n * left, right - scalar, left and right bounds of the frustum\n * bottom, top - scalar, bottom and top bounds of the frustum\n * near, far - scalar, near and far bounds of the frustum\n * dest - Optional, mat4 frustum matrix will be written into\n *\n * Returns:\n * dest if specified, a new mat4 otherwise\n */\nmat4.frustum = function(left, right, bottom, top, near, far, dest) {\n\tif(!dest) { dest = mat4.create(); }\n\tvar rl = (right - left);\n\tvar tb = (top - bottom);\n\tvar fn = (far - near);\n\tdest[0] = (near*2) / rl;\n\tdest[1] = 0;\n\tdest[2] = 0;\n\tdest[3] = 0;\n\tdest[4] = 0;\n\tdest[5] = (near*2) / tb;\n\tdest[6] = 0;\n\tdest[7] = 0;\n\tdest[8] = (right + left) / rl;\n\tdest[9] = (top + bottom) / tb;\n\tdest[10] = -(far + near) / fn;\n\tdest[11] = -1;\n\tdest[12] = 0;\n\tdest[13] = 0;\n\tdest[14] = -(far*near*2) / fn;\n\tdest[15] = 0;\n\treturn dest;\n};\n\n/*\n * mat4.perspective\n * Generates a perspective projection matrix with the given bounds\n *\n * Params:\n * fovy - scalar, vertical field of view\n * aspect - scalar, aspect ratio. typically viewport width/height\n * near, far - scalar, near and far bounds of the frustum\n * dest - Optional, mat4 frustum matrix will be written into\n *\n * Returns:\n * dest if specified, a new mat4 otherwise\n */\nmat4.perspective = function(fovy, aspect, near, far, dest) {\n\tvar top = near*Math.tan(fovy*Math.PI / 360.0);\n\tvar right = top*aspect;\n\treturn mat4.frustum(-right, right, -top, top, near, far, dest);\n};\n\n/*\n * mat4.ortho\n * Generates a orthogonal projection matrix with the given bounds\n *\n * Params:\n * left, right - scalar, left and right bounds of the frustum\n * bottom, top - scalar, bottom and top bounds of the frustum\n * near, far - scalar, near and far bounds of the frustum\n * dest - Optional, mat4 frustum matrix will be written into\n *\n * Returns:\n * dest if specified, a new mat4 otherwise\n */\nmat4.ortho = function(left, right, bottom, top, near, far, dest) {\n\tif(!dest) { dest = mat4.create(); }\n\tvar rl = (right - left);\n\tvar tb = (top - bottom);\n\tvar fn = (far - near);\n\tdest[0] = 2 / rl;\n\tdest[1] = 0;\n\tdest[2] = 0;\n\tdest[3] = 0;\n\tdest[4] = 0;\n\tdest[5] = 2 / tb;\n\tdest[6] = 0;\n\tdest[7] = 0;\n\tdest[8] = 0;\n\tdest[9] = 0;\n\tdest[10] = -2 / fn;\n\tdest[11] = 0;\n\tdest[12] = -(left + right) / rl;\n\tdest[13] = -(top + bottom) / tb;\n\tdest[14] = -(far + near) / fn;\n\tdest[15] = 1;\n\treturn dest;\n};\n\n/*\n * mat4.ortho\n * Generates a look-at matrix with the given eye position, focal point, and up axis\n *\n * Params:\n * eye - vec3, position of the viewer\n * center - vec3, point the viewer is looking at\n * up - vec3 pointing \"up\"\n * dest - Optional, mat4 frustum matrix will be written into\n *\n * Returns:\n * dest if specified, a new mat4 otherwise\n */\nmat4.lookAt = function(eye, center, up, dest) {\n\tif(!dest) { dest = mat4.create(); }\n\t\n\tvar eyex = eye[0],\n\t\teyey = eye[1],\n\t\teyez = eye[2],\n\t\tupx = up[0],\n\t\tupy = up[1],\n\t\tupz = up[2],\n\t\tcenterx = center[0],\n\t\tcentery = center[1],\n\t\tcenterz = center[2];\n\n\tif (eyex == centerx && eyey == centery && eyez == centerz) {\n\t\treturn mat4.identity(dest);\n\t}\n\t\n\tvar z0,z1,z2,x0,x1,x2,y0,y1,y2,len;\n\t\n\t//vec3.direction(eye, center, z);\n\tz0 = eyex - center[0];\n\tz1 = eyey - center[1];\n\tz2 = eyez - center[2];\n\t\n\t// normalize (no check needed for 0 because of early return)\n\tlen = 1/Math.sqrt(z0*z0 + z1*z1 + z2*z2);\n\tz0 *= len;\n\tz1 *= len;\n\tz2 *= len;\n\t\n\t//vec3.normalize(vec3.cross(up, z, x));\n\tx0 = upy*z2 - upz*z1;\n\tx1 = upz*z0 - upx*z2;\n\tx2 = upx*z1 - upy*z0;\n\tlen = Math.sqrt(x0*x0 + x1*x1 + x2*x2);\n\tif (!len) {\n\t\tx0 = 0;\n\t\tx1 = 0;\n\t\tx2 = 0;\n\t} else {\n\t\tlen = 1/len;\n\t\tx0 *= len;\n\t\tx1 *= len;\n\t\tx2 *= len;\n\t};\n\t\n\t//vec3.normalize(vec3.cross(z, x, y));\n\ty0 = z1*x2 - z2*x1;\n\ty1 = z2*x0 - z0*x2;\n\ty2 = z0*x1 - z1*x0;\n\t\n\tlen = Math.sqrt(y0*y0 + y1*y1 + y2*y2);\n\tif (!len) {\n\t\ty0 = 0;\n\t\ty1 = 0;\n\t\ty2 = 0;\n\t} else {\n\t\tlen = 1/len;\n\t\ty0 *= len;\n\t\ty1 *= len;\n\t\ty2 *= len;\n\t}\n\t\n\tdest[0] = x0;\n\tdest[1] = y0;\n\tdest[2] = z0;\n\tdest[3] = 0;\n\tdest[4] = x1;\n\tdest[5] = y1;\n\tdest[6] = z1;\n\tdest[7] = 0;\n\tdest[8] = x2;\n\tdest[9] = y2;\n\tdest[10] = z2;\n\tdest[11] = 0;\n\tdest[12] = -(x0*eyex + x1*eyey + x2*eyez);\n\tdest[13] = -(y0*eyex + y1*eyey + y2*eyez);\n\tdest[14] = -(z0*eyex + z1*eyey + z2*eyez);\n\tdest[15] = 1;\n\t\n\treturn dest;\n};\n\n/*\n * mat4.str\n * Returns a string representation of a mat4\n *\n * Params:\n * mat - mat4 to represent as a string\n *\n * Returns:\n * string representation of mat\n */\nmat4.str = function(mat) {\n\treturn '[' + mat[0] + ', ' + mat[1] + ', ' + mat[2] + ', ' + mat[3] + \n\t\t',\\n '+ mat[4] + ', ' + mat[5] + ', ' + mat[6] + ', ' + mat[7] + \n\t\t',\\n '+ mat[8] + ', ' + mat[9] + ', ' + mat[10] + ', ' + mat[11] + \n\t\t',\\n '+ mat[12] + ', ' + mat[13] + ', ' + mat[14] + ', ' + mat[15] + ']';\n};\n\n/*\n * quat4 - Quaternions \n */\nquat4 = {};\n\n/*\n * quat4.create\n * Creates a new instance of a quat4 using the default array type\n * Any javascript array containing at least 4 numeric elements can serve as a quat4\n *\n * Params:\n * quat - Optional, quat4 containing values to initialize with\n *\n * Returns:\n * New quat4\n */\nquat4.create = function(quat) {\n\tvar dest;\n\t\n\tif(quat) {\n\t\tdest = new glMatrixArrayType(4);\n\t\tdest[0] = quat[0];\n\t\tdest[1] = quat[1];\n\t\tdest[2] = quat[2];\n\t\tdest[3] = quat[3];\n\t} else {\n\t\tif(glMatrixArrayType === Array)\n\t\t\tdest = new glMatrixArrayType([0,0,0,0]);\n\t\telse\n\t\t\tdest = new glMatrixArrayType(4);\n\t}\n\t\n\treturn dest;\n};\n\n/*\n * quat4.set\n * Copies the values of one quat4 to another\n *\n * Params:\n * quat - quat4 containing values to copy\n * dest - quat4 receiving copied values\n *\n * Returns:\n * dest\n */\nquat4.set = function(quat, dest) {\n\tdest[0] = quat[0];\n\tdest[1] = quat[1];\n\tdest[2] = quat[2];\n\tdest[3] = quat[3];\n\t\n\treturn dest;\n};\n\n/*\n * quat4.calculateW\n * Calculates the W component of a quat4 from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length. \n * Any existing W component will be ignored. \n *\n * Params:\n * quat - quat4 to calculate W component of\n * dest - Optional, quat4 receiving calculated values. If not specified result is written to quat\n *\n * Returns:\n * dest if specified, quat otherwise\n */\nquat4.calculateW = function(quat, dest) {\n\tvar x = quat[0], y = quat[1], z = quat[2];\n\n\tif(!dest || quat == dest) {\n\t\tquat[3] = -Math.sqrt(Math.abs(1.0 - x*x - y*y - z*z));\n\t\treturn quat;\n\t}\n\tdest[0] = x;\n\tdest[1] = y;\n\tdest[2] = z;\n\tdest[3] = -Math.sqrt(Math.abs(1.0 - x*x - y*y - z*z));\n\treturn dest;\n};\n\n/*\n * quat4.inverse\n * Calculates the inverse of a quat4\n *\n * Params:\n * quat - quat4 to calculate inverse of\n * dest - Optional, quat4 receiving inverse values. If not specified result is written to quat\n *\n * Returns:\n * dest if specified, quat otherwise\n */\nquat4.inverse = function(quat, dest) {\n\tif(!dest || quat == dest) {\n\t\tquat[0] *= -1;\n\t\tquat[1] *= -1;\n\t\tquat[2] *= -1;\n\t\treturn quat;\n\t}\n\tdest[0] = -quat[0];\n\tdest[1] = -quat[1];\n\tdest[2] = -quat[2];\n\tdest[3] = quat[3];\n\treturn dest;\n};\n\n/*\n * quat4.length\n * Calculates the length of a quat4\n *\n * Params:\n * quat - quat4 to calculate length of\n *\n * Returns:\n * Length of quat\n */\nquat4.length = function(quat) {\n\tvar x = quat[0], y = quat[1], z = quat[2], w = quat[3];\n\treturn Math.sqrt(x*x + y*y + z*z + w*w);\n};\n\n/*\n * quat4.normalize\n * Generates a unit quaternion of the same direction as the provided quat4\n * If quaternion length is 0, returns [0, 0, 0, 0]\n *\n * Params:\n * quat - quat4 to normalize\n * dest - Optional, quat4 receiving operation result. If not specified result is written to quat\n *\n * Returns:\n * dest if specified, quat otherwise\n */\nquat4.normalize = function(quat, dest) {\n\tif(!dest) { dest = quat; }\n\t\n\tvar x = quat[0], y = quat[1], z = quat[2], w = quat[3];\n\tvar len = Math.sqrt(x*x + y*y + z*z + w*w);\n\tif(len == 0) {\n\t\tdest[0] = 0;\n\t\tdest[1] = 0;\n\t\tdest[2] = 0;\n\t\tdest[3] = 0;\n\t\treturn dest;\n\t}\n\tlen = 1/len;\n\tdest[0] = x * len;\n\tdest[1] = y * len;\n\tdest[2] = z * len;\n\tdest[3] = w * len;\n\t\n\treturn dest;\n};\n\n/*\n * quat4.multiply\n * Performs a quaternion multiplication\n *\n * Params:\n * quat - quat4, first operand\n * quat2 - quat4, second operand\n * dest - Optional, quat4 receiving operation result. If not specified result is written to quat\n *\n * Returns:\n * dest if specified, quat otherwise\n */\nquat4.multiply = function(quat, quat2, dest) {\n\tif(!dest) { dest = quat; }\n\t\n\tvar qax = quat[0], qay = quat[1], qaz = quat[2], qaw = quat[3];\n\tvar qbx = quat2[0], qby = quat2[1], qbz = quat2[2], qbw = quat2[3];\n\t\n\tdest[0] = qax*qbw + qaw*qbx + qay*qbz - qaz*qby;\n\tdest[1] = qay*qbw + qaw*qby + qaz*qbx - qax*qbz;\n\tdest[2] = qaz*qbw + qaw*qbz + qax*qby - qay*qbx;\n\tdest[3] = qaw*qbw - qax*qbx - qay*qby - qaz*qbz;\n\t\n\treturn dest;\n};\n\n/*\n * quat4.multiplyVec3\n * Transforms a vec3 with the given quaternion\n *\n * Params:\n * quat - quat4 to transform the vector with\n * vec - vec3 to transform\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nquat4.multiplyVec3 = function(quat, vec, dest) {\n\tif(!dest) { dest = vec; }\n\t\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\tvar qx = quat[0], qy = quat[1], qz = quat[2], qw = quat[3];\n\n\t// calculate quat * vec\n\tvar ix = qw*x + qy*z - qz*y;\n\tvar iy = qw*y + qz*x - qx*z;\n\tvar iz = qw*z + qx*y - qy*x;\n\tvar iw = -qx*x - qy*y - qz*z;\n\t\n\t// calculate result * inverse quat\n\tdest[0] = ix*qw + iw*-qx + iy*-qz - iz*-qy;\n\tdest[1] = iy*qw + iw*-qy + iz*-qx - ix*-qz;\n\tdest[2] = iz*qw + iw*-qz + ix*-qy - iy*-qx;\n\t\n\treturn dest;\n};\n\n/*\n * quat4.toMat3\n * Calculates a 3x3 matrix from the given quat4\n *\n * Params:\n * quat - quat4 to create matrix from\n * dest - Optional, mat3 receiving operation result\n *\n * Returns:\n * dest if specified, a new mat3 otherwise\n */\nquat4.toMat3 = function(quat, dest) {\n\tif(!dest) { dest = mat3.create(); }\n\t\n\tvar x = quat[0], y = quat[1], z = quat[2], w = quat[3];\n\n\tvar x2 = x + x;\n\tvar y2 = y + y;\n\tvar z2 = z + z;\n\n\tvar xx = x*x2;\n\tvar xy = x*y2;\n\tvar xz = x*z2;\n\n\tvar yy = y*y2;\n\tvar yz = y*z2;\n\tvar zz = z*z2;\n\n\tvar wx = w*x2;\n\tvar wy = w*y2;\n\tvar wz = w*z2;\n\n\tdest[0] = 1 - (yy + zz);\n\tdest[1] = xy - wz;\n\tdest[2] = xz + wy;\n\n\tdest[3] = xy + wz;\n\tdest[4] = 1 - (xx + zz);\n\tdest[5] = yz - wx;\n\n\tdest[6] = xz - wy;\n\tdest[7] = yz + wx;\n\tdest[8] = 1 - (xx + yy);\n\t\n\treturn dest;\n};\n\n/*\n * quat4.toMat4\n * Calculates a 4x4 matrix from the given quat4\n *\n * Params:\n * quat - quat4 to create matrix from\n * dest - Optional, mat4 receiving operation result\n *\n * Returns:\n * dest if specified, a new mat4 otherwise\n */\nquat4.toMat4 = function(quat, dest) {\n\tif(!dest) { dest = mat4.create(); }\n\t\n\tvar x = quat[0], y = quat[1], z = quat[2], w = quat[3];\n\n\tvar x2 = x + x;\n\tvar y2 = y + y;\n\tvar z2 = z + z;\n\n\tvar xx = x*x2;\n\tvar xy = x*y2;\n\tvar xz = x*z2;\n\n\tvar yy = y*y2;\n\tvar yz = y*z2;\n\tvar zz = z*z2;\n\n\tvar wx = w*x2;\n\tvar wy = w*y2;\n\tvar wz = w*z2;\n\n\tdest[0] = 1 - (yy + zz);\n\tdest[1] = xy - wz;\n\tdest[2] = xz + wy;\n\tdest[3] = 0;\n\n\tdest[4] = xy + wz;\n\tdest[5] = 1 - (xx + zz);\n\tdest[6] = yz - wx;\n\tdest[7] = 0;\n\n\tdest[8] = xz - wy;\n\tdest[9] = yz + wx;\n\tdest[10] = 1 - (xx + yy);\n\tdest[11] = 0;\n\n\tdest[12] = 0;\n\tdest[13] = 0;\n\tdest[14] = 0;\n\tdest[15] = 1;\n\t\n\treturn dest;\n};\n\n/*\n * quat4.slerp\n * Performs a spherical linear interpolation between two quat4\n *\n * Params:\n * quat - quat4, first quaternion\n * quat2 - quat4, second quaternion\n * slerp - interpolation amount between the two inputs\n * dest - Optional, quat4 receiving operation result. If not specified result is written to quat\n *\n * Returns:\n * dest if specified, quat otherwise\n */\nquat4.slerp = function(quat, quat2, slerp, dest) {\n    if(!dest) { dest = quat; }\n    \n\tvar cosHalfTheta =  quat[0]*quat2[0] + quat[1]*quat2[1] + quat[2]*quat2[2] + quat[3]*quat2[3];\n\t\n\tif (Math.abs(cosHalfTheta) >= 1.0){\n\t    if(dest != quat) {\n\t\t    dest[0] = quat[0];\n\t\t    dest[1] = quat[1];\n\t\t    dest[2] = quat[2];\n\t\t    dest[3] = quat[3];\n\t\t}\n\t\treturn dest;\n\t}\n\t\n\tvar halfTheta = Math.acos(cosHalfTheta);\n\tvar sinHalfTheta = Math.sqrt(1.0 - cosHalfTheta*cosHalfTheta);\n\n\tif (Math.abs(sinHalfTheta) < 0.001){\n\t\tdest[0] = (quat[0]*0.5 + quat2[0]*0.5);\n\t\tdest[1] = (quat[1]*0.5 + quat2[1]*0.5);\n\t\tdest[2] = (quat[2]*0.5 + quat2[2]*0.5);\n\t\tdest[3] = (quat[3]*0.5 + quat2[3]*0.5);\n\t\treturn dest;\n\t}\n\t\n\tvar ratioA = Math.sin((1 - slerp)*halfTheta) / sinHalfTheta;\n\tvar ratioB = Math.sin(slerp*halfTheta) / sinHalfTheta; \n\t\n\tdest[0] = (quat[0]*ratioA + quat2[0]*ratioB);\n\tdest[1] = (quat[1]*ratioA + quat2[1]*ratioB);\n\tdest[2] = (quat[2]*ratioA + quat2[2]*ratioB);\n\tdest[3] = (quat[3]*ratioA + quat2[3]*ratioB);\n\t\n\treturn dest;\n};\n\n\n/*\n * quat4.str\n * Returns a string representation of a quaternion\n *\n * Params:\n * quat - quat4 to represent as a string\n *\n * Returns:\n * string representation of quat\n */\nquat4.str = function(quat) {\n\treturn '[' + quat[0] + ', ' + quat[1] + ', ' + quat[2] + ', ' + quat[3] + ']'; \n};\n\n\ndefine(\"glMatrix\", [\"typedefs\"], (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.glMatrix;\n    };\n}(this)));\n\n/*\n * glMatrixAddon.js\n * Extension to the glMatrix library. The original glMatrix library\n * was created by Brandon Jones.\n */\n\n\nmat4.xVec4 = function(mat, vec, dest){\n\tif(!dest) { dest = vec; }\t\n\tvar x = vec[0], y = vec[1], z = vec[2], w = vec[3];\n\t\n\tdest[0] = mat[0]*x + mat[1]*y + mat[2]*z + mat[3]*w;\n\tdest[1] = mat[4]*x + mat[5]*y + mat[6]*z + mat[7]*w;\n\tdest[2] = mat[8]*x + mat[9]*y + mat[10]*z + mat[11]*w;\n\tdest[3] = mat[12]*x + mat[13]*y + mat[14]*z + mat[15]*w;\n\t\n\treturn dest;\n};\n\nmat3.scale = function(mat, scalar, dest){\n\tif(!dest || mat == dest) {\n\t\tmat[0] *= scalar;\n\t\tmat[1] *= scalar;\n\t\tmat[2] *= scalar;\n\t\tmat[3] *= scalar;\n\t\tmat[4] *= scalar;\n\t\tmat[5] *= scalar;\n\t\tmat[6] *= scalar;\n\t\tmat[7] *= scalar;\n\t\tmat[8] *= scalar;\n\t\treturn mat;\n\t}\n\tdest = mat3.create();\n\tdest[0] = mat[0]*scalar;\n\tdest[1] = mat[1]*scalar;\n\tdest[2] = mat[2]*scalar;\n\tdest[3] = mat[3]*scalar;\n\tdest[4] = mat[4]*scalar;\n\tdest[5] = mat[5]*scalar;\n\tdest[6] = mat[6]*scalar;\n\tdest[7] = mat[7]*scalar;\n\tdest[8] = mat[8]*scalar;\n\treturn dest;\n};\n\nmat3.inverse = function(mat, dest){\n\tif(!dest) { dest = mat; }\n\t\n\tvar ha00 = mat[0], ha01 = mat[1], ha02 = mat[2];\n\tvar ha10 = mat[3], ha11 = mat[4], ha12 = mat[5];\n\tvar ha20 = mat[6], ha21 = mat[7], ha22 = mat[8];\n\t\n\tvar invDetA = 1/(ha00*ha11*ha22 + ha01*ha12*ha20 + ha02*ha10*ha21 - ha02*ha11*ha20 - ha01*ha10*ha22 - ha00*ha12*ha21);\n\tdest[0] = (ha11*ha22 - ha12*ha21)*invDetA;\n\tdest[1] = (ha02*ha21 - ha01*ha22)*invDetA;\n\tdest[2] = (ha01*ha12 - ha02*ha11)*invDetA;\n\tdest[3] = (ha12*ha20 - ha10*ha22)*invDetA;\n\tdest[4] = (ha00*ha22 - ha02*ha20)*invDetA;\n\tdest[5] = (ha02*ha10 - ha00*ha12)*invDetA;\n\tdest[6] = (ha10*ha21 - ha11*ha20)*invDetA;\n\tdest[7] = (ha01*ha20 - ha00*ha21)*invDetA;\n\tdest[8] = (ha00*ha11 - ha01*ha10)*invDetA;\n\treturn dest;\n};\n\nmat3.multiply = function(mat, mat2, dest) {\n\tif(!dest) { dest = mat; }\n\t\n\tvar ha00 = mat[0], ha01 = mat[1], ha02 = mat[2];\n\tvar ha10 = mat[3], ha11 = mat[4], ha12 = mat[5];\n\tvar ha20 = mat[6], ha21 = mat[7], ha22 = mat[8];\n\t\n\tvar hb00 = mat2[0], hb01 = mat2[1], hb02 = mat2[2];\n\tvar hb10 = mat2[3], hb11 = mat2[4], hb12 = mat2[5];\n\tvar hb20 = mat2[6], hb21 = mat2[7], hb22 = mat2[8];\n\t\n\tdest[0] = ha00*hb00 + ha01*hb10 + ha02*hb20;\n\tdest[1] = ha00*hb01 + ha01*hb11 + ha02*hb21;\n\tdest[2] = ha00*hb02 + ha01*hb12 + ha02*hb22;\n\t\n\tdest[3] = ha10*hb00 + ha11*hb10 + ha12*hb20;\n\tdest[4] = ha10*hb01 + ha11*hb11 + ha12*hb21;\n\tdest[5] = ha10*hb02 + ha11*hb12 + ha12*hb22;\n\t\n\tdest[6] = ha20*hb00 + ha21*hb10 + ha22*hb20;\n\tdest[7] = ha20*hb01 + ha21*hb11 + ha22*hb21;\n\tdest[8] = ha20*hb02 + ha21*hb12 + ha22*hb22;\n\treturn dest;\n};\n\nmat3.xVec3 = function(mat, vec, dest){\n\tif(!dest) { dest = vec; }\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\t\n\tdest[0] = mat[0]*x + mat[1]*y + mat[2]*z;\n\tdest[1] = mat[3]*x + mat[4]*y + mat[5]*z;\n\tdest[2] = mat[6]*x + mat[7]*y + mat[8]*z;\n\t\n\treturn dest;\n};\n\nvar vec4={};\n\nvec4.create = function(vec){\n\tvar dest;\n\t\n\tif(vec) {\n\t\tdest = new glMatrixArrayType(4);\n\t\tdest[0] = vec[0];\n\t\tdest[1] = vec[1];\n\t\tdest[2] = vec[2];\n\t\tdest[3] = vec[3];\n\t} else {\n\t\tif(glMatrixArrayType === Array)\n\t\t\tdest = new glMatrixArrayType([0,0,0,0]);\n\t\telse\n\t\t\tdest = new glMatrixArrayType(4);\n\t}\n\t\n\treturn dest;\n};\n\nvec4.project = function(vec, dest){\n\tif(!dest) { dest = vec; }\n\t\n\tdest[0] = vec[0]/vec[3];\n\tdest[1] = vec[1]/vec[3];\n\tdest[2] = vec[2]/vec[3];\n\treturn dest;\n};\n\nvec4.scale = function(vec, val, dest){\n\tif(!dest || vec == dest) {\n\t\tvec[0] *= val;\n\t\tvec[1] *= val;\n\t\tvec[2] *= val;\n\t\tvec[4] *= val;\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0]*val;\n\tdest[1] = vec[1]*val;\n\tdest[2] = vec[2]*val;\n\tdest[3] = vec[3]*val;\n\treturn dest;\n};\n\nvec4.xMat4 = function(vec, mat, dest){\n\tif(!dest) { dest = vec; }\n\t\n\tvar x = vec[0], y = vec[1], z = vec[2], w = vec[3];\n\t\n\tdest[0] = mat[0]*x + mat[4]*y + mat[8]*z + mat[12]*w;\n\tdest[1] = mat[1]*x + mat[5]*y + mat[9]*z + mat[13]*w;\n\tdest[2] = mat[2]*x + mat[6]*y + mat[10]*z + mat[14]*w;\n\tdest[3] = mat[3]*x + mat[7]*y + mat[11]*z + mat[15]*w;\n\t\n\treturn dest;\n};\n\n\nvar mat2 = {};\n\nmat2.create = function(mat){\n\tvar dest;\n\t\n\tif(mat) {\n\t\tdest = new glMatrixArrayType(4);\n\t\tdest[0] = mat[0];\n\t\tdest[1] = mat[1];\n\t\tdest[2] = mat[2];\n\t\tdest[3] = mat[3];\n\t} else {\n\t\tif(glMatrixArrayType === Array)\n\t\t\tdest  = new glMatrixArrayType([0,0,0,0]);\n\t\telse\n\t\t\tdest = new glMatrixArrayType(4);\n\t}\n\t\n\treturn dest;\n};\n\nmat2.xVec2 = function(mat, vec, dest){\n\tif(!dest) { dest = vec; }\n\tvar x = vec[0], y = vec[1];\n\t\n\tdest[0] = mat[0]*x + mat[1]*y;\n\tdest[1] = mat[2]*x + mat[3]*y;\n\t\n\treturn dest;\n};\n\nmat2.scale = function(mat, scale, dest){\n\tif(!dest || mat == dest) {\n\t\tmat[0] *= scale;\n\t\tmat[1] *= scale;\n\t\tmat[2] *= scale;\n\t\tmat[3] *= scale;\n\t\treturn mat;\n\t}\n\t\n\tdest[0] = mat[0]*scale;\n\tdest[1] = mat[1]*scale;\n\tdest[2] = mat[2]*scale;\n\tdest[3] = mat[3]*scale;\n\treturn dest;\n};\n\nmat2.determinant = function(mat){\n\treturn mat[0]*mat[3] - mat[1]*mat[2];\n};\n\nmat2.inverse = function(mat){\n  var scale = 1/(mat2.determinant(mat));\n  var a = mat[3]*scale,\n      b = -mat[1]*scale,\n      c = -mat[2]*scale,\n      d = mat[0];\n  mat[0] = a;\n  mat[1] = b;\n  mat[2] = c;\n  mat[3] = d;\n  return mat;\n};\n\nvar vec2 = {};\nvec2.create = function(vec){\n\tvar dest;\n\t\n\tif(vec) {\n\t\tdest = new glMatrixArrayType(2);\n\t\tdest[0] = vec[0];\n\t\tdest[1] = vec[1];\n\t} else {\n\t\tif(glMatrixArrayType === Array)\n\t\t\tdest = new glMatrixArrayType([0,0]);\n\t\telse\n\t\t\tdest = new glMatrixArrayType(2);\n\t}\n\t\n\treturn dest;\n};\n\nvec2.subtract = function(vec, vec2, dest) {\n\tif(!dest || vec == dest) {\n\t\tvec[0] -= vec2[0];\n\t\tvec[1] -= vec2[1];\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0] - vec2[0];\n\tdest[1] = vec[1] - vec2[1];\n\treturn dest;\n};\n\nvec2.add = function(vec, vec2, dest) {\n\tif(!dest || vec == dest) {\n\t\tvec[0] += vec2[0];\n\t\tvec[1] += vec2[1];\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0] + vec2[0];\n\tdest[1] = vec[1] + vec2[1];\n\treturn dest;\n};\n\nvec2.scale = function(vec, val, dest) {\n\tif(!dest || vec == dest) {\n\t\tvec[0] *= val;\n\t\tvec[1] *= val;\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0]*val;\n\tdest[1] = vec[1]*val;\n\treturn dest;\n};\n\nvec2.normalize = function(vec, dest) {\n  if(!dest) { dest = vec; }\n  \n  var x = vec[0], y = vec[1];\n  var len = Math.sqrt(x*x + y*y);\n  \n  if (!len) {\n    dest[0] = 0;\n    dest[1] = 0;\n    return dest;\n  } else if (len == 1) {\n    dest[0] = x;\n    dest[1] = y;\n    return dest;\n  }\n  \n  len = 1 / len;\n  dest[0] = x*len;\n  dest[1] = y*len;\n  return dest;\n};\n\nvec2.dot = function(vec, vec2){\n  return vec[0]*vec2[0] + vec[1]*vec2[1];\n};\n\nvec2.multiply = function(vec, vec2, dest){\n  if(!dest) { dest = vec; }\n  \n  dest[0] = vec[0]*vec2[0];\n  dest[1] = vec[1]*vec2[1];\n  return dest;\n};\n\n/**\n * @param vec vec2 to be unprojected [x,y] -> [x,y,1]\n * @returns vec3 unprojected vector\n */\nvec2.unproject = function(vec){\n\treturn vec3.create([vec[0], vec[1], 1]);\n};\n\nvec2.length = function(vec){\n  return Math.sqrt(vec[0]*vec[0] + vec[1]*vec[1]);\n};\n\nvec2.perspectiveProject = function(vec){\n  var result = vec2.create(vec);\n  return vec2.scale(result, 1/vec[2]);\n};\n\n/**\n * @param vec vec3 to be projected [x,y,z] -> [x/z,y/z]\n * @returns vec2 projected vector\n */\nvec3.project = function(vec){\n\treturn vec2.scale(vec2.create(vec), 1/vec[2]);\n};\n\nvar vec6 = {};\nvec6.scale = function(vec, val, dest){\n\tif(!dest || vec == dest) {\n\t\tvec[0] *= val;\n\t\tvec[1] *= val;\n\t\tvec[2] *= val;\n\t\tvec[3] *= val;\n\t\tvec[4] *= val;\n\t\tvec[5] *= val;\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0]*val;\n\tdest[1] = vec[1]*val;\n\tdest[2] = vec[2]*val;\n\tdest[3] = vec[3]*val;\n\tdest[4] = vec[4]*val;\n\tdest[5] = vec[5]*val;\n\treturn dest;\n};\n\nvec6.subtract = function(vec, vec2, dest){\n\tif(!dest || vec == dest) {\n\t\tvec[0] -= vec2[0];\n\t\tvec[1] -= vec2[1];\n\t\tvec[2] -= vec2[2];\n\t\tvec[3] -= vec2[3];\n\t\tvec[4] -= vec2[4];\n\t\tvec[5] -= vec2[5];\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0] - vec2[0];\n\tdest[1] = vec[1] - vec2[1];\n\tdest[2] = vec[2] - vec2[2];\n\tdest[3] = vec[3] - vec2[3];\n\tdest[4] = vec[4] - vec2[4];\n\tdest[5] = vec[5] - vec2[5];\n\treturn dest;\n};\n\nvec6.dot = function(vec, vec2){\n\treturn vec[0]*vec2[0] + vec[1]*vec2[1] + vec[2]*vec2[2] + vec[3]*vec2[3] + vec[4]*vec2[4] + vec[5]*vec2[5];\n};\n\nvar mat6 = {};\nmat6.xVec6 = function(mat, vec, dest){\n\tif(!dest) { dest = vec; }\t\n\tvar x = vec[0], y = vec[1], z = vec[2], u = vec[3], w = vec[4], v = vec[5];\n\t\n\tdest[0] = mat[0]*x + mat[1]*y + mat[2]*z + mat[3]*u + mat[4]*w + mat[5]*v;\n\tdest[1] = mat[6]*x + mat[7]*y + mat[8]*z + mat[9]*u + mat[10]*w + mat[11]*v;\n\tdest[2] = mat[12]*x + mat[13]*y + mat[14]*z + mat[15]*u + mat[16]*w + mat[17]*v;\n\tdest[3] = mat[18]*x + mat[19]*y + mat[20]*z + mat[21]*u + mat[22]*w + mat[23]*v;\n\tdest[4] = mat[24]*x + mat[25]*y + mat[26]*z + mat[27]*u + mat[28]*w + mat[29]*v;\n\tdest[5] = mat[30]*x + mat[31]*y + mat[32]*z + mat[33]*u + mat[34]*w + mat[35]*v;\n\t\n\treturn dest;\n};\n\nmat3.xVec3 = function(mat, vec, dest){\n\tif(!dest) { dest = vec; }\t\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\t\n\tdest[0] = mat[0]*x + mat[1]*y + mat[2]*z;\n\tdest[1] = mat[3]*x + mat[4]*y + mat[5]*z;\n\tdest[2] = mat[6]*x + mat[7]*y + mat[8]*z;\n\t\n\treturn dest;\n};\ndefine(\"glMatrixAddon\", [\"glMatrix\"], (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.glMatrixAddon;\n    };\n}(this)));\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('array_helper',[],function() {\n    \"use strict\";\n\n    return {\n        init : function(arr, val) {\n            var l = arr.length;\n            while (l--) {\n                arr[l] = val;\n            }\n        },\n\n        /**\n         * Shuffles the content of an array\n         * @return {Array} the array itself shuffled\n         */\n        shuffle : function(arr) {\n            var i = arr.length - 1, j, x;\n            for (i; i >= 0; i--) {\n                j = Math.floor(Math.random() * i);\n                x = arr[i];\n                arr[i] = arr[j];\n                arr[j] = x;\n            }\n            return arr;\n        },\n\n        toPointList : function(arr) {\n            var i, j, row = [], rows = [];\n            for ( i = 0; i < arr.length; i++) {\n                row = [];\n                for ( j = 0; j < arr[i].length; j++) {\n                    row[j] = arr[i][j];\n                }\n                rows[i] = \"[\" + row.join(\",\") + \"]\";\n            }\n            return \"[\" + rows.join(\",\\r\\n\") + \"]\";\n        },\n\n        /**\n         * returns the elements which's score is bigger than the threshold\n         * @return {Array} the reduced array\n         */\n        threshold : function(arr, threshold, scoreFunc) {\n            var i, queue = [];\n            for ( i = 0; i < arr.length; i++) {\n                if (scoreFunc.apply(arr, [arr[i]]) >= threshold) {\n                    queue.push(arr[i]);\n                }\n            }\n            return queue;\n        },\n\n        maxIndex : function(arr) {\n            var i, max = 0;\n            for ( i = 0; i < arr.length; i++) {\n                if (arr[i] > arr[max]) {\n                    max = i;\n                }\n            }\n            return max;\n        },\n\n        max : function(arr) {\n            var i, max = 0;\n            for ( i = 0; i < arr.length; i++) {\n                if (arr[i] > max) {\n                    max = arr[i];\n                }\n            }\n            return max;\n        },\n\n        sum: function(arr) {\n            var length = arr.length,\n                sum = 0;\n\n            while(length--) {\n                sum += arr[length];\n            }\n            return sum;\n        }\n    };\n}); \n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define, vec2, vec3 */\n\ndefine('cv_utils',['cluster', 'glMatrixAddon', \"array_helper\"], function(Cluster2, glMatrixAddon, ArrayHelper) {\n\n    \"use strict\";\n    /*\n    * cv_utils.js\n    * Collection of CV functions and libraries\n    */\n\n    /**\n     * Namespace for various CV alorithms\n     * @class Represents a collection of useful CV algorithms/functions\n     */\n\n    var CVUtils = {};\n\n    /**\n     * @param x x-coordinate\n     * @param y y-coordinate\n     * @return ImageReference {x,y} Coordinate\n     */\n    CVUtils.imageRef = function(x, y) {\n        var that = {\n            x : x,\n            y : y,\n            toVec2 : function() {\n                return vec2.create([this.x, this.y]);\n            },\n            toVec3 : function() {\n                return vec3.create([this.x, this.y, 1]);\n            },\n            round : function() {\n                this.x = this.x > 0.0 ? Math.floor(this.x + 0.5) : Math.floor(this.x - 0.5);\n                this.y = this.y > 0.0 ? Math.floor(this.y + 0.5) : Math.floor(this.y - 0.5);\n                return this;\n            }\n        };\n        return that;\n    };\n\n    /**\n     * Computes an integral image of a given grayscale image.\n     * @param imageDataContainer {ImageDataContainer} the image to be integrated\n     */\n    CVUtils.computeIntegralImage2 = function(imageWrapper, integralWrapper) {\n        var imageData = imageWrapper.data;\n        var width = imageWrapper.size.x;\n        var height = imageWrapper.size.y;\n        var integralImageData = integralWrapper.data;\n        var sum = 0, posA = 0, posB = 0, posC = 0, posD = 0, x, y;\n\n        // sum up first column\n        posB = width;\n        sum = 0;\n        for ( y = 1; y < height; y++) {\n            sum += imageData[posA];\n            integralImageData[posB] += sum;\n            posA += width;\n            posB += width;\n        }\n\n        posA = 0;\n        posB = 1;\n        sum = 0;\n        for ( x = 1; x < width; x++) {\n            sum += imageData[posA];\n            integralImageData[posB] += sum;\n            posA++;\n            posB++;\n        }\n\n        for ( y = 1; y < height; y++) {\n            posA = y * width + 1;\n            posB = (y - 1) * width + 1;\n            posC = y * width;\n            posD = (y - 1) * width;\n            for ( x = 1; x < width; x++) {\n                integralImageData[posA] += imageData[posA] + integralImageData[posB] + integralImageData[posC] - integralImageData[posD];\n                posA++;\n                posB++;\n                posC++;\n                posD++;\n            }\n        }\n    };\n\n    CVUtils.computeIntegralImage = function(imageWrapper, integralWrapper) {\n        var imageData = imageWrapper.data;\n        var width = imageWrapper.size.x;\n        var height = imageWrapper.size.y;\n        var integralImageData = integralWrapper.data;\n        var sum = 0;\n\n        // sum up first row\n        for (var i = 0; i < width; i++) {\n            sum += imageData[i];\n            integralImageData[i] = sum;\n        }\n\n        for (var v = 1; v < height; v++) {\n            sum = 0;\n            for (var u = 0; u < width; u++) {\n                sum += imageData[v * width + u];\n                integralImageData[((v) * width) + u] = sum + integralImageData[(v - 1) * width + u];\n            }\n        }\n    };\n\n    CVUtils.thresholdImage = function(imageWrapper, threshold, targetWrapper) {\n        if (!targetWrapper) {\n            targetWrapper = imageWrapper;\n        }\n        var imageData = imageWrapper.data, length = imageData.length, targetData = targetWrapper.data;\n\n        while (length--) {\n            targetData[length] = imageData[length] < threshold ? 1 : 0;\n        }\n    };\n\n    CVUtils.computeHistogram = function(imageWrapper, bitsPerPixel) {\n        if (!bitsPerPixel) {\n            bitsPerPixel = 8;\n        }\n        var imageData = imageWrapper.data,\n            length = imageData.length,\n            bitShift = 8 - bitsPerPixel,\n            bucketCnt = 1 << bitsPerPixel,\n            hist = new Int32Array(bucketCnt);\n\n        while (length--) {\n            hist[imageData[length] >> bitShift]++;\n        }\n        return hist;\n    };\n\n    CVUtils.sharpenLine = function(line) {\n        var i,\n            length = line.length,\n            left = line[0],\n            center = line[1],\n            right;\n\n        for (i = 1; i < length - 1; i++) {\n            right = line[i + 1];\n            //  -1 4 -1 kernel\n            line[i-1] = (((center * 2) - left - right)) & 255;\n            left = center;\n            center = right;\n        }\n        return line;\n    };\n\n    CVUtils.determineOtsuThreshold = function(imageWrapper, bitsPerPixel) {\n        if (!bitsPerPixel) {\n            bitsPerPixel = 8;\n        }\n        var hist,\n            threshold,\n            bitShift = 8 - bitsPerPixel;\n\n        function px(init, end) {\n            var sum = 0, i;\n            for ( i = init; i <= end; i++) {\n                sum += hist[i];\n            }\n            return sum;\n        }\n\n        function mx(init, end) {\n            var i, sum = 0;\n\n            for ( i = init; i <= end; i++) {\n                sum += i * hist[i];\n            }\n\n            return sum;\n        }\n\n        function determineThreshold() {\n            var vet = [0], p1, p2, p12, k, m1, m2, m12,\n                max = (1 << bitsPerPixel) - 1;\n\n            hist = CVUtils.computeHistogram(imageWrapper, bitsPerPixel);\n            for ( k = 1; k < max; k++) {\n                p1 = px(0, k);\n                p2 = px(k + 1, max);\n                p12 = p1 * p2;\n                if (p12 === 0) {\n                    p12 = 1;\n                }\n                m1 = mx(0, k) * p2;\n                m2 = mx(k + 1, max) * p1;\n                m12 = m1 - m2;\n                vet[k] = m12 * m12 / p12;\n            }\n            return ArrayHelper.maxIndex(vet);\n        }\n\n        threshold = determineThreshold();\n        return threshold << bitShift;\n    };\n\n    CVUtils.otsuThreshold = function(imageWrapper, targetWrapper) {\n        var threshold = CVUtils.determineOtsuThreshold(imageWrapper);\n\n        CVUtils.thresholdImage(imageWrapper, threshold, targetWrapper);\n        return threshold;\n    };\n\n    // local thresholding\n    CVUtils.computeBinaryImage = function(imageWrapper, integralWrapper, targetWrapper) {\n        CVUtils.computeIntegralImage(imageWrapper, integralWrapper);\n\n        if (!targetWrapper) {\n            targetWrapper = imageWrapper;\n        }\n        var imageData = imageWrapper.data;\n        var targetData = targetWrapper.data;\n        var width = imageWrapper.size.x;\n        var height = imageWrapper.size.y;\n        var integralImageData = integralWrapper.data;\n        var sum = 0, v, u, kernel = 3, A, B, C, D, avg, size = (kernel * 2 + 1) * (kernel * 2 + 1);\n\n        // clear out top & bottom-border\n        for ( v = 0; v <= kernel; v++) {\n            for ( u = 0; u < width; u++) {\n                targetData[((v) * width) + u] = 0;\n                targetData[(((height - 1) - v) * width) + u] = 0;\n            }\n        }\n\n        // clear out left & right border\n        for ( v = kernel; v < height - kernel; v++) {\n            for ( u = 0; u <= kernel; u++) {\n                targetData[((v) * width) + u] = 0;\n                targetData[((v) * width) + (width - 1 - u)] = 0;\n            }\n        }\n\n        for ( v = kernel + 1; v < height - kernel - 1; v++) {\n            for ( u = kernel + 1; u < width - kernel; u++) {\n                A = integralImageData[(v - kernel - 1) * width + (u - kernel - 1)];\n                B = integralImageData[(v - kernel - 1) * width + (u + kernel)];\n                C = integralImageData[(v + kernel) * width + (u - kernel - 1)];\n                D = integralImageData[(v + kernel) * width + (u + kernel)];\n                sum = D - C - B + A;\n                avg = sum / (size);\n                targetData[v * width + u] = imageData[v * width + u] > (avg + 5) ? 0 : 1;\n            }\n        }\n    };\n\n    CVUtils.cluster = function(points, threshold, property) {\n        var i, k, cluster, point, clusters = [];\n\n        if (!property) {\n            property = \"rad\";\n        }\n\n        function addToCluster(point) {\n            var found = false;\n            for ( k = 0; k < clusters.length; k++) {\n                cluster = clusters[k];\n                if (cluster.fits(point)) {\n                    cluster.add(point);\n                    found = true;\n                }\n            }\n            return found;\n        }\n\n        // iterate over each cloud\n        for ( i = 0; i < points.length; i++) {\n            point = Cluster2.createPoint(points[i], i, property);\n            if (!addToCluster(point)) {\n                clusters.push(Cluster2.create(point, threshold));\n            }\n        }\n\n        return clusters;\n\n    };\n\n    CVUtils.Tracer = {\n        trace : function(points, vec) {\n            var iteration, maxIterations = 10, top = [], result = [], centerPos = 0, currentPos = 0;\n\n            function trace(idx, forward) {\n                var from, to, toIdx, predictedPos, thresholdX = 1, thresholdY = Math.abs(vec[1] / 10), found = false;\n\n                function match(pos, predicted) {\n                    if (pos.x > (predicted.x - thresholdX) && pos.x < (predicted.x + thresholdX) && pos.y > (predicted.y - thresholdY) && pos.y < (predicted.y + thresholdY)) {\n                        return true;\n                    } else {\n                        return false;\n                    }\n                }\n\n                // check if the next index is within the vec specifications\n                // if not, check as long as the threshold is met\n\n                from = points[idx];\n                if (forward) {\n                    predictedPos = {\n                        x : from.x + vec[0],\n                        y : from.y + vec[1]\n                    };\n                } else {\n                    predictedPos = {\n                        x : from.x - vec[0],\n                        y : from.y - vec[1]\n                    };\n                }\n\n                toIdx = forward ? idx + 1 : idx - 1;\n                to = points[toIdx];\n                while (to && ( found = match(to, predictedPos)) !== true && (Math.abs(to.y - from.y) < vec[1])) {\n                    toIdx = forward ? toIdx + 1 : toIdx - 1;\n                    to = points[toIdx];\n                }\n\n                return found ? toIdx : null;\n            }\n\n            for ( iteration = 0; iteration < maxIterations; iteration++) {\n                // randomly select point to start with\n                centerPos = Math.floor(Math.random() * points.length);\n\n                // trace forward\n                top = [];\n                currentPos = centerPos;\n                top.push(points[currentPos]);\n                while (( currentPos = trace(currentPos, true)) !== null) {\n                    top.push(points[currentPos]);\n                }\n                if (centerPos > 0) {\n                    currentPos = centerPos;\n                    while (( currentPos = trace(currentPos, false)) !== null) {\n                        top.push(points[currentPos]);\n                    }\n                }\n\n                if (top.length > result.length) {\n                    result = top;\n                }\n            }\n\n            return result;\n\n        }\n    };\n\n    CVUtils.DILATE = 1;\n    CVUtils.ERODE = 2;\n\n    CVUtils.dilate = function(inImageWrapper, outImageWrapper) {\n        var v, u, inImageData = inImageWrapper.data, outImageData = outImageWrapper.data, height = inImageWrapper.size.y, width = inImageWrapper.size.x, sum, yStart1, yStart2, xStart1, xStart2;\n\n        for ( v = 1; v < height - 1; v++) {\n            for ( u = 1; u < width - 1; u++) {\n                yStart1 = v - 1;\n                yStart2 = v + 1;\n                xStart1 = u - 1;\n                xStart2 = u + 1;\n                sum = inImageData[yStart1 * width + xStart1]/* +   inImageData[yStart1*width+u] */ + inImageData[yStart1 * width + xStart2] +\n                /* inImageData[v*width+xStart1]  + */\n                inImageData[v * width + u] + /* inImageData[v*width+xStart2] +*/\n                inImageData[yStart2 * width + xStart1]/* +   inImageData[yStart2*width+u]*/ + inImageData[yStart2 * width + xStart2];\n                outImageData[v * width + u] = sum > 0 ? 1 : 0;\n            }\n        }\n    };\n\n    CVUtils.erode = function(inImageWrapper, outImageWrapper) {\n        var v, u, inImageData = inImageWrapper.data, outImageData = outImageWrapper.data, height = inImageWrapper.size.y, width = inImageWrapper.size.x, sum, yStart1, yStart2, xStart1, xStart2;\n\n        for ( v = 1; v < height - 1; v++) {\n            for ( u = 1; u < width - 1; u++) {\n                yStart1 = v - 1;\n                yStart2 = v + 1;\n                xStart1 = u - 1;\n                xStart2 = u + 1;\n                sum = inImageData[yStart1 * width + xStart1]/* +   inImageData[yStart1*width+u] */ + inImageData[yStart1 * width + xStart2] +\n                /* inImageData[v*width+xStart1]  + */\n                inImageData[v * width + u] + /* inImageData[v*width+xStart2] +*/\n                inImageData[yStart2 * width + xStart1]/* +   inImageData[yStart2*width+u]*/ + inImageData[yStart2 * width + xStart2];\n                outImageData[v * width + u] = sum === 5 ? 1 : 0;\n            }\n        }\n    };\n\n    CVUtils.subtract = function(aImageWrapper, bImageWrapper, resultImageWrapper) {\n        if (!resultImageWrapper) {\n            resultImageWrapper = aImageWrapper;\n        }\n        var length = aImageWrapper.data.length, aImageData = aImageWrapper.data, bImageData = bImageWrapper.data, cImageData = resultImageWrapper.data;\n\n        while (length--) {\n            cImageData[length] = aImageData[length] - bImageData[length];\n        }\n    };\n\n    CVUtils.bitwiseOr = function(aImageWrapper, bImageWrapper, resultImageWrapper) {\n        if (!resultImageWrapper) {\n            resultImageWrapper = aImageWrapper;\n        }\n        var length = aImageWrapper.data.length, aImageData = aImageWrapper.data, bImageData = bImageWrapper.data, cImageData = resultImageWrapper.data;\n\n        while (length--) {\n            cImageData[length] = aImageData[length] || bImageData[length];\n        }\n    };\n\n    CVUtils.countNonZero = function(imageWrapper) {\n        var length = imageWrapper.data.length, data = imageWrapper.data, sum = 0;\n\n        while (length--) {\n            sum += data[length];\n        }\n        return sum;\n    };\n\n    CVUtils.topGeneric = function(list, top, scoreFunc) {\n        var i, minIdx = 0, min = 0, queue = [], score, hit, pos;\n\n        for ( i = 0; i < top; i++) {\n            queue[i] = {\n                score : 0,\n                item : null\n            };\n        }\n\n        for ( i = 0; i < list.length; i++) {\n            score = scoreFunc.apply(this, [list[i]]);\n            if (score > min) {\n                hit = queue[minIdx];\n                hit.score = score;\n                hit.item = list[i];\n                min = Number.MAX_VALUE;\n                for ( pos = 0; pos < top; pos++) {\n                    if (queue[pos].score < min) {\n                        min = queue[pos].score;\n                        minIdx = pos;\n                    }\n                }\n            }\n        }\n\n        return queue;\n    };\n\n    CVUtils.grayArrayFromImage = function(htmlImage, offsetX, ctx, array) {\n        ctx.drawImage(htmlImage, offsetX, 0, htmlImage.width, htmlImage.height);\n        var ctxData = ctx.getImageData(offsetX, 0, htmlImage.width, htmlImage.height).data;\n        CVUtils.computeGray(ctxData, array);\n    };\n\n    CVUtils.grayArrayFromContext = function(ctx, size, offset, array) {\n        var ctxData = ctx.getImageData(offset.x, offset.y, size.x, size.y).data;\n        CVUtils.computeGray(ctxData, array);\n    };\n\n    CVUtils.grayAndHalfSampleFromCanvasData = function(canvasData, size, outArray) {\n        var topRowIdx = 0;\n        var bottomRowIdx = size.x;\n        var endIdx = Math.floor(canvasData.length / 4);\n        var outWidth = size.x / 2;\n        var outImgIdx = 0;\n        var inWidth = size.x;\n        var i;\n\n        while (bottomRowIdx < endIdx) {\n            for ( i = 0; i < outWidth; i++) {\n                outArray[outImgIdx] = Math.floor(((0.299 * canvasData[topRowIdx * 4 + 0] + 0.587 * canvasData[topRowIdx * 4 + 1] + 0.114 * canvasData[topRowIdx * 4 + 2]) + (0.299 * canvasData[(topRowIdx + 1) * 4 + 0] + 0.587 * canvasData[(topRowIdx + 1) * 4 + 1] + 0.114 * canvasData[(topRowIdx + 1) * 4 + 2]) + (0.299 * canvasData[(bottomRowIdx) * 4 + 0] + 0.587 * canvasData[(bottomRowIdx) * 4 + 1] + 0.114 * canvasData[(bottomRowIdx) * 4 + 2]) + (0.299 * canvasData[(bottomRowIdx + 1) * 4 + 0] + 0.587 * canvasData[(bottomRowIdx + 1) * 4 + 1] + 0.114 * canvasData[(bottomRowIdx + 1) * 4 + 2])) / 4);\n                outImgIdx++;\n                topRowIdx = topRowIdx + 2;\n                bottomRowIdx = bottomRowIdx + 2;\n            }\n            topRowIdx = topRowIdx + inWidth;\n            bottomRowIdx = bottomRowIdx + inWidth;\n        }\n\n    };\n\n    CVUtils.computeGray = function(imageData, outArray, config) {\n        var l = (imageData.length / 4) | 0,\n            i,\n            singleChannel = config && config.singleChannel === true;\n\n        if (singleChannel) {\n            for (i = 0; i < l; i++) {\n                outArray[i] = imageData[i * 4 + 0];\n            }\n        } else {\n            for (i = 0; i < l; i++) {\n                outArray[i] = Math.floor(0.299 * imageData[i * 4 + 0] + 0.587 * imageData[i * 4 + 1] + 0.114 * imageData[i * 4 + 2]);\n            }\n        }\n    };\n\n    CVUtils.loadImageArray = function(src, callback, canvas) {\n        if (!canvas)\n            canvas = document.createElement('canvas');\n        var img = new Image();\n        img.callback = callback;\n        img.onload = function() {\n            canvas.width = this.width;\n            canvas.height = this.height;\n            var ctx = canvas.getContext('2d');\n            ctx.drawImage(this, 0, 0);\n            var array = new Uint8Array(this.width * this.height);\n            ctx.drawImage(this, 0, 0);\n            var data = ctx.getImageData(0, 0, this.width, this.height).data;\n            CVUtils.computeGray(data, array);\n            this.callback(array, {\n                x : this.width,\n                y : this.height\n            }, this);\n        };\n        img.src = src;\n    };\n\n    /**\n     * @param inImg {ImageWrapper} input image to be sampled\n     * @param outImg {ImageWrapper} to be stored in\n     */\n    CVUtils.halfSample = function(inImgWrapper, outImgWrapper) {\n        var inImg = inImgWrapper.data;\n        var inWidth = inImgWrapper.size.x;\n        var outImg = outImgWrapper.data;\n        var topRowIdx = 0;\n        var bottomRowIdx = inWidth;\n        var endIdx = inImg.length;\n        var outWidth = inWidth / 2;\n        var outImgIdx = 0;\n        while (bottomRowIdx < endIdx) {\n            for (var i = 0; i < outWidth; i++) {\n                outImg[outImgIdx] = Math.floor((inImg[topRowIdx] + inImg[topRowIdx + 1] + inImg[bottomRowIdx] + inImg[bottomRowIdx + 1]) / 4);\n                outImgIdx++;\n                topRowIdx = topRowIdx + 2;\n                bottomRowIdx = bottomRowIdx + 2;\n            }\n            topRowIdx = topRowIdx + inWidth;\n            bottomRowIdx = bottomRowIdx + inWidth;\n        }\n    };\n\n    CVUtils.hsv2rgb = function(hsv, rgb) {\n        var h = hsv[0], s = hsv[1], v = hsv[2], c = v * s, x = c * (1 - Math.abs((h / 60) % 2 - 1)), m = v - c, r = 0, g = 0, b = 0;\n        rgb = rgb || [0, 0, 0];\n\n        if (h < 60) {\n            r = c;\n            g = x;\n        } else if (h < 120) {\n            r = x;\n            g = c;\n        } else if (h < 180) {\n            g = c;\n            b = x;\n        } else if (h < 240) {\n            g = x;\n            b = c;\n        } else if (h < 300) {\n            r = x;\n            b = c;\n        } else if (h < 360) {\n            r = c;\n            b = x;\n        }\n        rgb[0] = ((r + m) * 255) | 0;\n        rgb[1] = ((g + m) * 255) | 0;\n        rgb[2] = ((b + m) * 255) | 0;\n        return rgb;\n    };\n\n    CVUtils._computeDivisors = function(n) {\n        var largeDivisors = [],\n            divisors = [],\n            i;\n\n        for (i = 1; i < Math.sqrt(n) + 1; i++) {\n            if (n % i === 0) {\n                divisors.push(i);\n                if (i !== n/i) {\n                    largeDivisors.unshift(Math.floor(n/i));\n                }\n            }\n        }\n        return divisors.concat(largeDivisors);\n    };\n\n    CVUtils._computeIntersection = function(arr1, arr2) {\n        var i = 0,\n            j = 0,\n            result = [];\n\n        while (i < arr1.length && j < arr2.length) {\n            if (arr1[i] === arr2[j]) {\n                result.push(arr1[i]);\n                i++;\n                j++;\n            } else if (arr1[i] > arr2[j]) {\n                j++;\n            } else {\n                i++;\n            }\n        }\n        return result;\n    };\n\n    CVUtils.calculatePatchSize = function(patchSize, imgSize) {\n        var divisorsX = this._computeDivisors(imgSize.x),\n            divisorsY = this._computeDivisors(imgSize.y),\n            wideSide = Math.max(imgSize.x, imgSize.y),\n            common = this._computeIntersection(divisorsX, divisorsY),\n            nrOfPatchesList = [8, 10, 15, 20, 32, 60, 80],\n            nrOfPatchesMap = {\n                \"x-small\": 5,\n                \"small\": 4,\n                \"medium\": 3,\n                \"large\": 2,\n                \"x-large\": 1\n            },\n            nrOfPatchesIdx = nrOfPatchesMap[patchSize] || nrOfPatchesMap.medium,\n            nrOfPatches = nrOfPatchesList[nrOfPatchesIdx],\n            desiredPatchSize = Math.floor(wideSide/nrOfPatches),\n            optimalPatchSize;\n\n        function findPatchSizeForDivisors(divisors) {\n            var i = 0,\n                found = divisors[Math.floor(divisors.length/2)];\n\n            while(i < (divisors.length - 1) && divisors[i] < desiredPatchSize) {\n                i++;\n            }\n            if (i > 0) {\n                if (Math.abs(divisors[i] - desiredPatchSize) > Math.abs(divisors[i-1] - desiredPatchSize)) {\n                    found = divisors[i-1];\n                } else {\n                    found = divisors[i];\n                }\n            }\n            if (desiredPatchSize / found < nrOfPatchesList[nrOfPatchesIdx+1] / nrOfPatchesList[nrOfPatchesIdx] &&\n                desiredPatchSize / found > nrOfPatchesList[nrOfPatchesIdx-1]/nrOfPatchesList[nrOfPatchesIdx] ) {\n                return {x: found, y: found};\n            }\n            return null;\n        }\n\n        optimalPatchSize = findPatchSizeForDivisors(common);\n        if (!optimalPatchSize) {\n            optimalPatchSize = findPatchSizeForDivisors(this._computeDivisors(wideSide));\n            if (!optimalPatchSize) {\n                optimalPatchSize = findPatchSizeForDivisors((this._computeDivisors(desiredPatchSize * nrOfPatches)));\n            }\n        }\n        return optimalPatchSize;\n    };\n\n    CVUtils._parseCSSDimensionValues = function(value) {\n        var dimension = {\n                value: parseFloat(value),\n                unit: value.indexOf(\"%\") === value.length-1 ? \"%\" : \"%\"\n            };\n\n        return dimension;\n    };\n\n    CVUtils._dimensionsConverters = {\n        top: function(dimension, context) {\n            if (dimension.unit === \"%\") {\n                return Math.floor(context.height * (dimension.value / 100));\n            }\n        },\n        right: function(dimension, context) {\n            if (dimension.unit === \"%\") {\n                return Math.floor(context.width - (context.width * (dimension.value / 100)));\n            }\n        },\n        bottom: function(dimension, context) {\n            if (dimension.unit === \"%\") {\n                return Math.floor(context.height - (context.height * (dimension.value / 100)));\n            }\n        },\n        left: function(dimension, context) {\n            if (dimension.unit === \"%\") {\n                return Math.floor(context.width * (dimension.value / 100));\n            }\n        }\n    };\n\n    CVUtils.computeImageArea = function(inputWidth, inputHeight, area) {\n        var context = {width: inputWidth, height: inputHeight};\n\n        var parsedArea = Object.keys(area).reduce(function(result, key) {\n            var value = area[key],\n                parsed = CVUtils._parseCSSDimensionValues(value),\n                calculated = CVUtils._dimensionsConverters[key](parsed, context);\n\n            result[key] = calculated;\n            return result;\n        }, {});\n\n        return {\n            sx: parsedArea.left,\n            sy: parsedArea.top,\n            sw: parsedArea.right - parsedArea.left,\n            sh: parsedArea.bottom - parsedArea.top\n        };\n    };\n\n    return (CVUtils);\n});\n\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define, vec2, mat2  */\n\ndefine('image_wrapper',[\n    \"subImage\",\n    \"cv_utils\",\n    \"array_helper\"\n    ], \n    function(SubImage, CVUtils, ArrayHelper) {\n    \n    'use strict';\n\n    /**\n     * Represents a basic image combining the data and size.\n     * In addition, some methods for manipulation are contained.\n     * @param size {x,y} The size of the image in pixel\n     * @param data {Array} If given, a flat array containing the pixel data\n     * @param ArrayType {Type} If given, the desired DataType of the Array (may be typed/non-typed)\n     * @param initialize {Boolean} Indicating if the array should be initialized on creation.\n     * @returns {ImageWrapper}\n     */\n    function ImageWrapper(size, data, ArrayType, initialize) {\n        if (!data) {\n            if (ArrayType) {\n                this.data = new ArrayType(size.x * size.y);\n                if (ArrayType === Array && initialize) {\n                    ArrayHelper.init(this.data, 0);\n                }\n            } else {\n                this.data = new Uint8Array(size.x * size.y);\n                if (Uint8Array === Array && initialize) {\n                    ArrayHelper.init(this.data, 0);\n                }\n            }\n\n        } else {\n            this.data = data;\n        }\n        this.size = size;\n    }\n\n    /**\n     * tests if a position is within the image with a given offset\n     * @param imgRef {x, y} The location to test\n     * @param border Number the padding value in pixel\n     * @returns {Boolean} true if location inside the image's border, false otherwise\n     * @see cvd/image.h\n     */\n    ImageWrapper.prototype.inImageWithBorder = function(imgRef, border) {\n        return (imgRef.x >= border) && (imgRef.y >= border) && (imgRef.x < (this.size.x - border)) && (imgRef.y < (this.size.y - border));\n    };\n\n    /**\n     * Transforms an image according to the given affine-transformation matrix.\n     * @param inImg ImageWrapper a image containing the information to be extracted.\n     * @param outImg ImageWrapper the image to be filled.  The whole image out image is filled by the in image.\n     * @param M mat2 the matrix used to map point in the out matrix to those in the in matrix\n     * @param inOrig vec2 origin in the in image\n     * @param outOrig vec2 origin in the out image\n     * @returns Number the number of pixels not in the in image\n     * @see cvd/vision.h\n     */\n    ImageWrapper.transform = function(inImg, outImg, M, inOrig, outOrig) {\n        var w = outImg.size.x, h = outImg.size.y, iw = inImg.size.x, ih = inImg.size.y;\n        var across = vec2.create([M[0], M[2]]);\n        var down = vec2.create([M[1], M[3]]);\n        var defaultValue = 0;\n\n        var p0 = vec2.subtract(inOrig, mat2.xVec2(M, outOrig, vec2.create()), vec2.create());\n\n        var min_x = p0[0], min_y = p0[1];\n        var max_x = min_x, max_y = min_y;\n        var p, i, j;\n\n        var sampleFunc = ImageWrapper.sample;\n\n        if (across[0] < 0)\n            min_x += w * across[0];\n        else\n            max_x += w * across[0];\n\n        if (down[0] < 0)\n            min_x += h * down[0];\n        else\n            max_x += h * down[0];\n\n        if (across[1] < 0)\n            min_y += w * across[1];\n        else\n            max_y += w * across[1];\n\n        if (down[1] < 0)\n            min_y += h * down[1];\n        else\n            max_y += h * down[1];\n\n        var carrigeReturn = vec2.subtract(down, vec2.scale(across, w, vec2.create()), vec2.create());\n\n        if (min_x >= 0 && min_y >= 0 && max_x < iw - 1 && max_y < ih - 1) {\n            p = p0;\n            for ( i = 0; i < h; ++i, vec2.add(p, carrigeReturn))\n                for ( j = 0; j < w; ++j, vec2.add(p, across))\n                    outImg.set(j, i, sampleFunc(inImg, p[0], p[1]));\n            return 0;\n        } else {\n            var x_bound = iw - 1;\n            var y_bound = ih - 1;\n            var count = 0;\n            p = p0;\n            for ( i = 0; i < h; ++i, vec2.add(p, carrigeReturn)) {\n                for ( j = 0; j < w; ++j, vec2.add(p, across)) {\n                    if (0 <= p[0] && 0 <= p[1] && p[0] < x_bound && p[1] < y_bound) {\n                        outImg.set(j, i, sampleFunc(inImg, p[0], p[1]));\n                    } else {\n                        outImg.set(j, i, defaultValue); ++count;\n                    }\n                }\n            }\n            return count;\n        }\n    };\n\n    /**\n     * Performs bilinear sampling\n     * @param inImg Image to extract sample from\n     * @param x the x-coordinate\n     * @param y the y-coordinate\n     * @returns the sampled value\n     * @see cvd/vision.h\n     */\n    ImageWrapper.sample = function(inImg, x, y) {\n        var lx = Math.floor(x);\n        var ly = Math.floor(y);\n        var w = inImg.size.x;\n        var base = ly * inImg.size.x + lx;\n        var a = inImg.data[base + 0];\n        var b = inImg.data[base + 1];\n        var c = inImg.data[base + w];\n        var d = inImg.data[base + w + 1];\n        var e = a - b;\n        x -= lx;\n        y -= ly;\n\n        var result = Math.floor(x * (y * (e - c + d) - e) + y * (c - a) + a);\n        return result;\n    };\n\n    /**\n     * Initializes a given array. Sets each element to zero.\n     * @param array {Array} The array to initialize\n     */\n    ImageWrapper.clearArray = function(array) {\n        var l = array.length;\n        while (l--) {\n            array[l] = 0;\n        }\n    };\n\n    /**\n     * Creates a {SubImage} from the current image ({this}).\n     * @param from {ImageRef} The position where to start the {SubImage} from. (top-left corner)\n     * @param size {ImageRef} The size of the resulting image\n     * @returns {SubImage} A shared part of the original image\n     */\n    ImageWrapper.prototype.subImage = function(from, size) {\n        return new SubImage(from, size, this);\n    };\n\n    /**\n     * Creates an {ImageWrapper) and copies the needed underlying image-data area\n     * @param imageWrapper {ImageWrapper} The target {ImageWrapper} where the data should be copied\n     * @param from {ImageRef} The location where to copy from (top-left location)\n     */\n    ImageWrapper.prototype.subImageAsCopy = function(imageWrapper, from) {\n        var sizeY = imageWrapper.size.y, sizeX = imageWrapper.size.x;\n        var x, y;\n        for ( x = 0; x < sizeX; x++) {\n            for ( y = 0; y < sizeY; y++) {\n                imageWrapper.data[y * sizeX + x] = this.data[(from.y + y) * this.size.x + from.x + x];\n            }\n        }\n    };\n\n    ImageWrapper.prototype.copyTo = function(imageWrapper) {\n        var length = this.data.length, srcData = this.data, dstData = imageWrapper.data;\n\n        while (length--) {\n            dstData[length] = srcData[length];\n        }\n    };\n\n    /**\n     * Retrieves a given pixel position from the image\n     * @param x {Number} The x-position\n     * @param y {Number} The y-position\n     * @returns {Number} The grayscale value at the pixel-position\n     */\n    ImageWrapper.prototype.get = function(x, y) {\n        return this.data[y * this.size.x + x];\n    };\n\n    /**\n     * Retrieves a given pixel position from the image\n     * @param x {Number} The x-position\n     * @param y {Number} The y-position\n     * @returns {Number} The grayscale value at the pixel-position\n     */\n    ImageWrapper.prototype.getSafe = function(x, y) {\n        var i;\n        \n        if (!this.indexMapping) {\n            this.indexMapping = {\n                x : [],\n                y : []\n            };\n            for (i = 0; i < this.size.x; i++) {\n                this.indexMapping.x[i] = i;\n                this.indexMapping.x[i + this.size.x] = i;\n            }\n            for (i = 0; i < this.size.y; i++) {\n                this.indexMapping.y[i] = i;\n                this.indexMapping.y[i + this.size.y] = i;\n            }\n        }\n        return this.data[(this.indexMapping.y[y + this.size.y]) * this.size.x + this.indexMapping.x[x + this.size.x]];\n    };\n\n    /**\n     * Sets a given pixel position in the image\n     * @param x {Number} The x-position\n     * @param y {Number} The y-position\n     * @param value {Number} The grayscale value to set\n     * @returns {ImageWrapper} The Image itself (for possible chaining)\n     */\n    ImageWrapper.prototype.set = function(x, y, value) {\n        this.data[y * this.size.x + x] = value;\n        return this;\n    };\n\n    /**\n     * Sets the border of the image (1 pixel) to zero\n     */\n    ImageWrapper.prototype.zeroBorder = function() {\n        var i, width = this.size.x, height = this.size.y, data = this.data;\n        for ( i = 0; i < width; i++) {\n            data[i] = data[(height - 1) * width + i] = 0;\n        }\n        for ( i = 1; i < height - 1; i++) {\n            data[i * width] = data[i * width + (width - 1)] = 0;\n        }\n    };\n\n    /**\n     * Inverts a binary image in place\n     */\n    ImageWrapper.prototype.invert = function() {\n        var data = this.data, length = data.length;\n\n        while (length--) {\n            data[length] = data[length] ? 0 : 1;\n        }\n\n    };\n\n    ImageWrapper.prototype.convolve = function(kernel) {\n        var x, y, kx, ky, kSize = (kernel.length / 2) | 0, accu = 0;\n        for ( y = 0; y < this.size.y; y++) {\n            for ( x = 0; x < this.size.x; x++) {\n                accu = 0;\n                for ( ky = -kSize; ky <= kSize; ky++) {\n                    for ( kx = -kSize; kx <= kSize; kx++) {\n                        accu += kernel[ky+kSize][kx + kSize] * this.getSafe(x + kx, y + ky);\n                    }\n                }\n                this.data[y * this.size.x + x] = accu;\n            }\n        }\n    };\n\n    ImageWrapper.prototype.moments = function(labelcount) {\n        var data = this.data,\n            x,\n            y,\n            height = this.size.y,\n            width = this.size.x,\n            val,\n            ysq,\n            labelsum = [],\n            i,\n            label,\n            mu11,\n            mu02,\n            mu20,\n            x_,\n            y_,\n            tmp,\n            result = [],\n            PI = Math.PI,\n            PI_4 = PI / 4;\n\n        if (labelcount <= 0) {\n            return result;\n        }\n\n        for ( i = 0; i < labelcount; i++) {\n            labelsum[i] = {\n                m00 : 0,\n                m01 : 0,\n                m10 : 0,\n                m11 : 0,\n                m02 : 0,\n                m20 : 0,\n                theta : 0,\n                rad : 0\n            };\n        }\n\n        for ( y = 0; y < height; y++) {\n            ysq = y * y;\n            for ( x = 0; x < width; x++) {\n                val = data[y * width + x];\n                if (val > 0) {\n                    label = labelsum[val - 1];\n                    label.m00 += 1;\n                    label.m01 += y;\n                    label.m10 += x;\n                    label.m11 += x * y;\n                    label.m02 += ysq;\n                    label.m20 += x * x;\n                }\n            }\n        }\n\n        for ( i = 0; i < labelcount; i++) {\n            label = labelsum[i];\n            if (!isNaN(label.m00) && label.m00 !== 0) {\n                x_ = label.m10 / label.m00;\n                y_ = label.m01 / label.m00;\n                mu11 = label.m11 / label.m00 - x_ * y_;\n                mu02 = label.m02 / label.m00 - y_ * y_;\n                mu20 = label.m20 / label.m00 - x_ * x_;\n                tmp = (mu02 - mu20) / (2 * mu11);\n                tmp = 0.5 * Math.atan(tmp) + (mu11 >= 0 ? PI_4 : -PI_4 ) + PI;\n                label.theta = (tmp * 180 / PI + 90) % 180 - 90;\n                if (label.theta < 0) {\n                    label.theta += 180;\n                }\n                label.rad = tmp > PI ? tmp - PI : tmp;\n                label.vec = vec2.create([Math.cos(tmp), Math.sin(tmp)]);\n                result.push(label);\n            }\n        }\n\n        return result;\n    };\n\n    /**\n     * Displays the {ImageWrapper} in a given canvas\n     * @param canvas {Canvas} The canvas element to write to\n     * @param scale {Number} Scale which is applied to each pixel-value\n     */\n    ImageWrapper.prototype.show = function(canvas, scale) {\n        var ctx,\n            frame,\n            data,\n            current,\n            pixel,\n            x,\n            y;\n        \n        if (!scale) {\n            scale = 1.0;\n        }\n        ctx = canvas.getContext('2d');\n        canvas.width = this.size.x;\n        canvas.height = this.size.y;\n        frame = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        data = frame.data;\n        current = 0;\n        for (y = 0; y < this.size.y; y++) {\n            for (x = 0; x < this.size.x; x++) {\n                pixel = y * this.size.x + x;\n                current = this.get(x, y) * scale;\n                data[pixel * 4 + 0] = current;\n                data[pixel * 4 + 1] = current;\n                data[pixel * 4 + 2] = current;\n                data[pixel * 4 + 3] = 255;\n            }\n        }\n        //frame.data = data;\n        ctx.putImageData(frame, 0, 0);\n    };\n\n    /**\n     * Displays the {SubImage} in a given canvas\n     * @param canvas {Canvas} The canvas element to write to\n     * @param scale {Number} Scale which is applied to each pixel-value\n     */\n    ImageWrapper.prototype.overlay = function(canvas, scale, from) {\n        if (!scale || scale < 0 || scale > 360) {\n            scale = 360;\n        }\n        var hsv = [0, 1, 1];\n        var rgb = [0, 0, 0];\n        var whiteRgb = [255, 255, 255];\n        var blackRgb = [0, 0, 0];\n        var result = [];\n        var ctx = canvas.getContext('2d');\n        var frame = ctx.getImageData(from.x, from.y, this.size.x, this.size.y);\n        var data = frame.data;\n        var length = this.data.length;\n        while (length--) {\n            hsv[0] = this.data[length] * scale;\n            result = hsv[0] <= 0 ? whiteRgb : hsv[0] >= 360 ? blackRgb : CVUtils.hsv2rgb(hsv, rgb);\n            data[length * 4 + 0] = result[0];\n            data[length * 4 + 1] = result[1];\n            data[length * 4 + 2] = result[2];\n            data[length * 4 + 3] = 255;\n        }\n        ctx.putImageData(frame, from.x, from.y);\n    };\n\n    return (ImageWrapper);\n}); \n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\n/**\n * http://www.codeproject.com/Tips/407172/Connected-Component-Labeling-and-Vectorization\n */\ndefine('tracer',[],function() {\n    \"use strict\";\n    \n    var Tracer = {\n        searchDirections : [[0, 1], [1, 1], [1, 0], [1, -1], [0, -1], [-1, -1], [-1, 0], [-1, 1]],\n        create : function(imageWrapper, labelWrapper) {\n            var imageData = imageWrapper.data,\n                labelData = labelWrapper.data,\n                searchDirections = this.searchDirections,\n                width = imageWrapper.size.x,\n                pos;\n\n            function trace(current, color, label, edgelabel) {\n                var i,\n                    y,\n                    x;\n\n                for ( i = 0; i < 7; i++) {\n                    y = current.cy + searchDirections[current.dir][0];\n                    x = current.cx + searchDirections[current.dir][1];\n                    pos = y * width + x;\n                    if ((imageData[pos] === color) && ((labelData[pos] === 0) || (labelData[pos] === label))) {\n                        labelData[pos] = label;\n                        current.cy = y;\n                        current.cx = x;\n                        return true;\n                    } else {\n                        if (labelData[pos] === 0) {\n                            labelData[pos] = edgelabel;\n                        }\n                        current.dir = (current.dir + 1) % 8;\n                    }\n                }\n                return false;\n            }\n\n            function vertex2D(x, y, dir) {\n                return {\n                    dir : dir,\n                    x : x,\n                    y : y,\n                    next : null,\n                    prev : null\n                };\n            }\n\n            function contourTracing(sy, sx, label, color, edgelabel) {\n                var Fv = null,\n                    Cv,\n                    P,\n                    ldir,\n                    current = {\n                        cx : sx,\n                        cy : sy,\n                        dir : 0\n                    };\n\n                if (trace(current, color, label, edgelabel)) {\n                    Fv = vertex2D(sx, sy, current.dir);\n                    Cv = Fv;\n                    ldir = current.dir;\n                    P = vertex2D(current.cx, current.cy, 0);\n                    P.prev = Cv;\n                    Cv.next = P;\n                    P.next = null;\n                    Cv = P;\n                    do {\n                        current.dir = (current.dir + 6) % 8;\n                        trace(current, color, label, edgelabel);\n                        if (ldir != current.dir) {\n                            Cv.dir = current.dir;\n                            P = vertex2D(current.cx, current.cy, 0);\n                            P.prev = Cv;\n                            Cv.next = P;\n                            P.next = null;\n                            Cv = P;\n                        } else {\n                            Cv.dir = ldir;\n                            Cv.x = current.cx;\n                            Cv.y = current.cy;\n                        }\n                        ldir = current.dir;\n                    } while(current.cx != sx || current.cy != sy);\n                    Fv.prev = Cv.prev;\n                    Cv.prev.next = Fv;\n                }\n                return Fv;\n            }\n\n            return {\n                trace : function(current, color, label, edgelabel) {\n                    return trace(current, color, label, edgelabel);\n                },\n                contourTracing : function(sy, sx, label, color, edgelabel) {\n                    return contourTracing(sy, sx, label, color, edgelabel);\n                }\n            };\n        }\n    };\n\n    return (Tracer);\n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\n/**\n * http://www.codeproject.com/Tips/407172/Connected-Component-Labeling-and-Vectorization\n */\ndefine('rasterizer',[\"tracer\"], function(Tracer) {\n    \"use strict\";\n\n    var Rasterizer = {\n        createContour2D : function() {\n            return {\n                dir : null,\n                index : null,\n                firstVertex : null,\n                insideContours : null,\n                nextpeer : null,\n                prevpeer : null\n            };\n        },\n        CONTOUR_DIR : {\n            CW_DIR : 0,\n            CCW_DIR : 1,\n            UNKNOWN_DIR : 2\n        },\n        DIR : {\n            OUTSIDE_EDGE : -32767,\n            INSIDE_EDGE : -32766\n        },\n        create : function(imageWrapper, labelWrapper) {\n            var imageData = imageWrapper.data,\n                labelData = labelWrapper.data,\n                width = imageWrapper.size.x,\n                height = imageWrapper.size.y,\n                tracer = Tracer.create(imageWrapper, labelWrapper);\n\n            return {\n                rasterize : function(depthlabel) {\n                    var color,\n                        bc,\n                        lc,\n                        labelindex,\n                        cx,\n                        cy,\n                        colorMap = [],\n                        vertex,\n                        p,\n                        cc,\n                        sc,\n                        pos,\n                        connectedCount = 0,\n                        i;\n\n                    for ( i = 0; i < 400; i++) {\n                        colorMap[i] = 0;\n                    }\n\n                    colorMap[0] = imageData[0];\n                    cc = null;\n                    for ( cy = 1; cy < height - 1; cy++) {\n                        labelindex = 0;\n                        bc = colorMap[0];\n                        for ( cx = 1; cx < width - 1; cx++) {\n                            pos = cy * width + cx;\n                            if (labelData[pos] === 0) {\n                                color = imageData[pos];\n                                if (color !== bc) {\n                                    if (labelindex === 0) {\n                                        lc = connectedCount + 1;\n                                        colorMap[lc] = color;\n                                        bc = color;\n                                        vertex = tracer.contourTracing(cy, cx, lc, color, Rasterizer.DIR.OUTSIDE_EDGE);\n                                        if (vertex !== null) {\n                                            connectedCount++;\n                                            labelindex = lc;\n                                            p = Rasterizer.createContour2D();\n                                            p.dir = Rasterizer.CONTOUR_DIR.CW_DIR;\n                                            p.index = labelindex;\n                                            p.firstVertex = vertex;\n                                            p.nextpeer = cc;\n                                            p.insideContours = null;\n                                            if (cc !== null) {\n                                                cc.prevpeer = p;\n                                            }\n                                            cc = p;\n                                        }\n                                    } else {\n                                        vertex = tracer.contourTracing(cy, cx, Rasterizer.DIR.INSIDE_EDGE, color, labelindex);\n                                        if (vertex !== null) {\n                                            p = Rasterizer.createContour2D();\n                                            p.firstVertex = vertex;\n                                            p.insideContours = null;\n                                            if (depthlabel === 0) {\n                                                p.dir = Rasterizer.CONTOUR_DIR.CCW_DIR;\n                                            } else {\n                                                p.dir = Rasterizer.CONTOUR_DIR.CW_DIR;\n                                            }\n                                            p.index = depthlabel;\n                                            sc = cc;\n                                            while ((sc !== null) && sc.index !== labelindex) {\n                                                sc = sc.nextpeer;\n                                            }\n                                            if (sc !== null) {\n                                                p.nextpeer = sc.insideContours;\n                                                if (sc.insideContours !== null) {\n                                                    sc.insideContours.prevpeer = p;\n                                                }\n                                                sc.insideContours = p;\n                                            }\n                                        }\n                                    }\n                                } else {\n                                    labelData[pos] = labelindex;\n                                }\n                            } else if (labelData[pos] === Rasterizer.DIR.OUTSIDE_EDGE || labelData[pos] === Rasterizer.DIR.INSIDE_EDGE) {\n                                labelindex = 0;\n                                if (labelData[pos] === Rasterizer.DIR.INSIDE_EDGE) {\n                                    bc = imageData[pos];\n                                } else {\n                                    bc = colorMap[0];\n                                }\n                            } else {\n                                labelindex = labelData[pos];\n                                bc = colorMap[labelindex];\n                            }\n                        }\n                    }\n                    sc = cc;\n                    while (sc !== null) {\n                        sc.index = depthlabel;\n                        sc = sc.nextpeer;\n                    }\n                    return {\n                        cc : cc,\n                        count : connectedCount\n                    };\n                },\n                debug: {\n                    drawContour : function(canvas, firstContour) {\n                        var ctx = canvas.getContext(\"2d\"),\n                            pq = firstContour,\n                            iq,\n                            q,\n                            p;\n                            \n                        ctx.strokeStyle = \"red\";\n                        ctx.fillStyle = \"red\";\n                        ctx.lineWidth = 1;\n    \n                        if (pq !== null) {\n                            iq = pq.insideContours;\n                        } else {\n                            iq = null;\n                        }\n    \n                        while (pq !== null) {\n                            if (iq !== null) {\n                                q = iq;\n                                iq = iq.nextpeer;\n                            } else {\n                                q = pq;\n                                pq = pq.nextpeer;\n                                if (pq !== null) {\n                                    iq = pq.insideContours;\n                                } else {\n                                    iq = null;\n                                }\n                            }\n    \n                            switch(q.dir) {\n                            case Rasterizer.CONTOUR_DIR.CW_DIR:\n                                ctx.strokeStyle = \"red\";\n                                break;\n                            case Rasterizer.CONTOUR_DIR.CCW_DIR:\n                                ctx.strokeStyle = \"blue\";\n                                break;\n                            case Rasterizer.CONTOUR_DIR.UNKNOWN_DIR:\n                                ctx.strokeStyle = \"green\";\n                                break;\n                            }\n    \n                            p = q.firstVertex;\n                            ctx.beginPath();\n                            ctx.moveTo(p.x, p.y);\n                            do {\n                                p = p.next;\n                                ctx.lineTo(p.x, p.y);\n                            } while(p !== q.firstVertex);\n                            ctx.stroke();\n                        }\n                    }\n                }\n            };\n        }\n    };\n\n    return (Rasterizer);\n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true, -W041: false */\n/* global define */\n\ndefine('skeletonizer',[],function() {\n    \"use strict\";\n\n    /* @preserve ASM BEGIN */\n    function Skeletonizer(stdlib, foreign, buffer) {\n        \"use asm\";\n\n        var images = new stdlib.Uint8Array(buffer),\n            size = foreign.size | 0,\n            imul = stdlib.Math.imul;\n\n        function erode(inImagePtr, outImagePtr) {\n            inImagePtr = inImagePtr | 0;\n            outImagePtr = outImagePtr | 0;\n\n            var v = 0,\n                u = 0,\n                sum = 0,\n                yStart1 = 0,\n                yStart2 = 0,\n                xStart1 = 0,\n                xStart2 = 0,\n                offset = 0;\n\n            for ( v = 1; (v | 0) < ((size - 1) | 0); v = (v + 1) | 0) {\n                offset = (offset + size) | 0;\n                for ( u = 1; (u | 0) < ((size - 1) | 0); u = (u + 1) | 0) {\n                    yStart1 = (offset - size) | 0;\n                    yStart2 = (offset + size) | 0;\n                    xStart1 = (u - 1) | 0;\n                    xStart2 = (u + 1) | 0;\n                    sum = ((images[(inImagePtr + yStart1 + xStart1) | 0] | 0) + (images[(inImagePtr + yStart1 + xStart2) | 0] | 0) + (images[(inImagePtr + offset + u) | 0] | 0) + (images[(inImagePtr + yStart2 + xStart1) | 0] | 0) + (images[(inImagePtr + yStart2 + xStart2) | 0] | 0)) | 0;\n                    if ((sum | 0) == (5 | 0)) {\n                        images[(outImagePtr + offset + u) | 0] = 1;\n                    } else {\n                        images[(outImagePtr + offset + u) | 0] = 0;\n                    }\n                }\n            }\n            return;\n        }\n\n        function subtract(aImagePtr, bImagePtr, outImagePtr) {\n            aImagePtr = aImagePtr | 0;\n            bImagePtr = bImagePtr | 0;\n            outImagePtr = outImagePtr | 0;\n\n            var length = 0;\n\n            length = imul(size, size) | 0;\n\n            while ((length | 0) > 0) {\n                length = (length - 1) | 0;\n                images[(outImagePtr + length) | 0] = ((images[(aImagePtr + length) | 0] | 0) - (images[(bImagePtr + length) | 0] | 0)) | 0;\n            }\n        }\n\n        function bitwiseOr(aImagePtr, bImagePtr, outImagePtr) {\n            aImagePtr = aImagePtr | 0;\n            bImagePtr = bImagePtr | 0;\n            outImagePtr = outImagePtr | 0;\n\n            var length = 0;\n\n            length = imul(size, size) | 0;\n\n            while ((length | 0) > 0) {\n                length = (length - 1) | 0;\n                images[(outImagePtr + length) | 0] = ((images[(aImagePtr + length) | 0] | 0) | (images[(bImagePtr + length) | 0] | 0)) | 0;\n            }\n        }\n\n        function countNonZero(imagePtr) {\n            imagePtr = imagePtr | 0;\n\n            var sum = 0,\n                length = 0;\n\n            length = imul(size, size) | 0;\n\n            while ((length | 0) > 0) {\n                length = (length - 1) | 0;\n                sum = ((sum | 0) + (images[(imagePtr + length) | 0] | 0)) | 0;\n            }\n\n            return (sum | 0);\n        }\n\n        function init(imagePtr, value) {\n            imagePtr = imagePtr | 0;\n            value = value | 0;\n\n            var length = 0;\n\n            length = imul(size, size) | 0;\n\n            while ((length | 0) > 0) {\n                length = (length - 1) | 0;\n                images[(imagePtr + length) | 0] = value;\n            }\n        }\n\n        function dilate(inImagePtr, outImagePtr) {\n            inImagePtr = inImagePtr | 0;\n            outImagePtr = outImagePtr | 0;\n\n            var v = 0,\n                u = 0,\n                sum = 0,\n                yStart1 = 0,\n                yStart2 = 0,\n                xStart1 = 0,\n                xStart2 = 0,\n                offset = 0;\n\n            for ( v = 1; (v | 0) < ((size - 1) | 0); v = (v + 1) | 0) {\n                offset = (offset + size) | 0;\n                for ( u = 1; (u | 0) < ((size - 1) | 0); u = (u + 1) | 0) {\n                    yStart1 = (offset - size) | 0;\n                    yStart2 = (offset + size) | 0;\n                    xStart1 = (u - 1) | 0;\n                    xStart2 = (u + 1) | 0;\n                    sum = ((images[(inImagePtr + yStart1 + xStart1) | 0] | 0) + (images[(inImagePtr + yStart1 + xStart2) | 0] | 0) + (images[(inImagePtr + offset + u) | 0] | 0) + (images[(inImagePtr + yStart2 + xStart1) | 0] | 0) + (images[(inImagePtr + yStart2 + xStart2) | 0] | 0)) | 0;\n                    if ((sum | 0) > (0 | 0)) {\n                        images[(outImagePtr + offset + u) | 0] = 1;\n                    } else {\n                        images[(outImagePtr + offset + u) | 0] = 0;\n                    }\n                }\n            }\n            return;\n        }\n\n        function memcpy(srcImagePtr, dstImagePtr) {\n            srcImagePtr = srcImagePtr | 0;\n            dstImagePtr = dstImagePtr | 0;\n\n            var length = 0;\n\n            length = imul(size, size) | 0;\n\n            while ((length | 0) > 0) {\n                length = (length - 1) | 0;\n                images[(dstImagePtr + length) | 0] = (images[(srcImagePtr + length) | 0] | 0);\n            }\n        }\n\n        function zeroBorder(imagePtr) {\n            imagePtr = imagePtr | 0;\n\n            var x = 0,\n                y = 0;\n\n            for ( x = 0; (x | 0) < ((size - 1) | 0); x = (x + 1) | 0) {\n                images[(imagePtr + x) | 0] = 0;\n                images[(imagePtr + y) | 0] = 0;\n                y = ((y + size) - 1) | 0;\n                images[(imagePtr + y) | 0] = 0;\n                y = (y + 1) | 0;\n            }\n            for ( x = 0; (x | 0) < (size | 0); x = (x + 1) | 0) {\n                images[(imagePtr + y) | 0] = 0;\n                y = (y + 1) | 0;\n            }\n        }\n\n        function skeletonize() {\n            var subImagePtr = 0,\n                erodedImagePtr = 0,\n                tempImagePtr = 0,\n                skelImagePtr = 0,\n                sum = 0,\n                done = 0;\n                \n            erodedImagePtr = imul(size, size) | 0;\n            tempImagePtr = (erodedImagePtr + erodedImagePtr) | 0;\n            skelImagePtr = (tempImagePtr + erodedImagePtr) | 0;\n\n            // init skel-image\n            init(skelImagePtr, 0);\n            zeroBorder(subImagePtr);\n\n            do {\n                erode(subImagePtr, erodedImagePtr);\n                dilate(erodedImagePtr, tempImagePtr);\n                subtract(subImagePtr, tempImagePtr, tempImagePtr);\n                bitwiseOr(skelImagePtr, tempImagePtr, skelImagePtr);\n                memcpy(erodedImagePtr, subImagePtr);\n                sum = countNonZero(subImagePtr) | 0;\n                done = ((sum | 0) == 0 | 0);\n            } while(!done);\n        }\n\n        return {\n            skeletonize : skeletonize\n        };\n    }\n    /* @preserve ASM END */\n\n    return Skeletonizer;\n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('image_debug',[],function() {\n    \"use strict\";\n    \n    return {\n        drawRect: function(pos, size, ctx, style){\n            ctx.strokeStyle = style.color;\n            ctx.fillStyle = style.color;\n            ctx.lineWidth = 1;\n            ctx.beginPath();\n            ctx.strokeRect(pos.x, pos.y, size.x, size.y);\n        },\n        drawPath: function(path, def, ctx, style) {\n            ctx.strokeStyle = style.color;\n            ctx.fillStyle = style.color;\n            ctx.lineWidth = style.lineWidth;\n            ctx.beginPath();\n            ctx.moveTo(path[0][def.x], path[0][def.y]);\n            for (var j = 1; j < path.length; j++) {\n                ctx.lineTo(path[j][def.x], path[j][def.y]);\n            }\n            ctx.closePath();\n            ctx.stroke();\n        },\n        drawImage: function(imageData, size, ctx) {\n            var canvasData = ctx.getImageData(0, 0, size.x, size.y),\n                data = canvasData.data,\n                imageDataPos = imageData.length,\n                canvasDataPos = data.length,\n                value;\n\n            if (canvasDataPos/imageDataPos !== 4) {\n                return false;\n            }\n            while(imageDataPos--){\n                value = imageData[imageDataPos];\n                data[--canvasDataPos] = 255;\n                data[--canvasDataPos] = value;\n                data[--canvasDataPos] = value;\n                data[--canvasDataPos] = value;\n            }\n            ctx.putImageData(canvasData, 0, 0);\n            return true;\n        }\n    };\n    \n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define, mat2, vec2 */\n\ndefine(\"barcode_locator\", [\"image_wrapper\", \"cv_utils\", \"rasterizer\", \"tracer\", \"skeletonizer\", \"array_helper\", \"image_debug\"],\nfunction(ImageWrapper, CVUtils, Rasterizer, Tracer, skeletonizer, ArrayHelper, ImageDebug) {\n\n    var _config,\n        _currentImageWrapper,\n        _skelImageWrapper,\n        _subImageWrapper,\n        _labelImageWrapper,\n        _patchGrid,\n        _patchLabelGrid,\n        _imageToPatchGrid,\n        _binaryImageWrapper,\n        _patchSize,\n        _canvasContainer = {\n            ctx : {\n                binary : null\n            },\n            dom : {\n                binary : null\n            }\n        },\n        _numPatches = {x: 0, y: 0},\n        _inputImageWrapper,\n        _skeletonizer,\n        self = this;\n\n    function initBuffers() {\n        var skeletonImageData;\n        \n        if (_config.halfSample) {\n            _currentImageWrapper = new ImageWrapper({\n                x : _inputImageWrapper.size.x / 2 | 0,\n                y : _inputImageWrapper.size.y / 2 | 0\n            });\n        } else {\n            _currentImageWrapper = _inputImageWrapper;\n        }\n\n        _patchSize = CVUtils.calculatePatchSize(_config.patchSize, _currentImageWrapper.size);\n\n        _numPatches.x = _currentImageWrapper.size.x / _patchSize.x | 0;\n        _numPatches.y = _currentImageWrapper.size.y / _patchSize.y | 0;\n\n        _binaryImageWrapper = new ImageWrapper(_currentImageWrapper.size, undefined, Uint8Array, false);\n\n        _labelImageWrapper = new ImageWrapper(_patchSize, undefined, Array, true);\n\n        skeletonImageData = new ArrayBuffer(64*1024);\n        _subImageWrapper = new ImageWrapper(_patchSize, new Uint8Array(skeletonImageData, 0, _patchSize.x * _patchSize.y));\n        _skelImageWrapper = new ImageWrapper(_patchSize, new Uint8Array(skeletonImageData, _patchSize.x * _patchSize.y * 3, _patchSize.x * _patchSize.y), undefined, true);\n        _skeletonizer = skeletonizer(self, {\n            size : _patchSize.x\n        }, skeletonImageData);\n\n        _imageToPatchGrid = new ImageWrapper({\n            x : (_currentImageWrapper.size.x / _subImageWrapper.size.x) | 0,\n            y : (_currentImageWrapper.size.y / _subImageWrapper.size.y) | 0\n        }, undefined, Array, true);\n        _patchGrid = new ImageWrapper(_imageToPatchGrid.size, undefined, undefined, true);\n        _patchLabelGrid = new ImageWrapper(_imageToPatchGrid.size, undefined, Int32Array, true);\n    }\n\n    function initCanvas() {\n        if (_config.useWorker || typeof document === 'undefined') {\n            return;\n        }\n        _canvasContainer.dom.binary = document.createElement(\"canvas\");\n        _canvasContainer.dom.binary.className = \"binaryBuffer\";\n        if (_config.showCanvas === true) {\n            document.querySelector(\"#debug\").appendChild(_canvasContainer.dom.binary);\n        }\n        _canvasContainer.ctx.binary = _canvasContainer.dom.binary.getContext(\"2d\");\n        _canvasContainer.dom.binary.width = _binaryImageWrapper.size.x;\n        _canvasContainer.dom.binary.height = _binaryImageWrapper.size.y;\n    }\n\n    /**\n     * Creates a bounding box which encloses all the given patches\n     * @returns {Array} The minimal bounding box \n     */\n    function boxFromPatches(patches) {\n        var overAvg, i, j, patch, transMat, minx = _binaryImageWrapper.size.x, miny = _binaryImageWrapper.size.y, maxx = -_binaryImageWrapper.size.x, maxy = -_binaryImageWrapper.size.y, box, scale;\n\n        // draw all patches which are to be taken into consideration\n        overAvg = 0;\n        for ( i = 0; i < patches.length; i++) {\n            patch = patches[i];\n            overAvg += patch.rad;\n            if (_config.showPatches) {\n                ImageDebug.drawRect(patch.pos, _subImageWrapper.size, _canvasContainer.ctx.binary, {color: \"red\"});\n            }\n        }\n\n        overAvg /= patches.length;\n        overAvg = (overAvg * 180 / Math.PI + 90) % 180 - 90;\n        if (overAvg < 0) {\n            overAvg += 180;\n        }\n\n        //console.log(overAvg);\n        overAvg = (180 - overAvg) * Math.PI / 180;\n        transMat = mat2.create([Math.cos(overAvg), -Math.sin(overAvg), Math.sin(overAvg), Math.cos(overAvg)]);\n\n        // iterate over patches and rotate by angle\n        for ( i = 0; i < patches.length; i++) {\n            patch = patches[i];\n            for ( j = 0; j < 4; j++) {\n                mat2.xVec2(transMat, patch.box[j]);\n            }\n\n            if (_config.boxFromPatches.showTransformed) {\n                ImageDebug.drawPath(patch.box, {x: 0, y: 1}, _canvasContainer.ctx.binary, {color: '#99ff00', lineWidth: 2});\n            }\n        }\n\n        // find bounding box\n        for ( i = 0; i < patches.length; i++) {\n            patch = patches[i];\n            for ( j = 0; j < 4; j++) {\n                if (patch.box[j][0] < minx) {\n                    minx = patch.box[j][0];\n                }\n                if (patch.box[j][0] > maxx) {\n                    maxx = patch.box[j][0];\n                }\n                if (patch.box[j][1] < miny) {\n                    miny = patch.box[j][1];\n                }\n                if (patch.box[j][1] > maxy) {\n                    maxy = patch.box[j][1];\n                }\n            }\n        }\n\n        box = [[minx, miny], [maxx, miny], [maxx, maxy], [minx, maxy]];\n\n        if (_config.boxFromPatches.showTransformedBox) {\n            ImageDebug.drawPath(box, {x: 0, y: 1}, _canvasContainer.ctx.binary, {color: '#ff0000', lineWidth: 2});\n        }\n\n        scale = _config.halfSample ? 2 : 1;\n        // reverse rotation;\n        transMat = mat2.inverse(transMat);\n        for ( j = 0; j < 4; j++) {\n            mat2.xVec2(transMat, box[j]);\n        }\n\n        if (_config.boxFromPatches.showBB) {\n            ImageDebug.drawPath(box, {x: 0, y: 1}, _canvasContainer.ctx.binary, {color: '#ff0000', lineWidth: 2});\n        }\n        \n        for ( j = 0; j < 4; j++) {\n            vec2.scale(box[j], scale);\n        }\n\n        return box;\n    }\n\n    /**\n     * Creates a binary image of the current image\n     */\n    function binarizeImage() {\n        CVUtils.otsuThreshold(_currentImageWrapper, _binaryImageWrapper);\n        _binaryImageWrapper.zeroBorder();\n        if (_config.showCanvas) {\n            _binaryImageWrapper.show(_canvasContainer.dom.binary, 255);\n        }\n    }\n    \n    /**\n     * Iterate over the entire image\n     * extract patches\n     */\n    function findPatches() {\n        var i,\n            j,\n            x,\n            y,\n            moments,\n            patchesFound = [],\n            rasterizer,\n            rasterResult,\n            patch;\n        for ( i = 0; i < _numPatches.x; i++) {\n            for ( j = 0; j < _numPatches.y; j++) {\n\n                x = _subImageWrapper.size.x * i;\n                y = _subImageWrapper.size.y * j;\n\n                // seperate parts\n                skeletonize(x, y);\n\n                // Rasterize, find individual bars\n                _skelImageWrapper.zeroBorder();\n                ArrayHelper.init(_labelImageWrapper.data, 0);\n                rasterizer = Rasterizer.create(_skelImageWrapper, _labelImageWrapper);\n                rasterResult = rasterizer.rasterize(0);\n\n                if (_config.showLabels) {\n                    _labelImageWrapper.overlay(_canvasContainer.dom.binary, Math.floor(360 / rasterResult.count), {x : x, y : y});\n                }\n\n                // calculate moments from the skeletonized patch\n                moments = _labelImageWrapper.moments(rasterResult.count);\n\n                // extract eligible patches\n                patchesFound = patchesFound.concat(describePatch(moments, [i, j], x, y));\n            }\n        }\n        \n        if (_config.showFoundPatches) {\n            for ( i = 0; i < patchesFound.length; i++) {\n                patch = patchesFound[i];\n                ImageDebug.drawRect(patch.pos, _subImageWrapper.size, _canvasContainer.ctx.binary, {color: \"#99ff00\", lineWidth: 2});\n            }\n        }\n        \n        return patchesFound;\n    }\n    \n    /**\n     * Finds those connected areas which contain at least 6 patches\n     * and returns them ordered DESC by the number of contained patches\n     * @param {Number} maxLabel \n     */\n    function findBiggestConnectedAreas(maxLabel){\n        var i,\n            sum,\n            labelHist = [],\n            topLabels = [];\n            \n        for ( i = 0; i < maxLabel; i++) {\n            labelHist.push(0);\n        }\n        sum = _patchLabelGrid.data.length;\n        while (sum--) {\n            if (_patchLabelGrid.data[sum] > 0) {\n                labelHist[_patchLabelGrid.data[sum] - 1]++;\n            }\n        }\n\n        labelHist = labelHist.map(function(val, idx) {\n            return {\n                val : val,\n                label : idx + 1\n            };\n        });\n\n        labelHist.sort(function(a, b) {\n            return b.val - a.val;\n        });\n\n        // extract top areas with at least 6 patches present\n        topLabels = labelHist.filter(function(el) {\n            return el.val >= 5;\n        });\n        \n        return topLabels;\n    }\n    \n    /**\n     * \n     */\n    function findBoxes(topLabels, maxLabel) {\n        var i,\n            j,\n            sum,\n            patches = [],\n            patch,\n            box,\n            boxes = [],\n            hsv = [0, 1, 1],\n            rgb = [0, 0, 0];\n            \n        for ( i = 0; i < topLabels.length; i++) {\n            sum = _patchLabelGrid.data.length;\n            patches.length = 0;\n            while (sum--) {\n                if (_patchLabelGrid.data[sum] === topLabels[i].label) {\n                    patch = _imageToPatchGrid.data[sum];\n                    patches.push(patch);\n                }\n            }\n            box = boxFromPatches(patches);\n            if (box) {\n                boxes.push(box);\n\n                // draw patch-labels if requested\n                if (_config.showRemainingPatchLabels) {\n                    for ( j = 0; j < patches.length; j++) {\n                        patch = patches[j];\n                        hsv[0] = (topLabels[i].label / (maxLabel + 1)) * 360;\n                        CVUtils.hsv2rgb(hsv, rgb);\n                        ImageDebug.drawRect(patch.pos, _subImageWrapper.size, _canvasContainer.ctx.binary, {color: \"rgb(\" + rgb.join(\",\") + \")\", lineWidth: 2});\n                    }\n                }\n            }\n        }\n        return boxes;\n    }\n\n    /**\n     * Find similar moments (via cluster)\n     * @param {Object} moments\n     */\n    function similarMoments(moments) {\n        var clusters = CVUtils.cluster(moments, 0.90);\n        var topCluster = CVUtils.topGeneric(clusters, 1, function(e) {\n            return e.getPoints().length;\n        });\n        var points = [], result = [];\n        if (topCluster.length === 1) {\n            points = topCluster[0].item.getPoints();\n            for (var i = 0; i < points.length; i++) {\n                result.push(points[i].point);\n            }\n        }\n        return result;\n    }\n\n    function skeletonize(x, y) {\n        _binaryImageWrapper.subImageAsCopy(_subImageWrapper, CVUtils.imageRef(x, y));\n        _skeletonizer.skeletonize();\n        \n        // Show skeleton if requested\n        if (_config.showSkeleton) {\n            _skelImageWrapper.overlay(_canvasContainer.dom.binary, 360, CVUtils.imageRef(x, y));\n        }\n    }\n\n    /**\n     * Extracts and describes those patches which seem to contain a barcode pattern\n     * @param {Array} moments\n     * @param {Object} patchPos,\n     * @param {Number} x\n     * @param {Number} y\n     * @returns {Array} list of patches\n     */\n    function describePatch(moments, patchPos, x, y) {\n        var k,\n            avg,\n            sum = 0,\n            eligibleMoments = [],\n            matchingMoments,\n            patch,\n            patchesFound = [],\n            minComponentWeight = Math.ceil(_patchSize.x/3);\n\n        if (moments.length >= 2) {\n            // only collect moments which's area covers at least minComponentWeight pixels.\n            for ( k = 0; k < moments.length; k++) {\n                if (moments[k].m00 > minComponentWeight) {\n                    eligibleMoments.push(moments[k]);\n                }\n            }\n\n            // if at least 2 moments are found which have at least minComponentWeights covered\n            if (eligibleMoments.length >= 2) {\n                sum = eligibleMoments.length;\n                matchingMoments = similarMoments(eligibleMoments);\n                avg = 0;\n                // determine the similarity of the moments\n                for ( k = 0; k < matchingMoments.length; k++) {\n                    avg += matchingMoments[k].rad;\n                }\n\n                // Only two of the moments are allowed not to fit into the equation\n                // add the patch to the set\n                if (matchingMoments.length > 1 && matchingMoments.length >= (eligibleMoments.length / 4) * 3 && matchingMoments.length > moments.length / 4) {\n                    avg /= matchingMoments.length;\n                    patch = {\n                        index : patchPos[1] * _numPatches.x + patchPos[0],\n                        pos : {\n                            x : x,\n                            y : y\n                        },\n                        box : [vec2.create([x, y]), vec2.create([x + _subImageWrapper.size.x, y]), vec2.create([x + _subImageWrapper.size.x, y + _subImageWrapper.size.y]), vec2.create([x, y + _subImageWrapper.size.y])],\n                        moments : matchingMoments,\n                        rad : avg,\n                        vec : vec2.create([Math.cos(avg), Math.sin(avg)])\n                    };\n                    patchesFound.push(patch);\n                }\n            }\n        }\n        return patchesFound;\n    }\n\n    /**\n     * finds patches which are connected and share the same orientation\n     * @param {Object} patchesFound\n     */\n    function rasterizeAngularSimilarity(patchesFound) {\n        var label = 0,\n            threshold = 0.95,\n            currIdx = 0,\n            j,\n            patch,\n            hsv = [0, 1, 1],\n            rgb = [0, 0, 0];\n\n        function notYetProcessed() {\n            var i;\n            for ( i = 0; i < _patchLabelGrid.data.length; i++) {\n                if (_patchLabelGrid.data[i] === 0 && _patchGrid.data[i] === 1) {\n                    return i;\n                }\n            }\n            return _patchLabelGrid.length;\n        }\n\n        function trace(currentIdx) {\n            var x, y, currentPatch, patch, idx, dir, current = {\n                x : currentIdx % _patchLabelGrid.size.x,\n                y : (currentIdx / _patchLabelGrid.size.x) | 0\n            }, similarity;\n\n            if (currentIdx < _patchLabelGrid.data.length) {\n                currentPatch = _imageToPatchGrid.data[currentIdx];\n                // assign label\n                _patchLabelGrid.data[currentIdx] = label;\n                for ( dir = 0; dir < Tracer.searchDirections.length; dir++) {\n                    y = current.y + Tracer.searchDirections[dir][0];\n                    x = current.x + Tracer.searchDirections[dir][1];\n                    idx = y * _patchLabelGrid.size.x + x;\n\n                    // continue if patch empty\n                    if (_patchGrid.data[idx] === 0) {\n                        _patchLabelGrid.data[idx] = Number.MAX_VALUE;\n                        continue;\n                    }\n\n                    patch = _imageToPatchGrid.data[idx];\n                    if (_patchLabelGrid.data[idx] === 0) {\n                        similarity = Math.abs(vec2.dot(patch.vec, currentPatch.vec));\n                        if (similarity > threshold) {\n                            trace(idx);\n                        }\n                    }\n                }\n            }\n        }\n        \n        // prepare for finding the right patches\n        ArrayHelper.init(_patchGrid.data, 0);\n        ArrayHelper.init(_patchLabelGrid.data, 0);\n        ArrayHelper.init(_imageToPatchGrid.data, null);\n\n        for ( j = 0; j < patchesFound.length; j++) {\n            patch = patchesFound[j];\n            _imageToPatchGrid.data[patch.index] = patch;\n            _patchGrid.data[patch.index] = 1;\n        }\n\n        // rasterize the patches found to determine area\n        _patchGrid.zeroBorder();\n\n        while (( currIdx = notYetProcessed()) < _patchLabelGrid.data.length) {\n            label++;\n            trace(currIdx);\n        }\n        \n        // draw patch-labels if requested\n        if (_config.showPatchLabels) {\n            for ( j = 0; j < _patchLabelGrid.data.length; j++) {\n                if (_patchLabelGrid.data[j] > 0 && _patchLabelGrid.data[j] <= label) {\n                    patch = _imageToPatchGrid.data[j];\n                    hsv[0] = (_patchLabelGrid.data[j] / (label + 1)) * 360;\n                    CVUtils.hsv2rgb(hsv, rgb);\n                    ImageDebug.drawRect(patch.pos, _subImageWrapper.size, _canvasContainer.ctx.binary, {color: \"rgb(\" + rgb.join(\",\") + \")\", lineWidth: 2});\n                }\n            }\n        }\n        \n        return label;\n    }\n\n    return {\n        init : function(inputImageWrapper, config) {\n            _config = config;\n            _inputImageWrapper = inputImageWrapper;\n\n            initBuffers();\n            initCanvas();\n        },\n\n        locate : function() {\n            var patchesFound,\n            topLabels,\n            boxes;\n\n            if (_config.halfSample) {\n                CVUtils.halfSample(_inputImageWrapper, _currentImageWrapper);\n            }\n\n            binarizeImage();\n            patchesFound = findPatches();\n            // return unless 5% or more patches are found\n            if (patchesFound.length < _numPatches.x * _numPatches.y * 0.05) {\n                return null;\n            }\n\n            // rasterrize area by comparing angular similarity;\n            var maxLabel = rasterizeAngularSimilarity(patchesFound);\n            if (maxLabel < 1) {\n                return null;\n            }\n\n            // search for area with the most patches (biggest connected area)\n            topLabels = findBiggestConnectedAreas(maxLabel);\n            if (topLabels.length === 0) {\n                return null;\n            }\n\n            boxes = findBoxes(topLabels, maxLabel);\n            return boxes;\n        },\n\n        checkImageConstraints: function(inputStream, config) {\n            var patchSize,\n                width = inputStream.getWidth(),\n                height = inputStream.getHeight(),\n                halfSample = config.halfSample ? 0.5 : 1,\n                size,\n                area;\n\n            // calculate width and height based on area\n            if (inputStream.getConfig().area) {\n                area = CVUtils.computeImageArea(width, height, inputStream.getConfig().area);\n                inputStream.setTopRight({x: area.sx, y: area.sy});\n                inputStream.setCanvasSize({x: width, y: height});\n                width = area.sw;\n                height = area.sh;\n            }\n\n            size = {\n                x: Math.floor(width * halfSample),\n                y: Math.floor(height * halfSample)\n            };\n\n            patchSize = CVUtils.calculatePatchSize(config.patchSize, size);\n            console.log(\"Patch-Size: \" + JSON.stringify(patchSize));\n\n            inputStream.setWidth(Math.floor(Math.floor(size.x/patchSize.x)*(1/halfSample)*patchSize.x));\n            inputStream.setHeight(Math.floor(Math.floor(size.y/patchSize.y)*(1/halfSample)*patchSize.y));\n\n            if ((inputStream.getWidth() % patchSize.x) === 0 && (inputStream.getHeight() % patchSize.y) === 0) {\n                return true;\n            }\n\n            throw new Error(\"Image dimensions do not comply with the current settings: Width (\" +\n                width + \" )and height (\" + height +\n                \") must a multiple of \" + patchSize.x);\n        }\n    };\n});\n\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('bresenham',[\"cv_utils\", \"image_wrapper\"], function(CVUtils, ImageWrapper) {\n    \"use strict\";\n    var Bresenham = {};\n\n    var Slope = {\n        DIR : {\n            UP : 1,\n            DOWN : -1\n        }\n    };\n    /**\n     * Scans a line of the given image from point p1 to p2 and returns a result object containing \n     * gray-scale values (0-255) of the underlying pixels in addition to the min\n     * and max values.\n     * @param {Object} imageWrapper\n     * @param {Object} p1 The start point {x,y}\n     * @param {Object} p2 The end point {x,y}\n     * @returns {line, min, max}\n     */\n    Bresenham.getBarcodeLine = function(imageWrapper, p1, p2) {\n        var x0 = p1.x | 0,\n            y0 = p1.y | 0,\n            x1 = p2.x | 0,\n            y1 = p2.y | 0,\n            steep = Math.abs(y1 - y0) > Math.abs(x1 - x0),\n            deltax,\n            deltay,\n            error,\n            ystep,\n            y,\n            tmp,\n            x,\n            line = [],\n            imageData = imageWrapper.data,\n            width = imageWrapper.size.x,\n            sum = 0,\n            val,\n            min = 255,\n            max = 0;\n\n        function read(a, b) {\n            val = imageData[b * width + a];\n            sum += val;\n            min = val < min ? val : min;\n            max = val > max ? val : max;\n            line.push(val);\n        }\n\n        if (steep) {\n            tmp = x0;\n            x0 = y0;\n            y0 = tmp;\n\n            tmp = x1;\n            x1 = y1;\n            y1 = tmp;\n        }\n        if (x0 > x1) {\n            tmp = x0;\n            x0 = x1;\n            x1 = tmp;\n\n            tmp = y0;\n            y0 = y1;\n            y1 = tmp;\n        }\n        deltax = x1 - x0;\n        deltay = Math.abs(y1 - y0);\n        error = (deltax / 2) | 0;\n        y = y0;\n        ystep = y0 < y1 ? 1 : -1;\n        for ( x = x0; x < x1; x++) {\n            if(steep){\n                read(y, x);\n            } else {\n                read(x, y);\n            }\n            error = error - deltay;\n            if (error < 0) {\n                y = y + ystep;\n                error = error + deltax;\n            }\n        }\n\n        return {\n            line : line,\n            min : min,\n            max : max\n        };\n    };\n\n    Bresenham.toOtsuBinaryLine = function(result) {\n        var line = result.line,\n            image = new ImageWrapper({x: line.length - 1, y: 1}, line),\n            threshold = CVUtils.determineOtsuThreshold(image, 5);\n\n        line = CVUtils.sharpenLine(line);\n        CVUtils.thresholdImage(image, threshold);\n\n        return {\n            line: line,\n            threshold: threshold\n        };\n    };\n    \n    /**\n     * Converts the result from getBarcodeLine into a binary representation \n     * also considering the frequency and slope of the signal for more robust results\n     * @param {Object} result {line, min, max}\n     */\n    Bresenham.toBinaryLine = function(result) {\n\n        var min = result.min,\n            max = result.max,\n            line = result.line,\n            slope,\n            slope2,\n            center = min + (max - min) / 2,\n            extrema = [],\n            currentDir,\n            dir,\n            threshold = (max - min) / 12,\n            rThreshold = -threshold,\n            i,\n            j;\n\n        // 1. find extrema\n        currentDir = line[0] > center ? Slope.DIR.UP : Slope.DIR.DOWN;\n        extrema.push({\n            pos : 0,\n            val : line[0]\n        });\n        for ( i = 0; i < line.length - 2; i++) {\n            slope = (line[i + 1] - line[i]);\n            slope2 = (line[i + 2] - line[i + 1]);\n            if ((slope + slope2) < rThreshold && line[i + 1] < (center*1.5)) {\n                dir = Slope.DIR.DOWN;\n            } else if ((slope + slope2) > threshold && line[i + 1] > (center*0.5)) {\n                dir = Slope.DIR.UP;\n            } else {\n                dir = currentDir;\n            }\n\n            if (currentDir !== dir) {\n                extrema.push({\n                    pos : i,\n                    val : line[i]\n                });\n                currentDir = dir;\n            }\n        }\n        extrema.push({\n            pos : line.length,\n            val : line[line.length - 1]\n        });\n\n        for ( j = extrema[0].pos; j < extrema[1].pos; j++) {\n            line[j] = line[j] > center ? 0 : 1;\n        }\n\n        // iterate over extrema and convert to binary based on avg between minmax\n        for ( i = 1; i < extrema.length - 1; i++) {\n            if (extrema[i + 1].val > extrema[i].val) {\n                threshold = (extrema[i].val + ((extrema[i + 1].val - extrema[i].val) / 3) * 2) | 0;\n            } else {\n                threshold = (extrema[i + 1].val + ((extrema[i].val - extrema[i + 1].val) / 3)) | 0;\n            }\n\n            for ( j = extrema[i].pos; j < extrema[i + 1].pos; j++) {\n                line[j] = line[j] > threshold ? 0 : 1;\n            }\n        }\n\n        return {\n            line : line,\n            threshold : threshold\n        };\n    };\n    \n    /**\n     * Used for development only \n     */\n    Bresenham.debug = {\n        printFrequency: function(line, canvas) {\n            var i,\n                ctx = canvas.getContext(\"2d\");\n            canvas.width = line.length;\n            canvas.height = 256;\n    \n            ctx.beginPath();\n            ctx.strokeStyle = \"blue\";\n            for ( i = 0; i < line.length; i++) {\n                ctx.moveTo(i, 255);\n                ctx.lineTo(i, 255 - line[i]);\n            }\n            ctx.stroke();\n            ctx.closePath();\n        },\n        \n        printPattern: function(line, canvas) {\n            var ctx = canvas.getContext(\"2d\"), i;\n    \n            canvas.width = line.length;\n            ctx.fillColor = \"black\";\n            for ( i = 0; i < line.length; i++) {\n                if (line[i] === 1) {\n                    ctx.fillRect(i, 0, 1, 100);\n                }\n            }\n        }\n    };\n\n    return (Bresenham);\n}); \n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n    'barcode_reader',[],function() {\n        \"use strict\";\n        \n        function BarcodeReader(config) {\n            this._row = [];\n            this.config = config || {};\n            return this;\n        }\n        \n        BarcodeReader.prototype._nextUnset = function(line, start) {\n            var i;\n            \n            if (start === undefined) {\n                start = 0;\n            }\n            for (i = start; i < line.length; i++) {\n                if (!line[i]) {\n                    return i;\n                }\n            }\n            return line.length;\n        };\n        \n        BarcodeReader.prototype._matchPattern = function(counter, code) {\n            var i,\n                error = 0,\n                singleError = 0,\n                modulo = this.MODULO,\n                maxSingleError = this.SINGLE_CODE_ERROR || 1;\n                \n            for (i = 0; i < counter.length; i++) {\n                singleError = Math.abs(code[i] - counter[i]);\n                if (singleError > maxSingleError) {\n                    return Number.MAX_VALUE;\n                }\n                error += singleError;\n            }\n            return error/modulo;\n        };\n\n        BarcodeReader.prototype._nextSet = function(line, offset) {\n            var i;\n\n            offset = offset || 0;\n            for (i = offset; i < line.length; i++) {\n                if (line[i]) {\n                    return i;\n                }\n            }\n            return line.length;\n        };\n\n        BarcodeReader.prototype._normalize = function(counter, modulo) {\n            var i,\n                self = this,\n                sum = 0,\n                ratio,\n                numOnes = 0,\n                normalized = [],\n                norm = 0;\n                \n            if (!modulo) {\n                modulo = self.MODULO;\n            }\n            for (i = 0; i < counter.length; i++) {\n                if (counter[i] === 1) {\n                    numOnes++;\n                } else {\n                    sum += counter[i];\n                }\n            }\n            ratio = sum / (modulo - numOnes);\n            if (ratio > 1.0) {\n                for (i = 0; i < counter.length; i++) {\n                    norm = counter[i] === 1 ? counter[i] : counter[i] / ratio;\n                    normalized.push(norm);\n                }\n            } else {\n                ratio = (sum + numOnes)/modulo;\n                for (i = 0; i < counter.length; i++) {\n                    norm = counter[i] / ratio;\n                    normalized.push(norm);\n                }\n            }\n            return normalized;\n        };\n\n        BarcodeReader.prototype._matchTrace = function(cmpCounter, epsilon) {\n            var counter = [],\n                i,\n                self = this,\n                offset = self._nextSet(self._row),\n                isWhite = !self._row[offset],\n                counterPos = 0,\n                bestMatch = {\n                    error : Number.MAX_VALUE,\n                    code : -1,\n                    start : 0\n                },\n                error;\n\n            if (cmpCounter) {\n                for ( i = 0; i < cmpCounter.length; i++) {\n                    counter.push(0);\n                }\n                for ( i = offset; i < self._row.length; i++) {\n                    if (self._row[i] ^ isWhite) {\n                        counter[counterPos]++;\n                    } else {\n                        if (counterPos === counter.length - 1) {\n                            error = self._matchPattern(counter, cmpCounter);\n\n                            if (error < epsilon) {\n                                bestMatch.start = i - offset;\n                                bestMatch.end = i;\n                                bestMatch.counter = counter;\n                                return bestMatch;\n                            } else {\n                                return null;\n                            }\n                        } else {\n                            counterPos++;\n                        }\n                        counter[counterPos] = 1;\n                        isWhite = !isWhite;\n                    }\n                }\n            } else {\n                counter.push(0);\n                for ( i = offset; i < self._row.length; i++) {\n                    if (self._row[i] ^ isWhite) {\n                        counter[counterPos]++;\n                    } else {\n                        counterPos++;\n                        counter.push(0);\n                        counter[counterPos] = 1;\n                        isWhite = !isWhite;\n                    }\n                }\n            }\n\n            // if cmpCounter was not given\n            bestMatch.start = offset;\n            bestMatch.end = self._row.length - 1;\n            bestMatch.counter = counter;\n            return bestMatch;\n        };\n        \n        BarcodeReader.prototype.decodePattern = function(pattern) {\n            var self = this,\n                result;\n            \n            self._row = pattern;\n            result = self._decode();\n            if (result === null) {\n                self._row.reverse();\n                result = self._decode();\n                if (result) {\n                    result.direction = BarcodeReader.DIRECTION.REVERSE;\n                    result.start = self._row.length - result.start;\n                    result.end = self._row.length - result.end;\n                }\n            } else {\n                result.direction = BarcodeReader.DIRECTION.FORWARD;\n            }\n            if (result) {\n                result.format = self.FORMAT;\n            }\n            return result;\n        };\n\n        BarcodeReader.prototype._matchRange = function(start, end, value) {\n            var i;\n\n            start = start < 0 ? 0 : start;\n            for (i = start; i < end; i++) {\n                if (this._row[i] !== value) {\n                    return false;\n                }\n            }\n            return true;\n        };\n\n        BarcodeReader.prototype._fillCounters = function(offset, end, isWhite) {\n            var self = this,\n                counterPos = 0,\n                i,\n                counters = [];\n\n            isWhite = (typeof isWhite !== 'undefined') ? isWhite : true;\n            offset = (typeof offset !== 'undefined') ? offset : self._nextUnset(self._row);\n            end = end || self._row.length;\n\n            counters[counterPos] = 0;\n            for (i = offset; i < end; i++) {\n                if (self._row[i] ^ isWhite) {\n                    counters[counterPos]++;\n                } else {\n                    counterPos++;\n                    counters[counterPos] = 1;\n                    isWhite = !isWhite;\n                }\n            }\n            return counters;\n        };\n\n        Object.defineProperty(BarcodeReader.prototype, \"FORMAT\", {\n            value: 'unknown',\n            writeable: false\n        });\n        \n        BarcodeReader.DIRECTION = {\n            FORWARD : 1,\n            REVERSE : -1\n        };\n        \n        BarcodeReader.Exception = {\n            StartNotFoundException : \"Start-Info was not found!\",\n            CodeNotFoundException : \"Code could not be found!\",\n            PatternNotFoundException : \"Pattern could not be found!\"\n        };\n\n        BarcodeReader.CONFIG_KEYS = {};\n        \n        return (BarcodeReader);\n    }\n);\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n     'code_128_reader',[\n        \"./barcode_reader\"\n    ],\n    function(BarcodeReader) {\n        \"use strict\";\n        \n        function Code128Reader() {\n            BarcodeReader.call(this);\n        }\n        \n        var properties = {\n            CODE_SHIFT : {value: 98},\n            CODE_C : {value: 99},\n            CODE_B : {value: 100},\n            CODE_A : {value: 101},\n            START_CODE_A : {value: 103},\n            START_CODE_B : {value: 104},\n            START_CODE_C : {value: 105},\n            STOP_CODE : {value: 106},\n            MODULO : {value: 11},\n            CODE_PATTERN : {value: [\n                [2, 1, 2, 2, 2, 2],\n                [2, 2, 2, 1, 2, 2],\n                [2, 2, 2, 2, 2, 1],\n                [1, 2, 1, 2, 2, 3],\n                [1, 2, 1, 3, 2, 2],\n                [1, 3, 1, 2, 2, 2],\n                [1, 2, 2, 2, 1, 3],\n                [1, 2, 2, 3, 1, 2],\n                [1, 3, 2, 2, 1, 2],\n                [2, 2, 1, 2, 1, 3],\n                [2, 2, 1, 3, 1, 2],\n                [2, 3, 1, 2, 1, 2],\n                [1, 1, 2, 2, 3, 2],\n                [1, 2, 2, 1, 3, 2],\n                [1, 2, 2, 2, 3, 1],\n                [1, 1, 3, 2, 2, 2],\n                [1, 2, 3, 1, 2, 2],\n                [1, 2, 3, 2, 2, 1],\n                [2, 2, 3, 2, 1, 1],\n                [2, 2, 1, 1, 3, 2],\n                [2, 2, 1, 2, 3, 1],\n                [2, 1, 3, 2, 1, 2],\n                [2, 2, 3, 1, 1, 2],\n                [3, 1, 2, 1, 3, 1],\n                [3, 1, 1, 2, 2, 2],\n                [3, 2, 1, 1, 2, 2],\n                [3, 2, 1, 2, 2, 1],\n                [3, 1, 2, 2, 1, 2],\n                [3, 2, 2, 1, 1, 2],\n                [3, 2, 2, 2, 1, 1],\n                [2, 1, 2, 1, 2, 3],\n                [2, 1, 2, 3, 2, 1],\n                [2, 3, 2, 1, 2, 1],\n                [1, 1, 1, 3, 2, 3],\n                [1, 3, 1, 1, 2, 3],\n                [1, 3, 1, 3, 2, 1],\n                [1, 1, 2, 3, 1, 3],\n                [1, 3, 2, 1, 1, 3],\n                [1, 3, 2, 3, 1, 1],\n                [2, 1, 1, 3, 1, 3],\n                [2, 3, 1, 1, 1, 3],\n                [2, 3, 1, 3, 1, 1],\n                [1, 1, 2, 1, 3, 3],\n                [1, 1, 2, 3, 3, 1],\n                [1, 3, 2, 1, 3, 1],\n                [1, 1, 3, 1, 2, 3],\n                [1, 1, 3, 3, 2, 1],\n                [1, 3, 3, 1, 2, 1],\n                [3, 1, 3, 1, 2, 1],\n                [2, 1, 1, 3, 3, 1],\n                [2, 3, 1, 1, 3, 1],\n                [2, 1, 3, 1, 1, 3],\n                [2, 1, 3, 3, 1, 1],\n                [2, 1, 3, 1, 3, 1],\n                [3, 1, 1, 1, 2, 3],\n                [3, 1, 1, 3, 2, 1],\n                [3, 3, 1, 1, 2, 1],\n                [3, 1, 2, 1, 1, 3],\n                [3, 1, 2, 3, 1, 1],\n                [3, 3, 2, 1, 1, 1],\n                [3, 1, 4, 1, 1, 1],\n                [2, 2, 1, 4, 1, 1],\n                [4, 3, 1, 1, 1, 1],\n                [1, 1, 1, 2, 2, 4],\n                [1, 1, 1, 4, 2, 2],\n                [1, 2, 1, 1, 2, 4],\n                [1, 2, 1, 4, 2, 1],\n                [1, 4, 1, 1, 2, 2],\n                [1, 4, 1, 2, 2, 1],\n                [1, 1, 2, 2, 1, 4],\n                [1, 1, 2, 4, 1, 2],\n                [1, 2, 2, 1, 1, 4],\n                [1, 2, 2, 4, 1, 1],\n                [1, 4, 2, 1, 1, 2],\n                [1, 4, 2, 2, 1, 1],\n                [2, 4, 1, 2, 1, 1],\n                [2, 2, 1, 1, 1, 4],\n                [4, 1, 3, 1, 1, 1],\n                [2, 4, 1, 1, 1, 2],\n                [1, 3, 4, 1, 1, 1],\n                [1, 1, 1, 2, 4, 2],\n                [1, 2, 1, 1, 4, 2],\n                [1, 2, 1, 2, 4, 1],\n                [1, 1, 4, 2, 1, 2],\n                [1, 2, 4, 1, 1, 2],\n                [1, 2, 4, 2, 1, 1],\n                [4, 1, 1, 2, 1, 2],\n                [4, 2, 1, 1, 1, 2],\n                [4, 2, 1, 2, 1, 1],\n                [2, 1, 2, 1, 4, 1],\n                [2, 1, 4, 1, 2, 1],\n                [4, 1, 2, 1, 2, 1],\n                [1, 1, 1, 1, 4, 3],\n                [1, 1, 1, 3, 4, 1],\n                [1, 3, 1, 1, 4, 1],\n                [1, 1, 4, 1, 1, 3],\n                [1, 1, 4, 3, 1, 1],\n                [4, 1, 1, 1, 1, 3],\n                [4, 1, 1, 3, 1, 1],\n                [1, 1, 3, 1, 4, 1],\n                [1, 1, 4, 1, 3, 1],\n                [3, 1, 1, 1, 4, 1],\n                [4, 1, 1, 1, 3, 1],\n                [2, 1, 1, 4, 1, 2],\n                [2, 1, 1, 2, 1, 4],\n                [2, 1, 1, 2, 3, 2],\n                [2, 3, 3, 1, 1, 1, 2]\n            ]},\n            SINGLE_CODE_ERROR: {value: 1},\n            AVG_CODE_ERROR: {value: 0.5},\n            FORMAT: {value: \"code_128\", writeable: false}\n        };\n        \n        Code128Reader.prototype = Object.create(BarcodeReader.prototype, properties);\n        Code128Reader.prototype.constructor = Code128Reader;\n        \n        Code128Reader.prototype._decodeCode = function(start) {\n            var counter = [0, 0, 0, 0, 0, 0],\n                i,\n                self = this,\n                offset = start,\n                isWhite = !self._row[offset],\n                counterPos = 0,\n                bestMatch = {\n                    error : Number.MAX_VALUE,\n                    code : -1,\n                    start : start,\n                    end : start\n                },\n                code,\n                error,\n                normalized;\n\n            for ( i = offset; i < self._row.length; i++) {\n                if (self._row[i] ^ isWhite) {\n                    counter[counterPos]++;\n                } else {\n                    if (counterPos === counter.length - 1) {\n                        normalized = self._normalize(counter);\n                        if (normalized) {\n                            for (code = 0; code < self.CODE_PATTERN.length; code++) {\n                                error = self._matchPattern(normalized, self.CODE_PATTERN[code]);\n                                if (error < bestMatch.error) {\n                                    bestMatch.code = code;\n                                    bestMatch.error = error;\n                                }\n                            }\n                            bestMatch.end = i;\n                            return bestMatch;\n                        }\n                    } else {\n                        counterPos++;\n                    }\n                    counter[counterPos] = 1;\n                    isWhite = !isWhite;\n                }\n            }\n            return null;\n        };\n\n        Code128Reader.prototype._findStart = function() {\n            var counter = [0, 0, 0, 0, 0, 0],\n                i,\n                self = this,\n                offset = self._nextSet(self._row),\n                isWhite = false,\n                counterPos = 0,\n                bestMatch = {\n                    error : Number.MAX_VALUE,\n                    code : -1,\n                    start : 0,\n                    end : 0\n                },\n                code,\n                error,\n                j,\n                sum,\n                normalized;\n                \n            for ( i = offset; i < self._row.length; i++) {\n                if (self._row[i] ^ isWhite) {\n                    counter[counterPos]++;\n                } else {\n                    if (counterPos === counter.length - 1) {\n                        sum = 0;\n                        for ( j = 0; j < counter.length; j++) {\n                            sum += counter[j];\n                        }\n                        normalized = self._normalize(counter);\n                        if (normalized) {\n                            for (code = self.START_CODE_A; code <= self.START_CODE_C; code++) {\n                                error = self._matchPattern(normalized, self.CODE_PATTERN[code]);\n                                if (error < bestMatch.error) {\n                                    bestMatch.code = code;\n                                    bestMatch.error = error;\n                                }\n                            }\n                            if (bestMatch.error < self.AVG_CODE_ERROR) {\n                                bestMatch.start = i - sum;\n                                bestMatch.end = i;\n                                return bestMatch;\n                            }\n                        }\n\n                        for ( j = 0; j < 4; j++) {\n                            counter[j] = counter[j + 2];\n                        }\n                        counter[4] = 0;\n                        counter[5] = 0;\n                        counterPos--;\n                    } else {\n                        counterPos++;\n                    }\n                    counter[counterPos] = 1;\n                    isWhite = !isWhite;\n                }\n            }\n            return null;\n        };\n\n        Code128Reader.prototype._decode = function() {\n            var self = this,\n                startInfo = self._findStart(),\n                code = null,\n                done = false,\n                result = [],\n                multiplier = 0,\n                checksum = 0,\n                codeset,\n                rawResult = [],\n                decodedCodes = [],\n                shiftNext = false,\n                unshift,\n                lastCharacterWasPrintable;\n\n            if (startInfo === null) {\n                return null;\n            }\n            code = {\n                code : startInfo.code,\n                start : startInfo.start,\n                end : startInfo.end\n            };\n            decodedCodes.push(code);\n            checksum = code.code;\n            switch(code.code) {\n            case self.START_CODE_A:\n                codeset = self.CODE_A;\n                break;\n            case self.START_CODE_B:\n                codeset = self.CODE_B;\n                break;\n            case self.START_CODE_C:\n                codeset = self.CODE_C;\n                break;\n            default:\n                return null;\n            }\n\n            while (!done) {\n                unshift = shiftNext;\n                shiftNext = false;\n                code = self._decodeCode(code.end);\n                if (code !== null) {\n                    if (code.code !== self.STOP_CODE) {\n                        rawResult.push(code.code);\n                        multiplier++;\n                        checksum += multiplier * code.code;\n                    }\n                    decodedCodes.push(code);\n\n                    switch(codeset) {\n                    case self.CODE_A:\n                        if (code.code < 64) {\n                            result.push(String.fromCharCode(32 + code.code));\n                        } else if (code.code < 96) {\n                            result.push(String.fromCharCode(code.code - 64));\n                        } else {\n                            switch (code.code) {\n                            case self.CODE_SHIFT:\n                                shiftNext = true;\n                                codeset = self.CODE_B;\n                                break;\n                            case self.CODE_B:\n                                codeset = self.CODE_B;\n                                break;\n                            case self.CODE_C:\n                                codeset = self.CODE_C;\n                                break;\n                            case self.STOP_CODE:\n                                done = true;\n                                break;\n                            }\n                        }\n                        break;\n                    case self.CODE_B:\n                        if (code.code < 96) {\n                            result.push(String.fromCharCode(32 + code.code));\n                        } else {\n                            if (code.code != self.STOP_CODE) {\n                                lastCharacterWasPrintable = false;\n                            }\n                            switch (code.code) {\n                            case self.CODE_SHIFT:\n                                shiftNext = true;\n                                codeset = self.CODE_A;\n                                break;\n                            case self.CODE_A:\n                                codeset = self.CODE_A;\n                                break;\n                            case self.CODE_C:\n                                codeset = self.CODE_C;\n                                break;\n                            case self.STOP_CODE:\n                                done = true;\n                                break;\n                            }\n                        }\n                        break;\n                    case self.CODE_C:\n                        if (code.code < 100) {\n                            result.push(code.code < 10 ? \"0\" + code.code : code.code);\n                        }\n                        switch (code.code) {\n                        case self.CODE_A:\n                            codeset = self.CODE_A;\n                            break;\n                        case self.CODE_B:\n                            codeset = self.CODE_B;\n                            break;\n                        case self.STOP_CODE:\n                            done = true;\n                            break;\n                        }\n                        break;\n                    }\n                } else {\n                    done = true;\n                }\n                if (unshift) {\n                    codeset = codeset == self.CODE_A ? self.CODE_B : self.CODE_A;\n                }\n            }\n\n            if (code === null) {\n                return null;\n            }\n\n            // find end bar\n            code.end = self._nextUnset(self._row, code.end);\n            if(!self._verifyTrailingWhitespace(code)){\n                return null;\n            }\n\n            // checksum\n            // Does not work correctly yet!!! startcode - endcode?\n            checksum -= multiplier * rawResult[rawResult.length - 1];\n            if (checksum % 103 != rawResult[rawResult.length - 1]) {\n                return null;\n            }\n\n            if (!result.length) {\n                return null;\n            }\n\n            // remove last code from result (checksum)\n            result.splice(result.length - 1, 1);\n\n\n\n            return {\n                code : result.join(\"\"),\n                start : startInfo.start,\n                end : code.end,\n                codeset : codeset,\n                startInfo : startInfo,\n                decodedCodes : decodedCodes,\n                endInfo : code\n            };\n        };\n\n\n        BarcodeReader.prototype._verifyTrailingWhitespace = function(endInfo) {\n            var self = this,\n                trailingWhitespaceEnd;\n\n            trailingWhitespaceEnd = endInfo.end + ((endInfo.end - endInfo.start) / 2);\n            if (trailingWhitespaceEnd < self._row.length) {\n                if (self._matchRange(endInfo.end, trailingWhitespaceEnd, 0)) {\n                    return endInfo;\n                }\n            }\n            return null;\n        };\n        \n        return (Code128Reader);\n    }\n);\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n     'ean_reader',[\n        \"./barcode_reader\"\n    ],\n    function(BarcodeReader) {\n        \"use strict\";\n        \n        function EANReader(opts) {\n            BarcodeReader.call(this, opts);\n        }\n        \n        var properties = {\n            CODE_L_START : {value: 0},\n            MODULO : {value: 7},\n            CODE_G_START : {value: 10},\n            START_PATTERN : {value: [1 / 3 * 7, 1 / 3 * 7, 1 / 3 * 7]},\n            STOP_PATTERN : {value: [1 / 3 * 7, 1 / 3 * 7, 1 / 3 * 7]},\n            MIDDLE_PATTERN : {value: [1 / 5 * 7, 1 / 5 * 7, 1 / 5 * 7, 1 / 5 * 7, 1 / 5 * 7]},\n            CODE_PATTERN : {value: [\n                [3, 2, 1, 1],\n                [2, 2, 2, 1],\n                [2, 1, 2, 2],\n                [1, 4, 1, 1],\n                [1, 1, 3, 2],\n                [1, 2, 3, 1],\n                [1, 1, 1, 4],\n                [1, 3, 1, 2],\n                [1, 2, 1, 3],\n                [3, 1, 1, 2],\n                [1, 1, 2, 3],\n                [1, 2, 2, 2],\n                [2, 2, 1, 2],\n                [1, 1, 4, 1],\n                [2, 3, 1, 1],\n                [1, 3, 2, 1],\n                [4, 1, 1, 1],\n                [2, 1, 3, 1],\n                [3, 1, 2, 1],\n                [2, 1, 1, 3]\n            ]},\n            CODE_FREQUENCY : {value: [0, 11, 13, 14, 19, 25, 28, 21, 22, 26]},\n            SINGLE_CODE_ERROR: {value: 0.67},\n            AVG_CODE_ERROR: {value: 0.27},\n            FORMAT: {value: \"ean_13\", writeable: false}\n        };\n        \n        EANReader.prototype = Object.create(BarcodeReader.prototype, properties);\n        EANReader.prototype.constructor = EANReader;\n        \n        EANReader.prototype._decodeCode = function(start, coderange) {\n            var counter = [0, 0, 0, 0],\n                i,\n                self = this,\n                offset = start,\n                isWhite = !self._row[offset],\n                counterPos = 0,\n                bestMatch = {\n                    error : Number.MAX_VALUE,\n                    code : -1,\n                    start : start,\n                    end : start\n                },\n                code,\n                error,\n                normalized;\n\n            if (!coderange) {\n                coderange = self.CODE_PATTERN.length;\n            }\n\n            for ( i = offset; i < self._row.length; i++) {\n                if (self._row[i] ^ isWhite) {\n                    counter[counterPos]++;\n                } else {\n                    if (counterPos === counter.length - 1) {\n                        normalized = self._normalize(counter);\n                        if (normalized) {\n                            for (code = 0; code < coderange; code++) {\n                                error = self._matchPattern(normalized, self.CODE_PATTERN[code]);\n                                if (error < bestMatch.error) {\n                                    bestMatch.code = code;\n                                    bestMatch.error = error;\n                                }\n                            }\n                            bestMatch.end = i;\n                            if (bestMatch.error > self.AVG_CODE_ERROR) {\n                                return null;\n                            }\n                            return bestMatch;\n                        }\n                    } else {\n                        counterPos++;\n                    }\n                    counter[counterPos] = 1;\n                    isWhite = !isWhite;\n                }\n            }\n            return null;\n        };\n\n        EANReader.prototype._findPattern = function(pattern, offset, isWhite, tryHarder, epsilon) {\n            var counter = [],\n                self = this,\n                i,\n                counterPos = 0,\n                bestMatch = {\n                    error : Number.MAX_VALUE,\n                    code : -1,\n                    start : 0,\n                    end : 0\n                },\n                error,\n                j,\n                sum,\n                normalized;\n\n            if (!offset) {\n                offset = self._nextSet(self._row);\n            }\n\n            if (isWhite === undefined) {\n                isWhite = false;\n            }\n\n            if (tryHarder === undefined) {\n                tryHarder = true;\n            }\n\n            if ( epsilon === undefined) {\n                epsilon = self.AVG_CODE_ERROR;\n            }\n\n            for ( i = 0; i < pattern.length; i++) {\n                counter[i] = 0;\n            }\n\n            for ( i = offset; i < self._row.length; i++) {\n                if (self._row[i] ^ isWhite) {\n                    counter[counterPos]++;\n                } else {\n                    if (counterPos === counter.length - 1) {\n                        sum = 0;\n                        for ( j = 0; j < counter.length; j++) {\n                            sum += counter[j];\n                        }\n                        normalized = self._normalize(counter);\n                        if (normalized) {\n                            error = self._matchPattern(normalized, pattern);\n\n                            if (error < epsilon) {\n                                bestMatch.error = error;\n                                bestMatch.start = i - sum;\n                                bestMatch.end = i;\n                                return bestMatch;\n                            }\n                        }\n                        if (tryHarder) {\n                            for ( j = 0; j < counter.length - 2; j++) {\n                                counter[j] = counter[j + 2];\n                            }\n                            counter[counter.length - 2] = 0;\n                            counter[counter.length - 1] = 0;\n                            counterPos--;\n                        } else {\n                            return null;\n                        }\n                    } else {\n                        counterPos++;\n                    }\n                    counter[counterPos] = 1;\n                    isWhite = !isWhite;\n                }\n            }\n            return null;\n        };\n\n        EANReader.prototype._findStart = function() {\n            var self = this,\n                leadingWhitespaceStart,\n                offset = self._nextSet(self._row),\n                startInfo;\n\n            while(!startInfo) {\n                startInfo = self._findPattern(self.START_PATTERN, offset);\n                if (!startInfo) {\n                    return null;\n                }\n                leadingWhitespaceStart = startInfo.start - (startInfo.end - startInfo.start);\n                if (leadingWhitespaceStart >= 0) {\n                    if (self._matchRange(leadingWhitespaceStart, startInfo.start, 0)) {\n                        return startInfo;\n                    }\n                }\n                offset = startInfo.end;\n                startInfo = null;\n            }\n        };\n\n        EANReader.prototype._verifyTrailingWhitespace = function(endInfo) {\n            var self = this,\n                trailingWhitespaceEnd;\n\n            trailingWhitespaceEnd = endInfo.end + (endInfo.end - endInfo.start);\n            if (trailingWhitespaceEnd < self._row.length) {\n                if (self._matchRange(endInfo.end, trailingWhitespaceEnd, 0)) {\n                    return endInfo;\n                }\n            }\n            return null;\n        };\n\n        EANReader.prototype._findEnd = function(offset, isWhite) {\n            var self = this,\n                endInfo = self._findPattern(self.STOP_PATTERN, offset, isWhite, false);\n\n            return endInfo !== null ? self._verifyTrailingWhitespace(endInfo) : null;\n        };\n\n        EANReader.prototype._calculateFirstDigit = function(codeFrequency) {\n            var i,\n                self = this;\n\n            for ( i = 0; i < self.CODE_FREQUENCY.length; i++) {\n                if (codeFrequency === self.CODE_FREQUENCY[i]) {\n                    return i;\n                }\n            }\n            return null;\n        };\n\n        EANReader.prototype._decodePayload = function(code, result, decodedCodes) {\n            var i,\n                self = this,\n                codeFrequency = 0x0,\n                firstDigit;\n\n            for ( i = 0; i < 6; i++) {\n                code = self._decodeCode(code.end);\n                if (!code) {\n                    return null;\n                }\n                if (code.code >= self.CODE_G_START) {\n                    code.code = code.code - self.CODE_G_START;\n                    codeFrequency |= 1 << (5 - i);\n                } else {\n                    codeFrequency |= 0 << (5 - i);\n                }\n                result.push(code.code);\n                decodedCodes.push(code);\n            }\n\n            firstDigit = self._calculateFirstDigit(codeFrequency);\n            if (firstDigit === null) {\n                return null;\n            }\n            result.unshift(firstDigit);\n\n            code = self._findPattern(self.MIDDLE_PATTERN, code.end, true, false);\n            if (code === null) {\n                return null;\n            }\n            decodedCodes.push(code);\n\n            for ( i = 0; i < 6; i++) {\n                code = self._decodeCode(code.end, self.CODE_G_START);\n                if (!code) {\n                    return null;\n                }\n                decodedCodes.push(code);\n                result.push(code.code);\n            }\n\n            return code;\n        };\n\n        EANReader.prototype._decode = function() {\n            var startInfo,\n                self = this,\n                code,\n                result = [],\n                decodedCodes = [];\n\n            startInfo = self._findStart();\n            if (!startInfo) {\n                return null;\n            }\n            code = {\n                code : startInfo.code,\n                start : startInfo.start,\n                end : startInfo.end\n            };\n            decodedCodes.push(code);\n            code = self._decodePayload(code, result, decodedCodes);\n            if (!code) {\n                return null;\n            }\n            code = self._findEnd(code.end, false);\n            if (!code){\n                return null;\n            }\n\n            decodedCodes.push(code);\n\n            // Checksum\n            if (!self._checksum(result)) {\n                return null;\n            }\n\n            return {\n                code : result.join(\"\"),\n                start : startInfo.start,\n                end : code.end,\n                codeset : \"\",\n                startInfo : startInfo,\n                decodedCodes : decodedCodes\n            };\n        };\n\n        EANReader.prototype._checksum = function(result) {\n            var sum = 0, i;\n\n            for ( i = result.length - 2; i >= 0; i -= 2) {\n                sum += result[i];\n            }\n            sum *= 3;\n            for ( i = result.length - 1; i >= 0; i -= 2) {\n                sum += result[i];\n            }\n            return sum % 10 === 0;\n        };\n        \n        return (EANReader);\n    }\n);\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n    'code_39_reader',[\n        \"./barcode_reader\",\n        \"./array_helper\"\n    ],\n    function(BarcodeReader, ArrayHelper) {\n        \"use strict\";\n\n        function Code39Reader() {\n            BarcodeReader.call(this);\n        }\n\n        var properties = {\n            ALPHABETH_STRING: {value: \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%\"},\n            ALPHABET: {value: [48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 45, 46, 32, 42, 36, 47, 43, 37]},\n            CHARACTER_ENCODINGS: {value: [0x034, 0x121, 0x061, 0x160, 0x031, 0x130, 0x070, 0x025, 0x124, 0x064, 0x109, 0x049, 0x148, 0x019, 0x118, 0x058, 0x00D, 0x10C, 0x04C, 0x01C, 0x103, 0x043, 0x142, 0x013, 0x112, 0x052, 0x007, 0x106, 0x046, 0x016, 0x181, 0x0C1, 0x1C0, 0x091, 0x190, 0x0D0, 0x085, 0x184, 0x0C4, 0x094, 0x0A8, 0x0A2, 0x08A, 0x02A]},\n            ASTERISK: {value: 0x094},\n            FORMAT: {value: \"code_39\", writeable: false}\n        };\n\n        Code39Reader.prototype = Object.create(BarcodeReader.prototype, properties);\n        Code39Reader.prototype.constructor = Code39Reader;\n\n        Code39Reader.prototype._toCounters = function(start, counter) {\n            var self = this,\n                numCounters = counter.length,\n                end = self._row.length,\n                isWhite = !self._row[start],\n                i,\n                counterPos = 0;\n\n            ArrayHelper.init(counter, 0);\n\n            for ( i = start; i < end; i++) {\n                if (self._row[i] ^ isWhite) {\n                    counter[counterPos]++;\n                } else {\n                    counterPos++;\n                    if (counterPos === numCounters) {\n                        break;\n                    } else {\n                        counter[counterPos] = 1;\n                        isWhite = !isWhite;\n                    }\n                }\n            }\n\n            return counter;\n        };\n\n        Code39Reader.prototype._decode = function() {\n            var self = this,\n                counters = [0,0,0,0,0,0,0,0,0],\n                result = [],\n                start = self._findStart(),\n                decodedChar,\n                lastStart,\n                pattern,\n                nextStart;\n\n            if (!start) {\n                return null;\n            }\n            nextStart = self._nextSet(self._row, start.end);\n\n            do {\n                counters = self._toCounters(nextStart, counters);\n                pattern = self._toPattern(counters);\n                if (pattern < 0) {\n                    return null;\n                }\n                decodedChar = self._patternToChar(pattern);\n                if (decodedChar < 0){\n                    return null;\n                }\n                result.push(decodedChar);\n                lastStart = nextStart;\n                nextStart += ArrayHelper.sum(counters);\n                nextStart = self._nextSet(self._row, nextStart);\n            } while(decodedChar !== '*');\n            result.pop();\n\n            if (!result.length) {\n                return null;\n            }\n\n            if(!self._verifyTrailingWhitespace(lastStart, nextStart, counters)) {\n                return null;\n            }\n\n            return {\n                code : result.join(\"\"),\n                start : start.start,\n                end : nextStart,\n                startInfo : start,\n                decodedCodes : result\n            };\n        };\n\n        Code39Reader.prototype._verifyTrailingWhitespace = function(lastStart, nextStart, counters) {\n            var trailingWhitespaceEnd,\n                patternSize = ArrayHelper.sum(counters);\n\n            trailingWhitespaceEnd = nextStart - lastStart - patternSize;\n            if ((trailingWhitespaceEnd * 3) >= patternSize) {\n                return true;\n            }\n            return false;\n        };\n\n        Code39Reader.prototype._patternToChar = function(pattern) {\n            var i,\n                self = this;\n\n            for (i = 0; i < self.CHARACTER_ENCODINGS.length; i++) {\n                if (self.CHARACTER_ENCODINGS[i] === pattern) {\n                    return String.fromCharCode(self.ALPHABET[i]);\n                }\n            }\n        };\n\n        Code39Reader.prototype._findNextWidth = function(counters, current) {\n            var i,\n                minWidth = Number.MAX_VALUE;\n\n            for (i = 0; i < counters.length; i++) {\n                if (counters[i] < minWidth && counters[i] > current) {\n                    minWidth = counters[i];\n                }\n            }\n\n            return minWidth;\n        };\n\n        Code39Reader.prototype._toPattern = function(counters) {\n            var numCounters = counters.length,\n                maxNarrowWidth = 0,\n                numWideBars = numCounters,\n                wideBarWidth = 0,\n                self = this,\n                pattern,\n                i;\n\n            while(numWideBars > 3) {\n                maxNarrowWidth = self._findNextWidth(counters, maxNarrowWidth);\n                numWideBars = 0;\n                pattern = 0;\n                for (i = 0; i < numCounters; i++) {\n                    if (counters[i] > maxNarrowWidth) {\n                        pattern |= 1 << (numCounters - 1 - i);\n                        numWideBars++;\n                        wideBarWidth += counters[i];\n                    }\n                }\n\n                if (numWideBars === 3) {\n                    for (i = 0; i < numCounters && numWideBars > 0; i++) {\n                        if (counters[i] > maxNarrowWidth) {\n                            numWideBars--;\n                            if ((counters[i] * 2) >= wideBarWidth) {\n                                return -1;\n                            }\n                        }\n                    }\n                    return pattern;\n                }\n            }\n            return -1;\n        };\n\n        Code39Reader.prototype._findStart = function() {\n            var self = this,\n                offset = self._nextSet(self._row),\n                patternStart = offset,\n                counter = [0,0,0,0,0,0,0,0,0],\n                counterPos = 0,\n                isWhite = false,\n                i,\n                j,\n                whiteSpaceMustStart;\n\n            for ( i = offset; i < self._row.length; i++) {\n                if (self._row[i] ^ isWhite) {\n                    counter[counterPos]++;\n                } else {\n                    if (counterPos === counter.length - 1) {\n\n                        // find start pattern\n                        if (self._toPattern(counter) === self.ASTERISK) {\n                            whiteSpaceMustStart = Math.floor(Math.max(0, patternStart - ((i - patternStart) / 4)));\n                            if (self._matchRange(whiteSpaceMustStart, patternStart, 0)) {\n                                return {\n                                    start: patternStart,\n                                    end: i\n                                };\n                            }\n                        }\n\n                        patternStart += counter[0] + counter[1];\n                        for ( j = 0; j < 7; j++) {\n                            counter[j] = counter[j + 2];\n                        }\n                        counter[7] = 0;\n                        counter[8] = 0;\n                        counterPos--;\n                    } else {\n                        counterPos++;\n                    }\n                    counter[counterPos] = 1;\n                    isWhite = !isWhite;\n                }\n            }\n            return null;\n        };\n\n        return (Code39Reader);\n    }\n);\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n    'code_39_vin_reader',[\n        \"./code_39_reader\"\n    ],\n    function(Code39Reader) {\n        \"use strict\";\n\n        function Code39VINReader() {\n            Code39Reader.call(this);\n        }\n\n        var patterns = {\n            IOQ: /[IOQ]/g,\n            AZ09: /[A-Z0-9]{17}/\n        };\n\n        Code39VINReader.prototype = Object.create(Code39Reader.prototype);\n        Code39VINReader.prototype.constructor = Code39VINReader;\n\n        // Cribbed from:\n        // https://github.com/zxing/zxing/blob/master/core/src/main/java/com/google/zxing/client/result/VINResultParser.java\n        Code39VINReader.prototype._decode = function() {\n            var result = Code39Reader.prototype._decode.apply(this);\n            if (!result) {\n                return null;\n            }\n\n            var code = result.code;\n\n            if (!code) {\n                return;\n            }\n\n            code = code.replace(patterns.IOQ, '');\n\n            if (!code.match(patterns.AZ09)) {\n                console.log('Failed AZ09 pattern code:', code);\n                return null;\n            }\n\n            if (!this._checkChecksum(code)) {\n                return null;\n            }\n\n            result.code = code;\n            return result;\n        };\n\n        Code39VINReader.prototype._checkChecksum = function(code) {\n            // TODO\n            return !!code;\n        };\n\n        return (Code39VINReader);\n    }\n);\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n    'codabar_reader',[\n        \"./barcode_reader\"\n    ],\n    function(BarcodeReader) {\n        \"use strict\";\n\n        function CodabarReader() {\n            BarcodeReader.call(this);\n            this._counters = [];\n        }\n\n        var properties = {\n            ALPHABETH_STRING: {value: \"0123456789-$:/.+ABCD\"},\n            ALPHABET: {value: [48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 45, 36, 58, 47, 46, 43, 65, 66, 67, 68]},\n            CHARACTER_ENCODINGS: {value: [0x003, 0x006, 0x009, 0x060, 0x012, 0x042, 0x021, 0x024, 0x030, 0x048, 0x00c, 0x018, 0x045, 0x051, 0x054, 0x015, 0x01A, 0x029, 0x00B, 0x00E]},\n            START_END: {value: [0x01A, 0x029, 0x00B, 0x00E]},\n            MIN_ENCODED_CHARS: {value: 4},\n            MAX_ACCEPTABLE: {value: 2.0},\n            PADDING: {value: 1.5},\n            FORMAT: {value: \"codabar\", writeable: false}\n        };\n\n        CodabarReader.prototype = Object.create(BarcodeReader.prototype, properties);\n        CodabarReader.prototype.constructor = CodabarReader;\n\n        CodabarReader.prototype._decode = function() {\n            var self = this,\n                result = [],\n                start,\n                decodedChar,\n                pattern,\n                nextStart,\n                end;\n\n            this._counters = self._fillCounters();\n            start = self._findStart();\n            if (!start) {\n                return null;\n            }\n            nextStart = start.startCounter;\n\n            do {\n                pattern = self._toPattern(nextStart);\n                if (pattern < 0) {\n                    return null;\n                }\n                decodedChar = self._patternToChar(pattern);\n                if (decodedChar < 0){\n                    return null;\n                }\n                result.push(decodedChar);\n                nextStart += 8;\n                if (result.length > 1 && self._isStartEnd(pattern)) {\n                    break;\n                }\n            } while(nextStart < self._counters.length);\n\n            // verify end\n            if ((result.length - 2) < self.MIN_ENCODED_CHARS || !self._isStartEnd(pattern)) {\n                return null;\n            }\n\n            // verify end white space\n            if (!self._verifyWhitespace(start.startCounter, nextStart - 8)){\n                return null;\n            }\n\n            if (!self._validateResult(result, start.startCounter)){\n                return null;\n            }\n\n            nextStart = nextStart > self._counters.length ? self._counters.length : nextStart;\n            end = start.start + self._sumCounters(start.startCounter, nextStart - 8);\n\n            return {\n                code : result.join(\"\"),\n                start : start.start,\n                end : end,\n                startInfo : start,\n                decodedCodes : result\n            };\n        };\n\n        CodabarReader.prototype._verifyWhitespace = function(startCounter, endCounter) {\n            if ((startCounter - 1 <= 0) || this._counters[startCounter-1] >= (this._calculatePatternLength(startCounter) / 2.0)) {\n                if ((endCounter + 8 >= this._counters.length) || this._counters[endCounter+7] >= (this._calculatePatternLength(endCounter) / 2.0)) {\n                    return true;\n                }\n            }\n            return false;\n        };\n\n        CodabarReader.prototype._calculatePatternLength = function(offset) {\n            var i,\n                sum = 0;\n\n            for (i = offset; i < offset + 7; i++) {\n                sum += this._counters[i];\n            }\n\n            return sum;\n        };\n\n        CodabarReader.prototype._thresholdResultPattern = function(result, startCounter){\n            var self = this,\n                categorization = {\n                    space: {\n                        narrow: { size: 0, counts: 0, min: 0, max: Number.MAX_VALUE},\n                        wide: {size: 0, counts: 0, min: 0, max: Number.MAX_VALUE}\n                    },\n                    bar: {\n                        narrow: { size: 0, counts: 0, min: 0, max: Number.MAX_VALUE},\n                        wide: { size: 0, counts: 0, min: 0, max: Number.MAX_VALUE}\n                    }\n                },\n                kind,\n                cat,\n                i,\n                j,\n                pos = startCounter,\n                pattern;\n\n            for (i = 0; i < result.length; i++){\n                pattern = self._charToPattern(result[i]);\n                for (j = 6; j >= 0; j--) {\n                    kind = (j & 1) === 2 ? categorization.bar : categorization.space;\n                    cat = (pattern & 1)  === 1 ? kind.wide : kind.narrow;\n                    cat.size += self._counters[pos + j];\n                    cat.counts++;\n                    pattern >>= 1;\n                }\n                pos += 8;\n            }\n\n            [\"space\", \"bar\"].forEach(function(key) {\n                var kind = categorization[key];\n                kind.wide.min = Math.floor((kind.narrow.size/kind.narrow.counts + kind.wide.size / kind.wide.counts) / 2);\n                kind.narrow.max = Math.ceil(kind.wide.min);\n                kind.wide.max = Math.ceil((kind.wide.size * self.MAX_ACCEPTABLE + self.PADDING) / kind.wide.counts);\n            });\n\n            return categorization;\n        };\n\n        CodabarReader.prototype._charToPattern = function(char) {\n            var self = this,\n                charCode = char.charCodeAt(0),\n                i;\n\n            for (i = 0; i < self.ALPHABET.length; i++) {\n                if (self.ALPHABET[i] === charCode){\n                    return self.CHARACTER_ENCODINGS[i];\n                }\n            }\n            return 0x0;\n        };\n\n        CodabarReader.prototype._validateResult = function(result, startCounter) {\n            var self = this,\n                thresholds = self._thresholdResultPattern(result, startCounter),\n                i,\n                j,\n                kind,\n                cat,\n                size,\n                pos = startCounter,\n                pattern;\n\n            for (i = 0; i < result.length; i++) {\n                pattern = self._charToPattern(result[i]);\n                for (j = 6; j >= 0; j--) {\n                    kind = (j & 1) === 0 ? thresholds.bar : thresholds.space;\n                    cat = (pattern & 1)  === 1 ? kind.wide : kind.narrow;\n                    size = self._counters[pos + j];\n                    if (size < cat.min || size > cat.max) {\n                        return false;\n                    }\n                    pattern >>= 1;\n                }\n                pos += 8;\n            }\n            return true;\n        };\n\n        CodabarReader.prototype._patternToChar = function(pattern) {\n            var i,\n                self = this;\n\n            for (i = 0; i < self.CHARACTER_ENCODINGS.length; i++) {\n                if (self.CHARACTER_ENCODINGS[i] === pattern) {\n                    return String.fromCharCode(self.ALPHABET[i]);\n                }\n            }\n            return -1;\n        };\n\n        CodabarReader.prototype._computeAlternatingThreshold = function(offset, end) {\n            var i,\n                min = Number.MAX_VALUE,\n                max = 0,\n                counter;\n\n            for (i = offset; i < end; i += 2){\n                counter = this._counters[i];\n                if (counter > max) {\n                    max = counter;\n                }\n                if (counter < min) {\n                    min = counter;\n                }\n            }\n\n            return ((min + max) / 2.0) | 0;\n        };\n\n        CodabarReader.prototype._toPattern = function(offset) {\n            var numCounters = 7,\n                end = offset + numCounters,\n                barThreshold,\n                spaceThreshold,\n                bitmask = 1 << (numCounters - 1),\n                pattern = 0,\n                i,\n                threshold;\n\n            if (end > this._counters.length) {\n                return -1;\n            }\n\n            barThreshold = this._computeAlternatingThreshold(offset, end);\n            spaceThreshold = this._computeAlternatingThreshold(offset + 1, end);\n\n            for (i = 0; i < numCounters; i++){\n                threshold = (i & 1) === 0 ? barThreshold : spaceThreshold;\n                if (this._counters[offset + i] > threshold) {\n                    pattern |= bitmask;\n                }\n                bitmask >>= 1;\n            }\n\n            return pattern;\n        };\n\n        CodabarReader.prototype._isStartEnd = function(pattern) {\n            var i;\n\n            for (i = 0; i < this.START_END.length; i++) {\n                if (this.START_END[i] === pattern) {\n                    return true;\n                }\n            }\n            return false;\n        };\n\n        CodabarReader.prototype._sumCounters = function(start, end) {\n            var i,\n                sum = 0;\n\n            for (i = start; i < end; i++) {\n                sum += this._counters[i];\n            }\n            return sum;\n        };\n\n        CodabarReader.prototype._findStart = function() {\n            var self = this,\n                i,\n                pattern,\n                start = self._nextUnset(self._row),\n                end;\n\n            for (i = 1; i < this._counters.length; i++) {\n                pattern = self._toPattern(i);\n                if (pattern !== -1 && self._isStartEnd(pattern)) {\n                    // TODO: Look for whitespace ahead\n                    start += self._sumCounters(0, i);\n                    end = start + self._sumCounters(i, i + 8);\n                    return {\n                        start: start,\n                        end: end,\n                        startCounter: i,\n                        endCounter: i + 8\n                    };\n                }\n            }\n        };\n\n        return (CodabarReader);\n    }\n);\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n    'upc_reader',[\n        \"./ean_reader\"\n    ],\n    function(EANReader) {\n        \"use strict\";\n\n        function UPCReader() {\n            EANReader.call(this);\n        }\n\n        var properties = {\n            FORMAT: {value: \"upc_a\", writeable: false}\n        };\n\n        UPCReader.prototype = Object.create(EANReader.prototype, properties);\n        UPCReader.prototype.constructor = UPCReader;\n\n        UPCReader.prototype._decode = function() {\n            var result = EANReader.prototype._decode.call(this);\n\n            if (result && result.code && result.code.length === 13 && result.code.charAt(0) === \"0\") {\n\n                result.code = result.code.substring(1);\n                return result;\n            }\n            return null;\n        };\n\n        return (UPCReader);\n    }\n);\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n    'ean_8_reader',[\n        \"./ean_reader\"\n    ],\n    function(EANReader) {\n        \"use strict\";\n\n        function EAN8Reader() {\n            EANReader.call(this);\n        }\n\n        var properties = {\n            FORMAT: {value: \"ean_8\", writeable: false}\n        };\n\n        EAN8Reader.prototype = Object.create(EANReader.prototype, properties);\n        EAN8Reader.prototype.constructor = EAN8Reader;\n\n        EAN8Reader.prototype._decodePayload = function(code, result, decodedCodes) {\n            var i,\n                self = this;\n\n            for ( i = 0; i < 4; i++) {\n                code = self._decodeCode(code.end, self.CODE_G_START);\n                if (!code) {\n                    return null;\n                }\n                result.push(code.code);\n                decodedCodes.push(code);\n            }\n\n            code = self._findPattern(self.MIDDLE_PATTERN, code.end, true, false);\n            if (code === null) {\n                return null;\n            }\n            decodedCodes.push(code);\n\n            for ( i = 0; i < 4; i++) {\n                code = self._decodeCode(code.end, self.CODE_G_START);\n                if (!code) {\n                    return null;\n                }\n                decodedCodes.push(code);\n                result.push(code.code);\n            }\n\n            return code;\n        };\n\n        return (EAN8Reader);\n    }\n);\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n    'upc_e_reader',[\n        \"./ean_reader\"\n    ],\n    function(EANReader) {\n        \"use strict\";\n\n        function UPCEReader() {\n            EANReader.call(this);\n        }\n\n        var properties = {\n            CODE_FREQUENCY : {value: [\n                [ 56, 52, 50, 49, 44, 38, 35, 42, 41, 37 ],\n                [7, 11, 13, 14, 19, 25, 28, 21, 22, 26]]},\n            STOP_PATTERN: { value: [1 / 6 * 7, 1 / 6 * 7, 1 / 6 * 7, 1 / 6 * 7, 1 / 6 * 7, 1 / 6 * 7]},\n            FORMAT: {value: \"upc_e\", writeable: false}\n        };\n\n        UPCEReader.prototype = Object.create(EANReader.prototype, properties);\n        UPCEReader.prototype.constructor = UPCEReader;\n\n        UPCEReader.prototype._decodePayload = function(code, result, decodedCodes) {\n            var i,\n                self = this,\n                codeFrequency = 0x0;\n\n            for ( i = 0; i < 6; i++) {\n                code = self._decodeCode(code.end);\n                if (!code) {\n                    return null;\n                }\n                if (code.code >= self.CODE_G_START) {\n                    code.code = code.code - self.CODE_G_START;\n                    codeFrequency |= 1 << (5 - i);\n                }\n                result.push(code.code);\n                decodedCodes.push(code);\n            }\n            if (!self._determineParity(codeFrequency, result)) {\n                return null;\n            }\n\n            return code;\n        };\n\n        UPCEReader.prototype._determineParity = function(codeFrequency, result) {\n            var self =this,\n                i,\n                nrSystem;\n\n            for (nrSystem = 0; nrSystem < self.CODE_FREQUENCY.length; nrSystem++){\n                for ( i = 0; i < self.CODE_FREQUENCY[nrSystem].length; i++) {\n                    if (codeFrequency === self.CODE_FREQUENCY[nrSystem][i]) {\n                        result.unshift(nrSystem);\n                        result.push(i);\n                        return true;\n                    }\n                }\n            }\n            return false;\n        };\n\n        UPCEReader.prototype._convertToUPCA = function(result) {\n            var upca = [result[0]],\n                lastDigit = result[result.length - 2];\n\n            if (lastDigit <= 2) {\n                upca = upca.concat(result.slice(1, 3))\n                    .concat([lastDigit, 0, 0, 0, 0])\n                    .concat(result.slice(3, 6));\n            } else if (lastDigit === 3) {\n                upca = upca.concat(result.slice(1, 4))\n                    .concat([0 ,0, 0, 0, 0])\n                    .concat(result.slice(4,6));\n            } else if (lastDigit === 4) {\n                upca = upca.concat(result.slice(1, 5))\n                    .concat([0, 0, 0, 0, 0, result[5]]);\n            } else {\n                upca = upca.concat(result.slice(1, 6))\n                    .concat([0, 0, 0, 0, lastDigit]);\n            }\n\n            upca.push(result[result.length - 1]);\n            return upca;\n        };\n\n        UPCEReader.prototype._checksum = function(result) {\n            return EANReader.prototype._checksum.call(this, this._convertToUPCA(result));\n        };\n\n        UPCEReader.prototype._findEnd = function(offset, isWhite) {\n            isWhite = true;\n            return EANReader.prototype._findEnd.call(this, offset, isWhite);\n        };\n\n        UPCEReader.prototype._verifyTrailingWhitespace = function(endInfo) {\n            var self = this,\n                trailingWhitespaceEnd;\n\n            trailingWhitespaceEnd = endInfo.end + ((endInfo.end - endInfo.start)/2);\n            if (trailingWhitespaceEnd < self._row.length) {\n                if (self._matchRange(endInfo.end, trailingWhitespaceEnd, 0)) {\n                    return endInfo;\n                }\n            }\n        };\n\n        return (UPCEReader);\n    }\n);\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('html_utils',[], function() {\n    \"use strict\";\n\n    function createNode(htmlStr) {\n        var temp = document.createElement('div');\n        \n        temp.innerHTML = htmlStr;\n        while (temp.firstChild) {\n            return temp.firstChild;\n        }\n    }\n\n    function mergeObjects(obj1, obj2) {\n        for (var p in obj2) {\n            try {\n                if (obj2[p].constructor == Object) {\n                    obj1[p] = mergeObjects(obj1[p], obj2[p]);\n                } else {\n                    obj1[p] = obj2[p];\n                }\n            } catch(e) {\n                obj1[p] = obj2[p];\n            }\n        }\n\n        return obj1;\n    }\n\n    return {\n        createNode : function(htmlStr) {\n            return createNode(htmlStr);\n        },\n        mergeObjects : function(obj1, obj2) {\n            return mergeObjects(obj1, obj2);\n        }\n    };\n}); \n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n    'i2of5_reader',[\n        \"./barcode_reader\",\n        \"./html_utils\"\n    ],\n    function(BarcodeReader, HTMLUtils) {\n        \"use strict\";\n\n        function I2of5Reader(opts) {\n            opts = HTMLUtils.mergeObjects(getDefaulConfig(), opts);\n            BarcodeReader.call(this, opts);\n            this.barSpaceRatio = [1, 1];\n            if (opts.normalizeBarSpaceWidth) {\n                this.SINGLE_CODE_ERROR = 0.38;\n                this.AVG_CODE_ERROR = 0.09;\n            }\n        }\n\n        function getDefaulConfig() {\n            var config = {};\n\n            Object.keys(I2of5Reader.CONFIG_KEYS).forEach(function(key) {\n                config[key] = I2of5Reader.CONFIG_KEYS[key]['default'];\n            });\n            return config;\n        }\n\n        var N = 1,\n            W = 3,\n            properties = {\n            MODULO : {value: 10},\n            START_PATTERN : {value: [N*2.5, N*2.5, N*2.5, N*2.5]},\n            STOP_PATTERN : {value: [N*2, N*2, W*2]},\n            CODE_PATTERN : {value: [\n                [N, N, W, W, N],\n                [W, N, N, N, W],\n                [N, W, N, N, W],\n                [W, W, N, N, N],\n                [N, N, W, N, W],\n                [W, N, W, N, N],\n                [N, W, W, N, N],\n                [N, N, N, W, W],\n                [W, N, N, W, N],\n                [N, W, N, W, N]\n            ]},\n            SINGLE_CODE_ERROR: {value: 0.78, writable: true},\n            AVG_CODE_ERROR: {value: 0.38, writable: true},\n            MAX_CORRECTION_FACTOR: {value: 5},\n            FORMAT: {value: \"i2of5\"}\n        };\n\n        I2of5Reader.prototype = Object.create(BarcodeReader.prototype, properties);\n        I2of5Reader.prototype.constructor = I2of5Reader;\n\n        I2of5Reader.prototype._matchPattern = function(counter, code) {\n            if (this.config.normalizeBarSpaceWidth) {\n                var i,\n                    counterSum = [0, 0],\n                    codeSum = [0, 0],\n                    correction = [0, 0],\n                    correctionRatio = this.MAX_CORRECTION_FACTOR,\n                    correctionRatioInverse = 1 / correctionRatio;\n\n                for (i = 0; i < counter.length; i++) {\n                    counterSum[i % 2] += counter[i];\n                    codeSum[i % 2] += code[i];\n                }\n                correction[0] = codeSum[0] / counterSum[0];\n                correction[1] = codeSum[1] / counterSum[1];\n\n                correction[0] = Math.max(Math.min(correction[0], correctionRatio), correctionRatioInverse);\n                correction[1] = Math.max(Math.min(correction[1], correctionRatio), correctionRatioInverse);\n                this.barSpaceRatio = correction;\n                for (i = 0; i < counter.length; i++) {\n                    counter[i] *= this.barSpaceRatio[i % 2];\n                }\n            }\n            return BarcodeReader.prototype._matchPattern.call(this, counter, code);\n        };\n\n        I2of5Reader.prototype._findPattern = function(pattern, offset, isWhite, tryHarder) {\n            var counter = [],\n                self = this,\n                i,\n                counterPos = 0,\n                bestMatch = {\n                    error : Number.MAX_VALUE,\n                    code : -1,\n                    start : 0,\n                    end : 0\n                },\n                error,\n                j,\n                sum,\n                normalized,\n                epsilon = self.AVG_CODE_ERROR;\n\n            isWhite = isWhite || false;\n            tryHarder = tryHarder || false;\n\n            if (!offset) {\n                offset = self._nextSet(self._row);\n            }\n\n            for ( i = 0; i < pattern.length; i++) {\n                counter[i] = 0;\n            }\n\n            for ( i = offset; i < self._row.length; i++) {\n                if (self._row[i] ^ isWhite) {\n                    counter[counterPos]++;\n                } else {\n                    if (counterPos === counter.length - 1) {\n                        sum = 0;\n                        for ( j = 0; j < counter.length; j++) {\n                            sum += counter[j];\n                        }\n                        normalized = self._normalize(counter);\n                        if (normalized) {\n                            error = self._matchPattern(normalized, pattern);\n\n                            if (error < epsilon) {\n                                bestMatch.error = error;\n                                bestMatch.start = i - sum;\n                                bestMatch.end = i;\n                                return bestMatch;\n                            }\n                        }\n                        if (tryHarder) {\n                            for (j = 0; j < counter.length - 2; j++) {\n                                counter[j] = counter[j + 2];\n                            }\n                            counter[counter.length - 2] = 0;\n                            counter[counter.length - 1] = 0;\n                            counterPos--;\n                        } else {\n                            return null;\n                        }\n                    } else {\n                        counterPos++;\n                    }\n                    counter[counterPos] = 1;\n                    isWhite = !isWhite;\n                }\n            }\n            return null;\n        };\n\n        I2of5Reader.prototype._findStart = function() {\n            var self = this,\n                leadingWhitespaceStart,\n                offset = self._nextSet(self._row),\n                startInfo,\n                narrowBarWidth = 1;\n\n            while(!startInfo) {\n                startInfo = self._findPattern(self.START_PATTERN, offset, false, true);\n                if (!startInfo) {\n                    return null;\n                }\n                narrowBarWidth = Math.floor((startInfo.end - startInfo.start) / 4);\n                leadingWhitespaceStart = startInfo.start - narrowBarWidth*10;\n                if (leadingWhitespaceStart >= 0) {\n                    if (self._matchRange(leadingWhitespaceStart, startInfo.start, 0)) {\n                        return startInfo;\n                    }\n                }\n                offset = startInfo.end;\n                startInfo = null;\n            }\n        };\n\n        I2of5Reader.prototype._verifyTrailingWhitespace = function(endInfo) {\n            var self = this,\n                trailingWhitespaceEnd;\n\n            trailingWhitespaceEnd = endInfo.end + ((endInfo.end - endInfo.start) / 2);\n            if (trailingWhitespaceEnd < self._row.length) {\n                if (self._matchRange(endInfo.end, trailingWhitespaceEnd, 0)) {\n                    return endInfo;\n                }\n            }\n            return null;\n        };\n\n        I2of5Reader.prototype._findEnd = function() {\n            var self = this,\n                endInfo,\n                tmp;\n\n            self._row.reverse();\n            endInfo = self._findPattern(self.STOP_PATTERN);\n            self._row.reverse();\n\n            if (endInfo === null) {\n                return null;\n            }\n\n            // reverse numbers\n            tmp = endInfo.start;\n            endInfo.start = self._row.length - endInfo.end;\n            endInfo.end = self._row.length - tmp;\n\n            return endInfo !== null ? self._verifyTrailingWhitespace(endInfo) : null;\n        };\n\n        I2of5Reader.prototype._decodePair = function(counterPair) {\n            var i,\n                code,\n                codes = [],\n                self = this;\n\n            for (i = 0; i < counterPair.length; i++) {\n                code = self._decodeCode(counterPair[i]);\n                if (!code) {\n                    return null;\n                }\n                codes.push(code);\n            }\n            return codes;\n        };\n\n        I2of5Reader.prototype._decodeCode = function(counter) {\n            var j,\n                self = this,\n                sum = 0,\n                normalized,\n                error,\n                epsilon = self.AVG_CODE_ERROR,\n                code,\n                bestMatch = {\n                    error : Number.MAX_VALUE,\n                    code : -1,\n                    start : 0,\n                    end : 0\n                };\n\n            for ( j = 0; j < counter.length; j++) {\n                sum += counter[j];\n            }\n            normalized = self._normalize(counter);\n            if (normalized) {\n                for (code = 0; code < self.CODE_PATTERN.length; code++) {\n                    error = self._matchPattern(normalized, self.CODE_PATTERN[code]);\n                    if (error < bestMatch.error) {\n                        bestMatch.code = code;\n                        bestMatch.error = error;\n                    }\n                }\n                if (bestMatch.error < epsilon) {\n                    return bestMatch;\n                }\n            }\n            return null;\n        };\n\n        I2of5Reader.prototype._decodePayload = function(counters, result, decodedCodes) {\n            var i,\n                self = this,\n                pos = 0,\n                counterLength = counters.length,\n                counterPair = [[0, 0, 0, 0, 0], [0, 0, 0, 0, 0]],\n                codes;\n\n            while (pos < counterLength) {\n                for (i = 0; i < 5; i++) {\n                    counterPair[0][i] = counters[pos]*this.barSpaceRatio[0];\n                    counterPair[1][i] = counters[pos + 1]*this.barSpaceRatio[1];\n                    pos += 2;\n                }\n                codes = self._decodePair(counterPair);\n                if (!codes) {\n                    return null;\n                }\n                for (i = 0; i < codes.length; i++) {\n                    result.push(codes[i].code + \"\");\n                    decodedCodes.push(codes[i]);\n                }\n            }\n            return codes;\n        };\n\n        I2of5Reader.prototype._verifyCounterLength = function(counters) {\n            return (counters.length % 10 === 0);\n        };\n\n        I2of5Reader.prototype._decode = function() {\n            var startInfo,\n                endInfo,\n                self = this,\n                code,\n                result = [],\n                decodedCodes = [],\n                counters;\n\n            startInfo = self._findStart();\n            if (!startInfo) {\n                return null;\n            }\n            decodedCodes.push(startInfo);\n\n            endInfo = self._findEnd();\n            if (!endInfo) {\n                return null;\n            }\n\n            counters = self._fillCounters(startInfo.end, endInfo.start, false);\n            if (!self._verifyCounterLength(counters)) {\n                return null;\n            }\n            code = self._decodePayload(counters, result, decodedCodes);\n            if (!code) {\n                return null;\n            }\n            if (result.length % 2 !== 0 ||\n                    result.length < 6) {\n                return null;\n            }\n\n            decodedCodes.push(endInfo);\n            return {\n                code : result.join(\"\"),\n                start : startInfo.start,\n                end : endInfo.end,\n                startInfo : startInfo,\n                decodedCodes : decodedCodes\n            };\n        };\n\n        I2of5Reader.CONFIG_KEYS = {\n            normalizeBarSpaceWidth: {\n                'type': 'boolean',\n                'default': false,\n                'description': 'If true, the reader tries to normalize the' +\n                'width-difference between bars and spaces'\n            }\n        };\n\n        return (I2of5Reader);\n    }\n);\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('barcode_decoder',[\n    \"bresenham\",\n    \"image_debug\",\n    'code_128_reader',\n    'ean_reader',\n    'code_39_reader',\n    'code_39_vin_reader',\n    'codabar_reader',\n    'upc_reader',\n    'ean_8_reader',\n    'upc_e_reader',\n    'i2of5_reader'\n], function(\n    Bresenham,\n    ImageDebug,\n    Code128Reader,\n    EANReader,\n    Code39Reader,\n    Code39VINReader,\n    CodabarReader,\n    UPCReader,\n    EAN8Reader,\n    UPCEReader,\n    I2of5Reader) {\n    \"use strict\";\n\n    var readers = {\n        code_128_reader: Code128Reader,\n        ean_reader: EANReader,\n        ean_8_reader: EAN8Reader,\n        code_39_reader: Code39Reader,\n        code_39_vin_reader: Code39VINReader,\n        codabar_reader: CodabarReader,\n        upc_reader: UPCReader,\n        upc_e_reader: UPCEReader,\n        i2of5_reader: I2of5Reader\n    };\n    var BarcodeDecoder = {\n        create : function(config, inputImageWrapper) {\n            var _canvas = {\n                ctx : {\n                        frequency : null,\n                        pattern : null,\n                        overlay : null\n                    },\n                    dom : {\n                        frequency : null,\n                        pattern : null,\n                        overlay : null\n                    }\n                },\n                _barcodeReaders = [];\n\n            initCanvas();\n            initReaders();\n            initConfig();\n\n            function initCanvas() {\n                if (typeof document !== 'undefined') {\n                    var $debug = document.querySelector(\"#debug.detection\");\n                    _canvas.dom.frequency = document.querySelector(\"canvas.frequency\");\n                    if (!_canvas.dom.frequency) {\n                        _canvas.dom.frequency = document.createElement(\"canvas\");\n                        _canvas.dom.frequency.className = \"frequency\";\n                        if($debug) {\n                            $debug.appendChild(_canvas.dom.frequency);\n                        }\n                    }\n                    _canvas.ctx.frequency = _canvas.dom.frequency.getContext(\"2d\");\n\n                    _canvas.dom.pattern = document.querySelector(\"canvas.patternBuffer\");\n                    if (!_canvas.dom.pattern) {\n                        _canvas.dom.pattern = document.createElement(\"canvas\");\n                        _canvas.dom.pattern.className = \"patternBuffer\";\n                        if($debug) {\n                            $debug.appendChild(_canvas.dom.pattern);\n                        }\n                    }\n                    _canvas.ctx.pattern = _canvas.dom.pattern.getContext(\"2d\");\n\n                    _canvas.dom.overlay = document.querySelector(\"canvas.drawingBuffer\");\n                    if (_canvas.dom.overlay) {\n                        _canvas.ctx.overlay = _canvas.dom.overlay.getContext(\"2d\");\n                    }\n                }\n            }\n\n            function initReaders() {\n                config.readers.forEach(function(readerConfig) {\n                    var reader,\n                        config = {};\n\n                    if (typeof readerConfig === 'object') {\n                        reader = readerConfig.format;\n                        config = readerConfig.config;\n                    } else if (typeof readerConfig === 'string') {\n                        reader = readerConfig;\n                    }\n                    _barcodeReaders.push(new readers[reader](config));\n                });\n                console.log(\"Registered Readers: \" + _barcodeReaders\n                    .map(function(reader) {return JSON.stringify({format: reader.FORMAT, config: reader.config});})\n                    .join(', '));\n            }\n\n            function initConfig() {\n                if (typeof document !== 'undefined') {\n                    var i,\n                        vis = [{\n                            node : _canvas.dom.frequency,\n                            prop : config.showFrequency\n                        }, {\n                            node : _canvas.dom.pattern,\n                            prop : config.showPattern\n                        }];\n\n                    for (i = 0; i < vis.length; i++) {\n                        if (vis[i].prop === true) {\n                            vis[i].node.style.display = \"block\";\n                        } else {\n                            vis[i].node.style.display = \"none\";\n                        }\n                    }\n                }\n            }\n\n            /**\n             * extend the line on both ends\n             * @param {Array} line\n             * @param {Number} angle\n             */\n            function getExtendedLine(line, angle, ext) {\n                function extendLine(amount) {\n                    var extension = {\n                        y : amount * Math.sin(angle),\n                        x : amount * Math.cos(angle)\n                    };\n\n                    line[0].y -= extension.y;\n                    line[0].x -= extension.x;\n                    line[1].y += extension.y;\n                    line[1].x += extension.x;\n                }\n\n                // check if inside image\n                extendLine(ext);\n                while (ext > 1 && (!inputImageWrapper.inImageWithBorder(line[0], 0) || !inputImageWrapper.inImageWithBorder(line[1], 0))) {\n                    ext -= Math.ceil(ext/2);\n                    extendLine(-ext);\n                }\n                return line;\n            }\n\n            function getLine(box) {\n                return [{\n                    x : (box[1][0] - box[0][0]) / 2 + box[0][0],\n                    y : (box[1][1] - box[0][1]) / 2 + box[0][1]\n                }, {\n                    x : (box[3][0] - box[2][0]) / 2 + box[2][0],\n                    y : (box[3][1] - box[2][1]) / 2 + box[2][1]\n                }];\n            }\n\n            function tryDecode(line) {\n                var result = null,\n                    i,\n                    barcodeLine = Bresenham.getBarcodeLine(inputImageWrapper, line[0], line[1]);\n\n                if (config.showFrequency) {\n                    ImageDebug.drawPath(line, {x: 'x', y: 'y'}, _canvas.ctx.overlay, {color: 'red', lineWidth: 3});\n                    Bresenham.debug.printFrequency(barcodeLine.line, _canvas.dom.frequency);\n                }\n                Bresenham.toBinaryLine(barcodeLine);\n                if (config.showPattern) {\n                    Bresenham.debug.printPattern(barcodeLine.line, _canvas.dom.pattern);\n                }\n\n                for ( i = 0; i < _barcodeReaders.length && result === null; i++) {\n                    result = _barcodeReaders[i].decodePattern(barcodeLine.line);\n                }\n                if(result === null){\n                    return null;\n                }\n                return {\n                    codeResult: result,\n                    barcodeLine: barcodeLine\n                };\n\n            }\n\n            /**\n             * This method slices the given area apart and tries to detect a barcode-pattern\n             * for each slice. It returns the decoded barcode, or null if nothing was found\n             * @param {Array} box\n             * @param {Array} line\n             * @param {Number} lineAngle\n             */\n            function tryDecodeBruteForce(box, line, lineAngle) {\n                var sideLength = Math.sqrt(Math.pow(box[1][0] - box[0][0], 2) + Math.pow((box[1][1] - box[0][1]), 2)),\n                    i,\n                    slices = 16,\n                    result = null,\n                    dir,\n                    extension,\n                    xdir = Math.sin(lineAngle),\n                    ydir = Math.cos(lineAngle);\n\n                for ( i = 1; i < slices && result === null; i++) {\n                    // move line perpendicular to angle\n                    dir = sideLength / slices * i * (i % 2 === 0 ? -1 : 1);\n                    extension = {\n                        y : dir * xdir,\n                        x : dir * ydir\n                    };\n                    line[0].y += extension.x;\n                    line[0].x -= extension.y;\n                    line[1].y += extension.x;\n                    line[1].x -= extension.y;\n\n                    result = tryDecode(line);\n                }\n                return result;\n            }\n\n            function getLineLength(line) {\n                return Math.sqrt(\n                    Math.pow(Math.abs(line[1].y - line[0].y), 2) +\n                    Math.pow(Math.abs(line[1].x - line[0].x), 2));\n            }\n\n            /**\n             * With the help of the configured readers (Code128 or EAN) this function tries to detect a\n             * valid barcode pattern within the given area.\n             * @param {Object} box The area to search in\n             * @returns {Object} the result {codeResult, line, angle, pattern, threshold}\n             */\n            function decodeFromBoundingBox(box) {\n                var line,\n                    lineAngle,\n                    ctx = _canvas.ctx.overlay,\n                    result,\n                    lineLength;\n\n                if (config.drawBoundingBox && ctx) {\n                    ImageDebug.drawPath(box, {x: 0, y: 1}, ctx, {color: \"blue\", lineWidth: 2});\n                }\n\n                line = getLine(box);\n                lineLength = getLineLength(line);\n                lineAngle = Math.atan2(line[1].y - line[0].y, line[1].x - line[0].x);\n                line = getExtendedLine(line, lineAngle, Math.floor(lineLength*0.1));\n                if(line === null){\n                    return null;\n                }\n\n                result = tryDecode(line);\n                if(result === null) {\n                    result = tryDecodeBruteForce(box, line, lineAngle);\n                }\n\n                if(result === null) {\n                    return null;\n                }\n\n                if (result && config.drawScanline && ctx) {\n                    ImageDebug.drawPath(line, {x: 'x', y: 'y'}, ctx, {color: 'red', lineWidth: 3});\n                }\n\n                return {\n                    codeResult : result.codeResult,\n                    line : line,\n                    angle : lineAngle,\n                    pattern : result.barcodeLine.line,\n                    threshold : result.barcodeLine.threshold\n                };\n            }\n\n            return {\n                decodeFromBoundingBox : function(box) {\n                    return decodeFromBoundingBox(box);\n                },\n                decodeFromBoundingBoxes : function(boxes) {\n                    var i, result;\n                    for ( i = 0; i < boxes.length; i++) {\n                        result = decodeFromBoundingBox(boxes[i]);\n                        if (result && result.codeResult) {\n                            result.box = boxes[i];\n                            return result;\n                        }\n                    }\n                },\n                setReaders: function(readers) {\n                    config.readers = readers;\n                    _barcodeReaders.length = 0;\n                    initReaders();\n                }\n            };\n        }\n    };\n\n    return (BarcodeDecoder);\n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('frame_grabber',[\"cv_utils\"], function(CVUtils) {\n    \"use strict\";\n\n    var FrameGrabber = {};\n\n    FrameGrabber.create = function(inputStream, canvas) {\n        var _that = {},\n            _streamConfig = inputStream.getConfig(),\n            _video_size = CVUtils.imageRef(inputStream.getRealWidth(), inputStream.getRealHeight()),\n            _canvasSize = inputStream.getCanvasSize(),\n            _size = CVUtils.imageRef(inputStream.getWidth(), inputStream.getHeight()),\n            topRight = inputStream.getTopRight(),\n            _sx = topRight.x,\n            _sy = topRight.y,\n            _canvas,\n            _ctx = null,\n            _data = null;\n\n        _canvas = canvas ? canvas : document.createElement(\"canvas\");\n        _canvas.width = _canvasSize.x;\n        _canvas.height = _canvasSize.y;\n        _ctx = _canvas.getContext(\"2d\");\n        _data = new Uint8Array(_size.x * _size.y);\n        console.log(\"FrameGrabber\", JSON.stringify({\n            size: _size,\n            topRight: topRight,\n            videoSize: _video_size,\n            canvasSize: _canvasSize\n        }));\n\n        /**\n         * Uses the given array as frame-buffer \n         */\n        _that.attachData = function(data) {\n            _data = data;\n        };\n\n        /**\n         * Returns the used frame-buffer\n         */\n        _that.getData = function() {\n            return _data;\n        };\n\n        /**\n         * Fetches a frame from the input-stream and puts into the frame-buffer.\n         * The image-data is converted to gray-scale and then half-sampled if configured.\n         */\n        _that.grab = function() {\n            var doHalfSample = _streamConfig.halfSample,\n                frame = inputStream.getFrame(),\n                ctxData;\n            if (frame) {\n                _ctx.drawImage(frame, 0, 0, _canvasSize.x, _canvasSize.y);\n                ctxData = _ctx.getImageData(_sx, _sy, _size.x, _size.y).data;\n                if(doHalfSample){\n                    CVUtils.grayAndHalfSampleFromCanvasData(ctxData, _size, _data);\n                } else {\n                    CVUtils.computeGray(ctxData, _data, _streamConfig);\n                }\n                return true;\n            } else {\n                return false;\n            }\n        };\n\n        _that.getSize = function() {\n            return _size;\n        };\n\n        return _that;\n    };\n\n    return (FrameGrabber);\n});\n\n/**\n * The basic configuration\n */\n\ndefine('config',[],function(){\n  var config = {\n      inputStream: { name: \"Live\",\n          type: \"LiveStream\",\n          constraints: {\n              width: 640,\n              height: 480,\n              minAspectRatio: 0,\n              maxAspectRatio: 100,\n              facing: \"environment\" // or user\n          },\n          area: {\n              top: \"0%\",\n              right: \"0%\",\n              left: \"0%\",\n              bottom: \"0%\"\n          },\n          singleChannel: false // true: only the red color-channel is read\n      },\n      tracking: false,\n      debug: false,\n      controls: false,\n      locate: true,\n      numOfWorkers: 4,\n      visual: {\n        show: true\n      },\n      decoder:{\n        drawBoundingBox: false,\n        showFrequency: false,\n        drawScanline: false,\n        showPattern: false,\n        readers: [\n          'code_128_reader'\n        ]\n      },\n      locator: {\n        halfSample: true,\n        patchSize: \"medium\", // x-small, small, medium, large, x-large\n        showCanvas: false,\n        showPatches: false,\n        showFoundPatches: false,\n        showSkeleton: false,\n        showLabels: false,\n        showPatchLabels: false,\n        showRemainingPatchLabels: false,\n        boxFromPatches: {\n          showTransformed: false,\n          showTransformedBox: false,\n          showBB: false\n        }\n      }\n   };\n\n   return config;\n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('events',[],function() {\n    \"use strict\";\n\n    var _events = function() {\n        var events = {};\n\n        function getEvent(eventName) {\n            if (!events[eventName]) {\n                events[eventName] = {\n                    subscribers : []\n                };\n            }\n            return events[eventName];\n        }\n        \n        function clearEvents(){\n            events = {};\n        }\n\n        function publishSubscription(subscription, data) {\n            if (subscription.async) {\n                setTimeout(function() {\n                    subscription.callback(data);\n                }, 4);\n            } else {\n                subscription.callback(data);\n            }\n        }\n        \n        function subscribe(event, callback, async) {\n            var subscription;\n\n            if ( typeof callback === \"function\") {\n                subscription = {\n                    callback : callback,\n                    async : async\n                };\n            } else {\n                subscription = callback;\n                if (!subscription.callback) {\n                    throw \"Callback was not specified on options\";\n                }\n            }\n\n            getEvent(event).subscribers.push(subscription);\n        }\n\n        return {\n            subscribe : function(event, callback, async) {\n                return subscribe(event, callback, async);\n            },\n            publish : function(eventName, data) {\n                var event = getEvent(eventName),\n                    subscribers = event.subscribers;\n                    \n                event.subscribers = subscribers.filter(function(subscriber) {\n                    publishSubscription(subscriber, data);\n                    return !subscriber.once;\n                });\n            },\n            once: function(event, callback, async) {\n                subscribe(event, {\n                    callback: callback,\n                    async: async,\n                    once: true\n                });\n            },\n            unsubscribe: function(eventName, callback) {\n                var event;\n                \n                if (eventName) {\n                    event = getEvent(eventName);\n                    if (event && callback) {\n                        event.subscribers = event.subscribers.filter(function(subscriber){\n                            return subscriber.callback !== callback;\n                        });\n                    } else {\n                        event.subscribers = [];\n                    }\n                } else {\n                    clearEvents();\n                }\n            }\n        };\n    }();\n\n    return _events;\n}); \n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define, MediaStreamTrack */\n\ndefine('camera_access',[\"html_utils\"], function(HtmlUtils) {\n    \"use strict\";\n    var streamRef,\n        loadedDataHandler;\n\n    /**\n     * Wraps browser-specific getUserMedia\n     * @param {Object} constraints\n     * @param {Object} success Callback\n     * @param {Object} failure Callback\n     */\n    function getUserMedia(constraints, success, failure) {\n        if (typeof navigator.getUserMedia !== 'undefined') {\n            navigator.getUserMedia(constraints, function (stream) {\n                streamRef = stream;\n                var videoSrc = (window.URL && window.URL.createObjectURL(stream)) || stream;\n                success.apply(null, [videoSrc]);\n            }, failure);\n        } else {\n            failure(new TypeError(\"getUserMedia not available\"));\n        }\n    }\n\n    function loadedData(video, callback) {\n        var attempts = 10;\n\n        function checkVideo() {\n            if (attempts > 0) {\n                if (video.videoWidth > 0 && video.videoHeight > 0) {\n                    console.log(video.videoWidth + \"px x \" + video.videoHeight + \"px\");\n                    callback();\n                } else {\n                    window.setTimeout(checkVideo, 500);\n                }\n            } else {\n                callback('Unable to play video stream. Is webcam working?');\n            }\n            attempts--;\n        }\n        checkVideo();\n    }\n\n    /**\n     * Tries to attach the camera-stream to a given video-element\n     * and calls the callback function when the content is ready\n     * @param {Object} constraints\n     * @param {Object} video\n     * @param {Object} callback\n     */\n    function initCamera(constraints, video, callback) {\n        getUserMedia(constraints, function(src) {\n            video.src = src;\n            if (loadedDataHandler) {\n                video.removeEventListener(\"loadeddata\", loadedDataHandler, false);\n            }\n            loadedDataHandler = loadedData.bind(null, video, callback);\n            video.addEventListener('loadeddata', loadedDataHandler, false);\n            video.play();\n        }, function(e) {\n            callback(e);\n        });\n    }\n\n    /**\n     * Normalizes the incoming constraints to satisfy the current browser\n     * @param config\n     * @param cb Callback which is called whenever constraints are created\n     * @returns {*}\n     */\n    function normalizeConstraints(config, cb) {\n        var constraints = {\n                audio: false,\n                video: true\n            },\n            videoConstraints = HtmlUtils.mergeObjects({\n                width: 640,\n                height: 480,\n                minAspectRatio: 0,\n                maxAspectRatio: 100,\n                facing: \"environment\"\n            }, config);\n\n        if ( typeof MediaStreamTrack !== 'undefined' && typeof MediaStreamTrack.getSources !== 'undefined') {\n            MediaStreamTrack.getSources(function(sourceInfos) {\n                var videoSourceId;\n                for (var i = 0; i != sourceInfos.length; ++i) {\n                    var sourceInfo = sourceInfos[i];\n                    if (sourceInfo.kind == \"video\" && sourceInfo.facing == videoConstraints.facing) {\n                        videoSourceId = sourceInfo.id;\n                    }\n                }\n                constraints.video = {\n                    mandatory: {\n                        minWidth: videoConstraints.width,\n                        minHeight: videoConstraints.height,\n                        minAspectRatio: videoConstraints.minAspectRatio,\n                        maxAspectRatio: videoConstraints.maxAspectRatio\n                    },\n                    optional: [{\n                        sourceId: videoSourceId\n                    }]\n                };\n                return cb(constraints);\n            });\n        } else {\n            constraints.video = {\n                mediaSource: \"camera\",\n                width: { min: videoConstraints.width, max: videoConstraints.width },\n                height: { min: videoConstraints.height, max: videoConstraints.height },\n                require: [\"width\", \"height\"]\n            };\n            return cb(constraints);\n        }\n    }\n\n    /**\n     * Requests the back-facing camera of the user. The callback is called\n     * whenever the stream is ready to be consumed, or if an error occures.\n     * @param {Object} video\n     * @param {Object} callback\n     */\n    function request(video, videoConstraints, callback) {\n        normalizeConstraints(videoConstraints, function(constraints) {\n            initCamera(constraints, video, callback);\n        });\n    }\n\n    return {\n        request : function(video, constraints, callback) {\n            request(video, constraints, callback);\n        },\n        release : function() {\n            var tracks = streamRef && streamRef.getVideoTracks();\n            if (tracks.length) {\n                tracks[0].stop();\n            }\n            streamRef = null;\n        }\n    };\n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('result_collector',[\"image_debug\"], function(ImageDebug) {\n    \"use strict\";\n\n    function contains(codeResult, list) {\n        if (list) {\n            return list.some(function (item) {\n                return Object.keys(item).every(function (key) {\n                    return item[key] === codeResult[key];\n                });\n            });\n        }\n        return false;\n    }\n\n    function passesFilter(codeResult, filter) {\n        if (typeof filter === 'function') {\n            return filter(codeResult);\n        }\n        return true;\n    }\n\n    return {\n        create: function(config) {\n            var canvas = document.createElement(\"canvas\"),\n                ctx = canvas.getContext(\"2d\"),\n                results = [],\n                capacity = config.capacity || 20,\n                capture = config.capture === true;\n\n            function matchesConstraints(codeResult) {\n                return capacity && codeResult && !contains(codeResult, config.blacklist) && passesFilter(codeResult, config.filter);\n            }\n\n            return {\n                addResult: function(data, imageSize, codeResult) {\n                    var result = {};\n\n                    if (matchesConstraints(codeResult)) {\n                        capacity--;\n                        result.codeResult = codeResult;\n                        if (capture) {\n                            canvas.width = imageSize.x;\n                            canvas.height = imageSize.y;\n                            ImageDebug.drawImage(data, imageSize, ctx);\n                            result.frame = canvas.toDataURL();\n                        }\n                        results.push(result);\n                    }\n                },\n                getResults: function() {\n                    return results;\n                }\n            };\n        }\n    };\n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true, evil: true */\n/* global define, vec2 */\n\n\ndefine('quagga',[\n        \"input_stream\",\n        \"image_wrapper\",\n        \"barcode_locator\",\n        \"barcode_decoder\",\n        \"frame_grabber\",\n        \"html_utils\",\n        \"config\",\n        \"events\",\n        \"camera_access\",\n        \"image_debug\",\n        \"result_collector\"],\nfunction(InputStream,\n         ImageWrapper,\n         BarcodeLocator,\n         BarcodeDecoder,\n         FrameGrabber,\n         HtmlUtils,\n         _config,\n         Events,\n         CameraAccess,\n         ImageDebug,\n         ResultCollector) {\n    \"use strict\";\n    \n    var _inputStream,\n        _framegrabber,\n        _stopped,\n        _canvasContainer = {\n            ctx : {\n                image : null,\n                overlay : null\n            },\n            dom : {\n                image : null,\n                overlay : null\n            }\n        },\n        _inputImageWrapper,\n        _boxSize,\n        _decoder,\n        _workerPool = [],\n        _onUIThread = true,\n        _resultCollector;\n\n    function initializeData(imageWrapper) {\n        initBuffers(imageWrapper);\n        _decoder = BarcodeDecoder.create(_config.decoder, _inputImageWrapper);\n    }\n\n    function initConfig() {\n        if (typeof document !== \"undefined\") {\n            var vis = [{\n                node: document.querySelector(\"div[data-controls]\"),\n                prop: _config.controls\n            }, {\n                node: _canvasContainer.dom.overlay,\n                prop: _config.visual.show\n            }];\n\n            for (var i = 0; i < vis.length; i++) {\n                if (vis[i].node) {\n                    if (vis[i].prop === true) {\n                        vis[i].node.style.display = \"block\";\n                    } else {\n                        vis[i].node.style.display = \"none\";\n                    }\n                }\n            }\n        }\n    }\n\n    function initInputStream(cb) {\n        var video;\n        if (_config.inputStream.type == \"VideoStream\") {\n            video = document.createElement(\"video\");\n            _inputStream = InputStream.createVideoStream(video);\n        } else if (_config.inputStream.type == \"ImageStream\") {\n            _inputStream = InputStream.createImageStream();\n        } else if (_config.inputStream.type == \"LiveStream\") {\n            var $viewport = document.querySelector(\"#interactive.viewport\");\n            if ($viewport) {\n                video = $viewport.querySelector(\"video\");\n                if (!video) {\n                    video = document.createElement(\"video\");\n                    $viewport.appendChild(video);\n                }\n            }\n            _inputStream = InputStream.createLiveStream(video);\n            CameraAccess.request(video, _config.inputStream.constraints, function(err) {\n                if (!err) {\n                    _inputStream.trigger(\"canrecord\");\n                } else {\n                    return cb(err);\n                }\n            });\n        }\n\n        _inputStream.setAttribute(\"preload\", \"auto\");\n        _inputStream.setAttribute(\"autoplay\", true);\n        _inputStream.setInputStream(_config.inputStream);\n        _inputStream.addEventListener(\"canrecord\", canRecord.bind(undefined, cb));\n    }\n\n    function canRecord(cb) {\n        BarcodeLocator.checkImageConstraints(_inputStream, _config.locator);\n        initCanvas();\n        _framegrabber = FrameGrabber.create(_inputStream, _canvasContainer.dom.image);\n        initConfig();\n\n        if (_config.numOfWorkers > 0) {\n            initWorkers(function() {\n                console.log(\"Workers created\");\n                ready(cb);\n            });\n        } else {\n            initializeData();\n            ready(cb);\n        }\n    }\n\n    function ready(cb){\n        _inputStream.play();\n        cb();\n    }\n\n    function initCanvas() {\n        if (typeof document !== \"undefined\") {\n            var $viewport = document.querySelector(\"#interactive.viewport\");\n            _canvasContainer.dom.image = document.querySelector(\"canvas.imgBuffer\");\n            if (!_canvasContainer.dom.image) {\n                _canvasContainer.dom.image = document.createElement(\"canvas\");\n                _canvasContainer.dom.image.className = \"imgBuffer\";\n                if ($viewport && _config.inputStream.type == \"ImageStream\") {\n                    $viewport.appendChild(_canvasContainer.dom.image);\n                }\n            }\n            _canvasContainer.ctx.image = _canvasContainer.dom.image.getContext(\"2d\");\n            _canvasContainer.dom.image.width = _inputStream.getCanvasSize().x;\n            _canvasContainer.dom.image.height = _inputStream.getCanvasSize().y;\n\n            _canvasContainer.dom.overlay = document.querySelector(\"canvas.drawingBuffer\");\n            if (!_canvasContainer.dom.overlay) {\n                _canvasContainer.dom.overlay = document.createElement(\"canvas\");\n                _canvasContainer.dom.overlay.className = \"drawingBuffer\";\n                if ($viewport) {\n                    $viewport.appendChild(_canvasContainer.dom.overlay);\n                }\n                var clearFix = document.createElement(\"br\");\n                clearFix.setAttribute(\"clear\", \"all\");\n                if ($viewport) {\n                    $viewport.appendChild(clearFix);\n                }\n            }\n            _canvasContainer.ctx.overlay = _canvasContainer.dom.overlay.getContext(\"2d\");\n            _canvasContainer.dom.overlay.width = _inputStream.getCanvasSize().x;\n            _canvasContainer.dom.overlay.height = _inputStream.getCanvasSize().y;\n        }\n    }\n\n    function initBuffers(imageWrapper) {\n        if (imageWrapper) {\n            _inputImageWrapper = imageWrapper;\n        } else {\n            _inputImageWrapper = new ImageWrapper({\n                x : _inputStream.getWidth(),\n                y : _inputStream.getHeight()\n            });\n        }\n\n        console.log(_inputImageWrapper.size);\n        _boxSize = [\n                vec2.create([0, 0]),\n                vec2.create([0, _inputImageWrapper.size.y]),\n                vec2.create([_inputImageWrapper.size.x, _inputImageWrapper.size.y]),\n                vec2.create([_inputImageWrapper.size.x, 0])\n            ];\n        BarcodeLocator.init(_inputImageWrapper, _config.locator);\n    }\n\n    function getBoundingBoxes() {\n        if (_config.locate) {\n            return BarcodeLocator.locate();\n        } else {\n            return [[\n                vec2.create(_boxSize[0]),\n                vec2.create(_boxSize[1]),\n                vec2.create(_boxSize[2]),\n                vec2.create(_boxSize[3])]];\n        }\n    }\n\n    function transformResult(result) {\n        var topRight = _inputStream.getTopRight(),\n            xOffset = topRight.x,\n            yOffset = topRight.y,\n            i;\n\n        if (!result || (xOffset === 0 && yOffset === 0)) {\n            return;\n        }\n\n\n        if (result.line && result.line.length === 2) {\n            moveLine(result.line);\n        }\n        if (result.boxes && result.boxes.length > 0) {\n            for (i = 0; i < result.boxes.length; i++) {\n                moveBox(result.boxes[i]);\n            }\n        }\n\n        function moveBox(box) {\n            var corner = box.length;\n\n            while(corner--) {\n                box[corner][0] += xOffset;\n                box[corner][1] += yOffset;\n            }\n        }\n\n        function moveLine(line) {\n            line[0].x += xOffset;\n            line[0].y += yOffset;\n            line[1].x += xOffset;\n            line[1].y += yOffset;\n        }\n    }\n\n    function publishResult(result, imageData) {\n        if (_onUIThread) {\n            transformResult(result);\n            if (imageData && result && result.codeResult) {\n                if (_resultCollector) {\n                    _resultCollector.addResult(imageData, _inputStream.getCanvasSize(), result.codeResult);\n                }\n            }\n        }\n\n        Events.publish(\"processed\", result);\n        if (result && result.codeResult) {\n            Events.publish(\"detected\", result);\n        }\n    }\n\n    function locateAndDecode() {\n        var result,\n            boxes;\n\n        boxes = getBoundingBoxes();\n        if (boxes) {\n            result = _decoder.decodeFromBoundingBoxes(boxes);\n            result = result || {};\n            result.boxes = boxes;\n            publishResult(result, _inputImageWrapper.data);\n        } else {\n            publishResult();\n        }\n    }\n\n    function update() {\n        var availableWorker;\n\n        if (_onUIThread) {\n            if (_workerPool.length > 0) {\n                availableWorker = _workerPool.filter(function(workerThread) {\n                    return !workerThread.busy;\n                })[0];\n                if (availableWorker) {\n                    _framegrabber.attachData(availableWorker.imageData);\n                } else {\n                    return; // all workers are busy\n                }\n            } else {\n                _framegrabber.attachData(_inputImageWrapper.data);\n            }\n            if (_framegrabber.grab()) {\n                if (availableWorker) {\n                    availableWorker.busy = true;\n                    availableWorker.worker.postMessage({\n                        cmd: 'process',\n                        imageData: availableWorker.imageData\n                    }, [availableWorker.imageData.buffer]);\n                } else {\n                    locateAndDecode();\n                }\n            }\n        } else {\n            locateAndDecode();\n        }\n    }\n\n    function start() {\n        _stopped = false;\n        ( function frame() {\n            if (!_stopped) {\n                update();\n                if (_onUIThread && _config.inputStream.type == \"LiveStream\") {\n                    window.requestAnimFrame(frame);\n                }\n            }\n        }());\n    }\n\n    function initWorkers(cb) {\n        var i;\n        _workerPool = [];\n\n        for (i = 0; i < _config.numOfWorkers; i++) {\n            initWorker(workerInitialized);\n        }\n\n        function workerInitialized(workerThread) {\n            _workerPool.push(workerThread);\n            if (_workerPool.length >= _config.numOfWorkers){\n                cb();\n            }\n        }\n    }\n\n    function initWorker(cb) {\n        var blobURL,\n            workerThread = {\n                worker: undefined,\n                imageData: new Uint8Array(_inputStream.getWidth() * _inputStream.getHeight()),\n                busy: true\n            };\n\n        blobURL = generateWorkerBlob();\n        workerThread.worker = new Worker(blobURL);\n\n        workerThread.worker.onmessage = function(e) {\n            if (e.data.event === 'initialized') {\n                URL.revokeObjectURL(blobURL);\n                workerThread.busy = false;\n                workerThread.imageData = new Uint8Array(e.data.imageData);\n                console.log(\"Worker initialized\");\n                return cb(workerThread);\n            } else if (e.data.event === 'processed') {\n                workerThread.imageData = new Uint8Array(e.data.imageData);\n                workerThread.busy = false;\n                publishResult(e.data.result, workerThread.imageData);\n            } else if (e.data.event === 'error') {\n                console.log(\"Worker error: \" + e.data.message);\n            }\n        };\n\n        workerThread.worker.postMessage({\n            cmd: 'init',\n            size: {x: _inputStream.getWidth(), y: _inputStream.getHeight()},\n            imageData: workerThread.imageData,\n            config: _config\n        }, [workerThread.imageData.buffer]);\n    }\n\n\n    function workerInterface(factory) {\n        if (factory) {\n            /* jshint ignore:start */\n            var Quagga = factory();\n            if (!Quagga) {\n                self.postMessage({'event': 'error', message: 'Quagga could not be created'});\n                return;\n            }\n            /* jshint ignore:end */\n        }\n        /* jshint ignore:start */\n        var imageWrapper;\n\n        self.onmessage = function(e) {\n            if (e.data.cmd === 'init') {\n                var config = e.data.config;\n                config.numOfWorkers = 0;\n                imageWrapper = new Quagga.ImageWrapper({\n                    x : e.data.size.x,\n                    y : e.data.size.y\n                }, new Uint8Array(e.data.imageData));\n                Quagga.init(config, ready, imageWrapper);\n                Quagga.onProcessed(onProcessed);\n            } else if (e.data.cmd === 'process') {\n                imageWrapper.data = new Uint8Array(e.data.imageData);\n                Quagga.start();\n            } else if (e.data.cmd === 'setReaders') {\n                Quagga.setReaders(e.data.readers);\n            }\n        };\n\n        function onProcessed(result) {\n            self.postMessage({'event': 'processed', imageData: imageWrapper.data, result: result}, [imageWrapper.data.buffer]);\n        }\n\n        function ready() {\n            self.postMessage({'event': 'initialized', imageData: imageWrapper.data}, [imageWrapper.data.buffer]);\n        }\n        /* jshint ignore:end */\n    }\n\n    function generateWorkerBlob() {\n        var blob,\n            factorySource;\n\n        /* jshint ignore:start */\n        if (typeof __factorySource__ !== 'undefined') {\n            factorySource = __factorySource__;\n        }\n        /* jshint ignore:end */\n\n        blob = new Blob(['(' + workerInterface.toString() + ')(' + factorySource + ');'],\n            {type : 'text/javascript'});\n\n        return window.URL.createObjectURL(blob);\n    }\n\n    function setReaders(readers) {\n        if (_decoder) {\n            _decoder.setReaders(readers);\n        } else if (_onUIThread && _workerPool.length > 0) {\n            _workerPool.forEach(function(workerThread) {\n                workerThread.worker.postMessage({cmd: 'setReaders', readers: readers});\n            });\n        }\n    }\n\n    return {\n        init : function(config, cb, imageWrapper) {\n            _config = HtmlUtils.mergeObjects(_config, config);\n            if (imageWrapper) {\n                _onUIThread = false;\n                initializeData(imageWrapper);\n                return cb();\n            } else {\n                initInputStream(cb);\n            }\n        },\n        start : function() {\n            start();\n        },\n        stop : function() {\n            _stopped = true;\n            _workerPool.forEach(function(workerThread) {\n                workerThread.worker.terminate();\n                console.log(\"Worker terminated!\");\n            });\n            _workerPool.length = 0;\n            if (_config.inputStream.type === \"LiveStream\") {\n                CameraAccess.release();\n                _inputStream.clearEventHandlers();\n            }\n        },\n        pause: function() {\n            _stopped = true;\n        },\n        onDetected : function(callback) {\n            Events.subscribe(\"detected\", callback);\n        },\n        offDetected: function(callback) {\n            Events.unsubscribe(\"detected\", callback);\n        },\n        onProcessed: function(callback) {\n            Events.subscribe(\"processed\", callback);\n        },\n        offProcessed: function(callback) {\n            Events.unsubscribe(\"processed\", callback);\n        },\n        setReaders: function(readers) {\n            setReaders(readers);\n        },\n        registerResultCollector: function(resultCollector) {\n            if (resultCollector && typeof resultCollector.addResult === 'function') {\n                _resultCollector = resultCollector;\n            }\n        },\n        canvas : _canvasContainer,\n        decodeSingle : function(config, resultCallback) {\n            config = HtmlUtils.mergeObjects({\n                inputStream: {\n                    type : \"ImageStream\",\n                    sequence : false,\n                    size: 800,\n                    src: config.src\n                },\n                numOfWorkers: 1,\n                locator: {\n                    halfSample: false\n                }\n            }, config);\n            this.init(config, function() {\n                Events.once(\"processed\", function(result) {\n                    _stopped = true;\n                    resultCallback.call(null, result);\n                }, true);\n                start();\n            });\n        },\n        ImageWrapper: ImageWrapper,\n        ImageDebug: ImageDebug,\n        ResultCollector: ResultCollector\n    };\n});\n\n    return require('quagga');\n}));"],"names":[],"mappings":"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AG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oBAClB;wBAAC;wBAAG;wBAAG;wBAAG;wBAAG;wBAAG;qBAAE;oB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","ignoreList":[0]}}]
}