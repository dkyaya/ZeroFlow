{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/joachimjohnson/Documents/comp-sci/ZeroFlow/app/dashboard/page.jsx"],"sourcesContent":["// app/dashboard/page.jsx\n// Redesigned Dashboard (Production-Style)\n// Includes greeting, date, modular cards, workouts, and reordering UI.\n\nimport Link from \"next/link\";\n\n// Fetch summary + user info server-side\nasync function getSummary() {\n  const res = await fetch(\"http://localhost:3000/api/summary/route\", {\n    cache: \"no-store\",\n  });\n\n  if (!res.ok) {\n    return {\n      user: { firstName: \"User\", preferredName: null },\n      caloriesTarget: 0,\n      caloriesConsumed: 0,\n      foods: [],\n      workouts: [],\n    };\n  }\n\n  return res.json();\n}\n\nexport default async function DashboardPage() {\n  const summary = await getSummary();\n  const { user, caloriesTarget, caloriesConsumed, foods, workouts } = summary;\n\n  // Greeting logic\n  const name =\n    user?.preferredName?.trim() ||\n    user?.firstName?.trim() ||\n    \"friend\";\n\n  // Date string\n  const today = new Date().toLocaleDateString(\"en-US\", {\n    weekday: \"long\",\n    month: \"short\",\n    day: \"numeric\",\n  });\n\n  const remaining = Math.max(caloriesTarget - caloriesConsumed, 0);\n\n  return (\n    <main className=\"min-h-screen bg-slate-50 text-slate-900\">\n\n      {/* --------------------------------------------------------- */}\n      {/* NAVBAR */}\n      {/* --------------------------------------------------------- */}\n      <nav className=\"w-full flex items-center justify-between px-8 py-4 bg-white shadow-sm\">\n        <div>\n          {/* Logo + Brand (Click → refresh dashboard) */}\n          <Link href=\"/dashboard\">\n            <span className=\"text-2xl font-bold hover:text-blue-700 transition cursor-pointer\">\n              ZeroFlow\n            </span>\n          </Link>\n        </div>\n\n        <div className=\"text-sm text-slate-500\">{today}</div>\n      </nav>\n\n\n      {/* --------------------------------------------------------- */}\n      {/* GREETING */}\n      {/* --------------------------------------------------------- */}\n      <section className=\"mt-10 flex flex-col items-center\">\n        <h1 className=\"text-3xl font-semibold text-slate-900\">\n          Hello, {name}.\n        </h1>\n        <p className=\"text-slate-500 mt-1\">Here’s your day at a glance.</p>\n      </section>\n\n\n      {/* --------------------------------------------------------- */}\n      {/* CARDS GRID */}\n      {/* For now: static layout. Later → user-configurable. */}\n      {/* --------------------------------------------------------- */}\n      <section className=\"grid grid-cols-1 md:grid-cols-2 gap-6 px-8 mt-12\">\n\n        {/* CALORIES CARD */}\n        <div className=\"bg-white shadow-lg rounded-xl p-6 border border-slate-100\">\n          <h2 className=\"text-xl font-semibold mb-3\">Daily Calories</h2>\n          <p className=\"text-slate-700\">\n            <span className=\"font-medium\">Target:</span> {caloriesTarget} cal\n          </p>\n          <p className=\"text-slate-700\">\n            <span className=\"font-medium\">Consumed:</span> {caloriesConsumed} cal\n          </p>\n          <p\n            className={`font-medium mt-2 ${\n              remaining === 0 ? \"text-red-600\" : \"text-green-700\"\n            }`}\n          >\n            Remaining: {remaining} cal\n          </p>\n        </div>\n\n\n        {/* FOODS CARD */}\n        <div className=\"bg-white shadow-lg rounded-xl p-6 border border-slate-100\">\n          <h2 className=\"text-xl font-semibold mb-4\">Foods Today</h2>\n\n          {foods.length === 0 ? (\n            <p className=\"text-slate-600 text-sm\">No foods logged yet.</p>\n          ) : (\n            <ul className=\"flex flex-col gap-3\">\n              {foods.map((food, idx) => (\n                <li\n                  key={idx}\n                  className=\"flex justify-between border-b pb-2 text-slate-700\"\n                >\n                  <span>{food.name}</span>\n                  <span>{food.calories} cal</span>\n                </li>\n              ))}\n            </ul>\n          )}\n\n          <Link\n            href=\"/food/log\"\n            className=\"inline-block mt-6 text-blue-700 hover:underline\"\n          >\n            Log Food →\n          </Link>\n        </div>\n\n\n        {/* WORKOUTS CARD */}\n        <div className=\"bg-white shadow-lg rounded-xl p-6 border border-slate-100\">\n          <h2 className=\"text-xl font-semibold mb-4\">Workouts</h2>\n\n          {workouts.length === 0 ? (\n            <p className=\"text-slate-600 text-sm\">No workouts logged yet.</p>\n          ) : (\n            <ul className=\"flex flex-col gap-3\">\n              {workouts.map((w, idx) => (\n                <li\n                  key={idx}\n                  className=\"flex justify-between border-b pb-2 text-slate-700\"\n                >\n                  <span>{w.type} · {w.duration} min</span>\n                  <span className=\"text-green-700\">{w.caloriesBurned} cal</span>\n                </li>\n              ))}\n            </ul>\n          )}\n\n          <Link\n            href=\"/workout/log\"\n            className=\"inline-block mt-6 text-blue-700 hover:underline\"\n          >\n            Log Workout →\n          </Link>\n        </div>\n\n      </section>\n\n\n      {/* --------------------------------------------------------- */}\n      {/* REORDER LAYOUT BUTTON */}\n      {/* (future: store in DB; now: placeholder) */}\n      {/* --------------------------------------------------------- */}\n      <button\n        className=\"\n          fixed bottom-6 right-6 rounded-full w-12 h-12 bg-blue-700 \n          text-white shadow-lg hover:bg-blue-800 \n          flex items-center justify-center text-xl\n        \"\n        title=\"Reorder Dashboard\"\n      >\n        ⠿\n      </button>\n\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}