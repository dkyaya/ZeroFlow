{"version":3,"sources":["../../../../app/dashboard/page.jsx"],"sourcesContent":["// app/dashboard/page.jsx\n// Dashboard page for ZeroFlow (Final Project Version)\n// Displays:\n// - Total calorie target\n// - Calories consumed\n// - Remaining calories\n// - Foods logged today\n// Uses a simple fetch to the summary API (no auth yet).\n\nasync function getSummary() {\n  // Fetch daily summary from the API.\n  // cache: \"no-store\" ensures fresh data on each load.\n  const res = await fetch(\"http://localhost:3000/api/summary\", {\n    cache: \"no-store\",\n  });\n\n  // If API fails, return safe defaults.\n  if (!res.ok) {\n    return {\n      caloriesTarget: 0,\n      caloriesConsumed: 0,\n      foods: [],\n    };\n  }\n\n  return res.json();\n}\n\nexport default async function DashboardPage() {\n  // Load summary data\n  const summary = await getSummary();\n  const { caloriesTarget, caloriesConsumed, foods } = summary;\n\n  // Remaining calories (never negative)\n  const remaining = Math.max(caloriesTarget - caloriesConsumed, 0);\n\n  return (\n    <main className=\"min-h-screen bg-gray-50 px-6 py-10\">\n      <h1 className=\"text-3xl font-semibold text-blue-700 mb-8\">\n        Your Dashboard\n      </h1>\n\n      {/* ----- CALORIE SUMMARY CARD ----- */}\n      <div className=\"bg-white shadow-md rounded-xl p-6 max-w-xl mb-10\">\n        <h2 className=\"text-xl font-medium mb-4\">Today's Summary</h2>\n\n        <div className=\"flex flex-col gap-2 text-gray-700\">\n          <p>\n            <span className=\"font-semibold\">Target:</span>{\" \"}\n            {caloriesTarget} calories\n          </p>\n          <p>\n            <span className=\"font-semibold\">Consumed:</span>{\" \"}\n            {caloriesConsumed} calories\n          </p>\n          <p>\n            <span\n              className={`font-semibold ${\n                remaining === 0 ? \"text-red-600\" : \"text-green-700\"\n              }`}\n            >\n              Remaining:\n            </span>{\" \"}\n            {remaining} calories\n          </p>\n        </div>\n      </div>\n\n      {/* ----- TODAY'S FOOD LOG SECTION ----- */}\n      <div className=\"bg-white shadow-md rounded-xl p-6 max-w-xl\">\n        <h2 className=\"text-xl font-medium mb-4\">Foods Logged Today</h2>\n\n        {foods.length === 0 ? (\n          <p className=\"text-gray-600 text-sm\">No foods logged yet.</p>\n        ) : (\n          <ul className=\"flex flex-col gap-3\">\n            {foods.map((item, idx) => (\n              <li\n                key={idx}\n                className=\"flex justify-between border-b pb-2 text-gray-700\"\n              >\n                <span>{item.name}</span>\n                <span>{item.calories} cal</span>\n              </li>\n            ))}\n          </ul>\n        )}\n\n        {/* TODO: Add /food/log/page.jsx to make this real */}\n        <a\n          href=\"/food/log\"\n          className=\"mt-6 inline-block text-blue-600 hover:underline\"\n        >\n          Log a Food â†’\n        </a>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"qVASA,eAAe,IAGb,IAAM,EAAM,MAAM,MAAM,oCAAqC,CAC3D,MAAO,UACT,UAGA,AAAK,EAAI,EAAL,AAAO,CAQJ,CARM,CAQF,IAAI,GAPN,CACL,eAAgB,EAChB,iBAAkB,EAClB,MAAO,EAAE,AACX,CAIJ,CAEe,eAAe,IAG5B,GAAM,gBAAE,CAAc,kBAAE,CAAgB,OAAE,CAAK,CAAE,CADjC,EACoC,IAD9B,IAIhB,EAAY,KAAK,GAAG,CAAC,EAAiB,EAAkB,GAE9D,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,+CACd,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qDAA4C,mBAK1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oCAA2B,oBAEzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,YAAe,IAC9C,EAAe,eAElB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,cAAiB,IAChD,EAAiB,eAEpB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAW,CAAC,cAAc,EACV,IAAd,EAAkB,eAAiB,iBAAA,CACnC,UACH,eAEO,IACP,EAAU,qBAMjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oCAA2B,uBAExC,AAAiB,MAAX,MAAM,CACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,yBAErC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+BACX,EAAM,GAAG,CAAC,CAAC,EAAM,IAChB,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAEC,UAAU,6DAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAK,IAAI,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAM,EAAK,QAAQ,CAAC,YAJhB,MAWb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,KAAK,YACL,UAAU,2DACX,sBAMT"}